import{h as b,b as H,i as q,b5 as de,c as _e,E as ge,b6 as ve,g as he,d as be,s as B,f as U,W as ye,ar as te,b7 as se,aj as V,a4 as ae,j as $,aB as pe,b8 as me,b9 as ke,K as Ae,L as G,N as Se,ba as we,m as C,bb as Te,bc as Ee,bd as Ne,q as Pe,be as Ce,bf as Le,bg as Oe,bh as xe,bi as Ie,v as F,w as ie,y as K,p as Me,a as je,B as Re,z as Be,u as Y,T as L,k as De,A as ze,J as We,bj as qe}from"./CzM_H10X.js";import{s as J}from"./BW5xtwr9.js";import{b as Ue,e as Ge,a as Z,c as He}from"./CQkslu6P.js";import{i as Ve}from"./CLX796lQ.js";import{t as $e,c as Fe,s as Ke,e as Ye,i as Je}from"./CGOCP0_5.js";import{b as R,i as Ze,c as Qe,f as Xe,d as et,n as tt,g as st}from"./C_B3uCM3.js";import{B as at,l as Q,p as P}from"./DVrx_Uw8.js";function it(e,t,s,a,i){b&&H();var n=t.$$slots?.[s],l=!1;n===!0&&(n=t.children,l=!0),n===void 0||n(e,l?()=>a:a)}function rt(e,t,s,a,i,n){let l=b;b&&H();var r=null;b&&q.nodeType===de&&(r=q,H());var f=b?q:e,d=new at(f,!1);_e(()=>{const v=t()||null;var k=ve;if(v===null){d.ensure(null,null),R(!0);return}return d.ensure(v,u=>{if(v){if(r=b?r:document.createElementNS(k,v),Ue(r,r),a){b&&Ze(v)&&r.append(document.createComment(""));var A=b?he(r):r.appendChild(be());b&&(A===null?B(!1):U(A)),a(r,A)}ye.nodes.end=r,u.before(r)}b&&U(u)}),R(!0),()=>{v&&R(!1)}},ge),te(()=>{R(!0)}),l&&(B(!0),U(f))}function nt(e,t){var s=void 0,a;se(()=>{s!==(s=t())&&(a&&(V(a),a=null),s&&(a=ae(()=>{$(()=>s(e))})))})}function lt(e,t,s,a,i,n){var l=e.__className;if(b||l!==s||l===void 0){var r=$e(s,a,n);(!b||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):t?e.className=r:e.setAttribute("class",r)),e.__className=s}else if(n&&i!==n)for(var f in n){var d=!!n[f];(i==null||d!==!!i[f])&&e.classList.toggle(f,d)}return n}function D(e,t,s=!1){if(e.multiple){if(t==null)return;if(!pe(t))return me();for(var a of e.options)a.selected=t.includes(I(a));return}for(a of e.options){var i=I(a);if(ke(i,t)){a.selected=!0;return}}(!s||t!==void 0)&&(e.selectedIndex=-1)}function re(e){var t=new MutationObserver(()=>{D(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),te(()=>{t.disconnect()})}function kt(e,t,s=t){var a=new WeakSet,i=!0;Ae(e,"change",n=>{var l=n?"[selected]":":checked",r;if(e.multiple)r=[].map.call(e.querySelectorAll(l),I);else{var f=e.querySelector(l)??e.querySelector("option:not([disabled])");r=f&&I(f)}s(r),G!==null&&a.add(G)}),$(()=>{var n=t();if(e===document.activeElement){var l=Se??G;if(a.has(l))return}if(D(e,n,i),i&&n===void 0){var r=e.querySelector(":checked");r!==null&&(n=I(r),s(n))}e.__value=n,i=!1}),re(e)}function I(e){return"__value"in e?e.__value:e.value}const O=Symbol("class"),x=Symbol("style"),ne=Symbol("is custom element"),le=Symbol("is html");function ot(e){if(b){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;z(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;z(e,"checked",null),e.checked=i}}};e.__on_r=s,Pe(s),Ce()}}function At(e,t){var s=W(e);s.value===(s.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function St(e,t){var s=W(e);s.checked!==(s.checked=t??void 0)&&(e.checked=t)}function ct(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function z(e,t,s,a){var i=W(e);b&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=s)&&(t==="loading"&&(e[xe]=s),s==null?e.removeAttribute(t):typeof s!="string"&&oe(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function ut(e,t,s,a,i=!1,n=!1){if(b&&i&&e.tagName==="INPUT"){var l=e,r=l.type==="checkbox"?"defaultChecked":"defaultValue";r in s||ot(l)}var f=W(e),d=f[ne],v=!f[le];let k=b&&d;k&&B(!1);var u=t||{},A=e.tagName==="OPTION";for(var y in t)y in s||(s[y]=null);s.class?s.class=Fe(s.class):s[O]&&(s.class=null),s[x]&&(s.style??=null);var S=oe(e);for(const o in s){let c=s[o];if(A&&o==="value"&&c==null){e.value=e.__value="",u[o]=c;continue}if(o==="class"){var w=e.namespaceURI==="http://www.w3.org/1999/xhtml";lt(e,w,c,a,t?.[O],s[O]),u[o]=c,u[O]=s[O];continue}if(o==="style"){Ke(e,c,t?.[x],s[x]),u[o]=c,u[x]=s[x];continue}var _=u[o];if(!(c===_&&!(c===void 0&&e.hasAttribute(o)))){u[o]=c;var M=o[0]+o[1];if(M!=="$$")if(M==="on"){const m={},N="$$"+o;let p=o.slice(2);var E=st(p);if(Qe(p)&&(p=p.slice(0,-7),m.capture=!0),!E&&_){if(c!=null)continue;e.removeEventListener(p,u[N],m),u[N]=null}if(c!=null)if(E)e[`__${p}`]=c,et([p]);else{let ue=function(fe){u[o].call(this,fe)};u[N]=Xe(p,e,ue,m)}else E&&(e[`__${p}`]=void 0)}else if(o==="style")z(e,o,c);else if(o==="autofocus")Ee(e,!!c);else if(!d&&(o==="__value"||o==="value"&&c!=null))e.value=e.__value=c;else if(o==="selected"&&A)ct(e,c);else{var h=o;v||(h=tt(h));var j=h==="defaultValue"||h==="defaultChecked";if(c==null&&!d&&!j)if(f[o]=null,h==="value"||h==="checked"){let m=e;const N=t===void 0;if(h==="value"){let p=m.defaultValue;m.removeAttribute(h),m.defaultValue=p,m.value=m.__value=N?p:null}else{let p=m.defaultChecked;m.removeAttribute(h),m.defaultChecked=p,m.checked=N?p:!1}}else e.removeAttribute(o);else j||S.includes(h)&&(d||typeof c!="string")?(e[h]=c,h in f&&(f[h]=Ne)):typeof c!="function"&&z(e,h,c)}}}return k&&B(!0),u}function X(e,t,s=[],a=[],i=[],n,l=!1,r=!1){we(i,s,a,f=>{var d=void 0,v={},k=e.nodeName==="SELECT",u=!1;if(se(()=>{var y=t(...f.map(C)),S=ut(e,d,y,n,l,r);u&&k&&"value"in y&&D(e,y.value);for(let _ of Object.getOwnPropertySymbols(v))y[_]||V(v[_]);for(let _ of Object.getOwnPropertySymbols(y)){var w=y[_];_.description===Te&&(!d||w!==d[_])&&(v[_]&&V(v[_]),v[_]=ae(()=>nt(e,()=>w))),S[_]=w}d=S}),k){var A=e;$(()=>{D(A,d.value,!0),re(A)})}u=!0})}function W(e){return e.__attributes??={[ne]:e.nodeName.includes("-"),[le]:e.namespaceURI===Le}}var ee=new Map;function oe(e){var t=e.getAttribute("is")||e.nodeName,s=ee.get(t);if(s)return s;ee.set(t,s=[]);for(var a,i=e,n=Element.prototype;n!==i;){a=Ie(i);for(var l in a)a[l].set&&s.push(l);i=Oe(i)}return s}const ce=[{name:"Zinc",class:"bg-zinc-500",hex:"#71717a"},{name:"Red",class:"bg-red-600",hex:"#dc2626"},{name:"Orange",class:"bg-orange-600",hex:"#ea580c"},{name:"Amber",class:"bg-amber-500",hex:"#f59e0b"},{name:"Green",class:"bg-green-600",hex:"#16a34a"},{name:"Emerald",class:"bg-emerald-500",hex:"#10b981"},{name:"Teal",class:"bg-teal-500",hex:"#14b8a6"},{name:"Cyan",class:"bg-cyan-500",hex:"#06b6d4"},{name:"Blue",class:"bg-blue-600",hex:"#2563eb"},{name:"Indigo",class:"bg-indigo-600",hex:"#4f46e5"},{name:"Violet",class:"bg-violet-600",hex:"#7c3aed"},{name:"Purple",class:"bg-purple-600",hex:"#9333ea"},{name:"Fuchsia",class:"bg-fuchsia-600",hex:"#c026d3"},{name:"Pink",class:"bg-pink-600",hex:"#db2777"},{name:"Rose",class:"bg-rose-600",hex:"#e11d48"}],T={calls_types:[{id:1,label:"Open Call"},{id:2,label:"Residency"},{id:3,label:"Grant"},{id:4,label:"Job Offer"},{id:5,label:"Other"}],project_types:[],task_types:[{id:"1",label:"Design",color:"bg-purple-600"},{id:"2",label:"Dev",color:"bg-indigo-600"},{id:"3",label:"Admin",color:"bg-zinc-500"}],notes_types:ce.map((e,t)=>({id:t,color:e.hex})),global_types:{accent:"bg-indigo-600",transition_duration:200},daily_type:{work:[],study:[],culture:[],art:[],music:[],exercise:[],leisure:[]}};class ft{#e=F(ie(T));get settings(){return C(this.#e)}set settings(t){K(this.#e,t,!0)}#t=F(!0);get isLoading(){return C(this.#t)}set isLoading(t){K(this.#t,t,!0)}initPromise=null;constructor(){}async init(){if(this.initPromise)return this.initPromise;this.initPromise=this._doInit();try{await this.initPromise}finally{this.initPromise=null}}async _doInit(){this.isLoading=!0;const{data:t,error:s}=await J.from("globalSettings").select("*").order("id",{ascending:!1}).limit(1).single();t?this.settings={id:t.id,calls_types:t.calls_types||T.calls_types,project_types:t.project_types||T.project_types,task_types:t.task_types||T.task_types,notes_types:t.notes_types||T.notes_types,global_types:t.global_types||T.global_types,daily_type:t.daily_type||T.daily_type}:s&&s.code!=="PGRST116"?console.error("Error fetching settings:",s):this.saveSettings(),this.isLoading=!1}async saveSettings(){const t={calls_types:this.settings.calls_types,project_types:this.settings.project_types,task_types:this.settings.task_types,notes_types:this.settings.notes_types,global_types:this.settings.global_types,daily_type:this.settings.daily_type},{data:s,error:a}=await J.from("globalSettings").insert(t).select().single();a?console.error("Error creating settings:",a):s&&(this.settings.id=s.id)}getCallTypeLabel(t){return t&&this.settings.calls_types.find(s=>s.id==t)?.label||"Unknown"}getProjectType(t){if(t!==null)return this.settings.project_types.find(s=>s.id==t)}getTaskType(t){if(t)return this.settings.task_types.find(s=>s.id==t)}getAccentHex(){const t=this.settings.global_types.accent;return ce.find(a=>a.class===t)?.hex||"#4f46e5"}getAccentLightHex(){const t=this.getAccentHex();return this.lightenColor(t,.3)}getTransitionDuration(){return this.settings.global_types.transition_duration??200}lightenColor(t,s){const a=parseInt(t.replace("#",""),16),i=Math.min(255,Math.floor((a>>16)+(255-(a>>16))*s)),n=Math.min(255,Math.floor((a>>8&255)+(255-(a>>8&255))*s)),l=Math.min(255,Math.floor((a&255)+(255-(a&255))*s));return`#${(i<<16|n<<8|l).toString(16).padStart(6,"0")}`}}const wt=new ft,g=ie({isOpen:!1,message:"",title:"Alert",type:"alert",confirmText:"Confirm",cancelText:"Cancel",isDestructive:!1,resolvePromise:null});function Tt(e,t="Alert"){g.message=e,g.title=t,g.type="alert",g.isOpen=!0,g.resolvePromise=null}function Et(e,t="Confirm",s={}){return g.message=e,g.title=t,g.type="confirm",g.confirmText=s.confirmText??"Confirm",g.cancelText=s.cancelText??"Cancel",g.isDestructive=s.isDestructive??!1,g.isOpen=!0,new Promise(a=>{g.resolvePromise=a})}function Nt(e=!1){g.isOpen=!1,g.resolvePromise&&(g.resolvePromise(e),g.resolvePromise=null)}const dt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var _t=Ge("<svg><!><!></svg>");function Pt(e,t){const s=Q(t,["children","$$slots","$$events","$$legacy"]),a=Q(s,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Me(t,!1);let i=P(t,"name",8,void 0),n=P(t,"color",8,"currentColor"),l=P(t,"size",8,24),r=P(t,"strokeWidth",8,2),f=P(t,"absoluteStrokeWidth",8,!1),d=P(t,"iconNode",24,()=>[]);const v=(...y)=>y.filter((S,w,_)=>!!S&&_.indexOf(S)===w).join(" ");Ve();var k=_t();X(k,(y,S)=>({...dt,...a,width:l(),height:l(),stroke:n(),"stroke-width":y,class:S}),[()=>(L(f()),L(r()),L(l()),Y(()=>f()?Number(r())*24/Number(l()):r())),()=>(L(i()),L(s),Y(()=>v("lucide-icon","lucide",i()?`lucide-${i()}`:"",s.class)))]);var u=Be(k);Ye(u,1,d,Je,(y,S)=>{var w=We(()=>qe(C(S),2));let _=()=>C(w)[0],M=()=>C(w)[1];var E=He(),h=De(E);rt(h,_,!0,(j,o)=>{X(j,()=>({...M()}))}),Z(y,E)});var A=Re(u);it(A,t,"default",{}),ze(k),Z(e,k),je()}export{Pt as I,ce as P,wt as a,kt as b,Tt as c,g as d,lt as e,z as f,Et as g,At as h,St as i,Nt as j,ot as r,it as s};
