import{h as S,b as J,W as z,E as le,b3 as Ee,a$ as Ce,j as G,u as Z,b4 as Pe,aW as Le,q as fe,J as x,am as ce,b5 as Oe,b6 as Ie,i as V,b7 as xe,c as Me,b8 as $e,g as Re,d as je,s as F,f as K,an as ue,b9 as de,ae as Q,$ as ve,ax as Be,ba as ze,bb as Fe,K as We,L as Y,N as De,bc as Ue,m as I,bd as qe,be as Ge,bf as He,bg as Ve,bh as Ke,bi as Ye,bj as Je,bk as Ze,v as te,w as _e,y as se,p as Qe,a as Xe,B as et,z as tt,T as M,k as he,A as st,I as at,bl as rt}from"./BWAAnFQE.js";import{s as ae}from"./BW5xtwr9.js";import{b as it,e as nt,a as X,c as ge}from"./Blua9Muq.js";import{i as ot}from"./B5eWTv3U.js";import{B as lt,l as ee,p as O,s as ft}from"./hg7ngHtp.js";import{t as ct,c as ut,s as dt,e as vt,i as _t}from"./wCmp37z_.js";import{a as ht,i as gt,b as B,c as pt,f as bt,d as yt,n as mt,g as kt}from"./B5UJqv3b.js";function pe(e,t,s,a,i){S&&J();var r=t.$$slots?.[s],n=!1;r===!0&&(r=t.children,n=!0),r===void 0||r(e,n?()=>a:a)}const wt=()=>performance.now(),C={tick:e=>requestAnimationFrame(e),now:()=>wt(),tasks:new Set};function be(){const e=C.now();C.tasks.forEach(t=>{t.c(e)||(C.tasks.delete(t),t.f())}),C.tasks.size!==0&&C.tick(be)}function At(e){let t;return C.tasks.size===0&&C.tick(be),{promise:new Promise(s=>{C.tasks.add(t={c:e,f:s})}),abort(){C.tasks.delete(t)}}}function W(e,t){ce(()=>{e.dispatchEvent(new CustomEvent(t))})}function St(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function re(e){const t={},s=e.split(";");for(const a of s){const[i,r]=a.split(":");if(!i||r===void 0)break;const n=St(i.trim());t[n]=r.trim()}return t}const Tt=e=>e;let ye=null;function ie(e){ye=e}function Ut(e,t,s){var a=ye??z,i=a.nodes,r,n,o,c=null;i.a??={element:e,measure(){r=this.element.getBoundingClientRect()},apply(){if(o?.abort(),n=this.element.getBoundingClientRect(),r.left!==n.left||r.right!==n.right||r.top!==n.top||r.bottom!==n.bottom){const f=t()(this.element,{from:r,to:n},s?.());o=D(this.element,f,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:f,width:b,height:g}=getComputedStyle(e);if(f!=="absolute"&&f!=="fixed"){var l=e.style;c={position:l.position,width:l.width,height:l.height,transform:l.transform},l.position="absolute",l.width=b,l.height=g;var p=e.getBoundingClientRect();if(r.left!==p.left||r.top!==p.top){var u=`translate(${r.left-p.left}px, ${r.top-p.top}px)`;l.transform=l.transform?`${l.transform} ${u}`:u}}}},unfix(){if(c){var f=e.style;f.position=c.position,f.width=c.width,f.height=c.height,f.transform=c.transform}}},i.a.element=e}function qt(e,t,s,a){var i=(e&Oe)!==0,r=(e&Ie)!==0,n=i&&r,o=(e&Pe)!==0,c=n?"both":i?"in":"out",f,b=t.inert,g=t.style.overflow,l,p;function u(){return ce(()=>f??=s()(t,a?.()??{},{direction:c}))}var v={is_global:o,in(){if(t.inert=b,!i){p?.abort(),p?.reset?.();return}r||l?.abort(),l=D(t,u(),p,1,()=>{W(t,"introend"),l?.abort(),l=f=void 0,t.style.overflow=g})},out(N){if(!r){N?.(),f=void 0;return}t.inert=!0,p=D(t,u(),l,0,()=>{W(t,"outroend"),N?.()})},stop:()=>{l?.abort(),p?.abort()}},y=z;if((y.nodes.t??=[]).push(v),i&&ht){var _=o;if(!_){for(var k=y.parent;k&&(k.f&le)!==0;)for(;(k=k.parent)&&(k.f&Ee)===0;);_=!k||(k.f&Ce)!==0}_&&G(()=>{Z(()=>v.in())})}}function D(e,t,s,a,i){var r=a===1;if(Le(t)){var n,o=!1;return fe(()=>{if(!o){var y=t({direction:r?"in":"out"});n=D(e,y,s,a,i)}}),{abort:()=>{o=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(s?.deactivate(),!t?.duration&&!t?.delay)return W(e,r?"introstart":"outrostart"),i(),{abort:x,deactivate:x,reset:x,t:()=>a};const{delay:c=0,css:f,tick:b,easing:g=Tt}=t;var l=[];if(r&&s===void 0&&(b&&b(0,1),f)){var p=re(f(0,1));l.push(p,p)}var u=()=>1-a,v=e.animate(l,{duration:c,fill:"forwards"});return v.onfinish=()=>{v.cancel(),W(e,r?"introstart":"outrostart");var y=s?.t()??1-a;s?.abort();var _=a-y,k=t.duration*Math.abs(_),N=[];if(k>0){var m=!1;if(f)for(var P=Math.ceil(k/16.666666666666668),d=0;d<=P;d+=1){var h=y+_*g(d/P),A=re(f(h,1-h));N.push(A),m||=A.overflow==="hidden"}m&&(e.style.overflow="hidden"),u=()=>{var E=v.currentTime;return y+_*g(E/k)},b&&At(()=>{if(v.playState!=="running")return!1;var E=u();return b(E,1-E),!0})}v=e.animate(N,{duration:k,fill:"forwards"}),v.onfinish=()=>{u=()=>a,b?.(a,1-a),i()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=x)},deactivate:()=>{i=x},reset:()=>{a===0&&b?.(1,0)},t:()=>u()}}function Nt(e,t,s,a,i,r){let n=S;S&&J();var o=null;S&&V.nodeType===xe&&(o=V,J());var c=S?V:e,f=z,b=new lt(c,!1);Me(()=>{const g=t()||null;var l=$e;if(g===null){b.ensure(null,null),B(!0);return}return b.ensure(g,p=>{if(g){if(o=S?o:document.createElementNS(l,g),it(o,o),a){S&&gt(g)&&o.append(document.createComment(""));var u=S?Re(o):o.appendChild(je());S&&(u===null?F(!1):K(u)),ie(f),a(o,u),ie(null)}z.nodes.end=o,p.before(o)}S&&K(p)}),B(!0),()=>{g&&B(!1)}},le),ue(()=>{B(!0)}),n&&(F(!0),K(c))}function Et(e,t){var s=void 0,a;de(()=>{s!==(s=t())&&(a&&(Q(a),a=null),s&&(a=ve(()=>{G(()=>s(e))})))})}function Ct(e,t,s,a,i,r){var n=e.__className;if(S||n!==s||n===void 0){var o=ct(s,a,r);(!S||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o)),e.__className=s}else if(r&&i!==r)for(var c in r){var f=!!r[c];(i==null||f!==!!i[c])&&e.classList.toggle(c,f)}return r}function U(e,t,s=!1){if(e.multiple){if(t==null)return;if(!Be(t))return ze();for(var a of e.options)a.selected=t.includes(j(a));return}for(a of e.options){var i=j(a);if(Fe(i,t)){a.selected=!0;return}}(!s||t!==void 0)&&(e.selectedIndex=-1)}function me(e){var t=new MutationObserver(()=>{U(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ue(()=>{t.disconnect()})}function Gt(e,t,s=t){var a=new WeakSet,i=!0;We(e,"change",r=>{var n=r?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(n),j);else{var c=e.querySelector(n)??e.querySelector("option:not([disabled])");o=c&&j(c)}s(o),Y!==null&&a.add(Y)}),G(()=>{var r=t();if(e===document.activeElement){var n=De??Y;if(a.has(n))return}if(U(e,r,i),i&&r===void 0){var o=e.querySelector(":checked");o!==null&&(r=j(o),s(r))}e.__value=r,i=!1}),me(e)}function j(e){return"__value"in e?e.__value:e.value}const $=Symbol("class"),R=Symbol("style"),ke=Symbol("is custom element"),we=Symbol("is html");function Pt(e){if(S){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;q(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;q(e,"checked",null),e.checked=i}}};e.__on_r=s,fe(s),Ve()}}function Ht(e,t){var s=H(e);s.value===(s.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Vt(e,t){var s=H(e);s.checked!==(s.checked=t??void 0)&&(e.checked=t)}function Lt(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function q(e,t,s,a){var i=H(e);S&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=s)&&(t==="loading"&&(e[Je]=s),s==null?e.removeAttribute(t):typeof s!="string"&&Ae(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function Ot(e,t,s,a,i=!1,r=!1){if(S&&i&&e.tagName==="INPUT"){var n=e,o=n.type==="checkbox"?"defaultChecked":"defaultValue";o in s||Pt(n)}var c=H(e),f=c[ke],b=!c[we];let g=S&&f;g&&F(!1);var l=t||{},p=e.tagName==="OPTION";for(var u in t)u in s||(s[u]=null);s.class?s.class=ut(s.class):s[$]&&(s.class=null),s[R]&&(s.style??=null);var v=Ae(e);for(const d in s){let h=s[d];if(p&&d==="value"&&h==null){e.value=e.__value="",l[d]=h;continue}if(d==="class"){var y=e.namespaceURI==="http://www.w3.org/1999/xhtml";Ct(e,y,h,a,t?.[$],s[$]),l[d]=h,l[$]=s[$];continue}if(d==="style"){dt(e,h,t?.[R],s[R]),l[d]=h,l[R]=s[R];continue}var _=l[d];if(!(h===_&&!(h===void 0&&e.hasAttribute(d)))){l[d]=h;var k=d[0]+d[1];if(k!=="$$")if(k==="on"){const A={},E="$$"+d;let T=d.slice(2);var N=kt(T);if(pt(T)&&(T=T.slice(0,-7),A.capture=!0),!N&&_){if(h!=null)continue;e.removeEventListener(T,l[E],A),l[E]=null}if(h!=null)if(N)e[`__${T}`]=h,yt([T]);else{let Te=function(Ne){l[d].call(this,Ne)};l[E]=bt(T,e,Te,A)}else N&&(e[`__${T}`]=void 0)}else if(d==="style")q(e,d,h);else if(d==="autofocus")Ge(e,!!h);else if(!f&&(d==="__value"||d==="value"&&h!=null))e.value=e.__value=h;else if(d==="selected"&&p)Lt(e,h);else{var m=d;b||(m=mt(m));var P=m==="defaultValue"||m==="defaultChecked";if(h==null&&!f&&!P)if(c[d]=null,m==="value"||m==="checked"){let A=e;const E=t===void 0;if(m==="value"){let T=A.defaultValue;A.removeAttribute(m),A.defaultValue=T,A.value=A.__value=E?T:null}else{let T=A.defaultChecked;A.removeAttribute(m),A.defaultChecked=T,A.checked=E?T:!1}}else e.removeAttribute(d);else P||v.includes(m)&&(f||typeof h!="string")?(e[m]=h,m in c&&(c[m]=He)):typeof h!="function"&&q(e,m,h)}}}return g&&F(!0),l}function ne(e,t,s=[],a=[],i=[],r,n=!1,o=!1){Ue(i,s,a,c=>{var f=void 0,b={},g=e.nodeName==="SELECT",l=!1;if(de(()=>{var u=t(...c.map(I)),v=Ot(e,f,u,r,n,o);l&&g&&"value"in u&&U(e,u.value);for(let _ of Object.getOwnPropertySymbols(b))u[_]||Q(b[_]);for(let _ of Object.getOwnPropertySymbols(u)){var y=u[_];_.description===qe&&(!f||y!==f[_])&&(b[_]&&Q(b[_]),b[_]=ve(()=>Et(e,()=>y))),v[_]=y}f=v}),g){var p=e;G(()=>{U(p,f.value,!0),me(p)})}l=!0})}function H(e){return e.__attributes??={[ke]:e.nodeName.includes("-"),[we]:e.namespaceURI===Ke}}var oe=new Map;function Ae(e){var t=e.getAttribute("is")||e.nodeName,s=oe.get(t);if(s)return s;oe.set(t,s=[]);for(var a,i=e,r=Element.prototype;r!==i;){a=Ze(i);for(var n in a)a[n].set&&s.push(n);i=Ye(i)}return s}const Se=[{name:"Zinc",class:"bg-zinc-500",hex:"#71717a"},{name:"Red",class:"bg-red-600",hex:"#dc2626"},{name:"Orange",class:"bg-orange-600",hex:"#ea580c"},{name:"Amber",class:"bg-amber-500",hex:"#f59e0b"},{name:"Green",class:"bg-green-600",hex:"#16a34a"},{name:"Emerald",class:"bg-emerald-500",hex:"#10b981"},{name:"Teal",class:"bg-teal-500",hex:"#14b8a6"},{name:"Cyan",class:"bg-cyan-500",hex:"#06b6d4"},{name:"Blue",class:"bg-blue-600",hex:"#2563eb"},{name:"Indigo",class:"bg-indigo-600",hex:"#4f46e5"},{name:"Violet",class:"bg-violet-600",hex:"#7c3aed"},{name:"Purple",class:"bg-purple-600",hex:"#9333ea"},{name:"Fuchsia",class:"bg-fuchsia-600",hex:"#c026d3"},{name:"Pink",class:"bg-pink-600",hex:"#db2777"},{name:"Rose",class:"bg-rose-600",hex:"#e11d48"}],L={calls_types:[{id:1,label:"Open Call"},{id:2,label:"Residency"},{id:3,label:"Grant"},{id:4,label:"Job Offer"},{id:5,label:"Other"}],project_types:[],task_types:[{id:"1",label:"Design",color:"bg-purple-600"},{id:"2",label:"Dev",color:"bg-indigo-600"},{id:"3",label:"Admin",color:"bg-zinc-500"}],notes_types:Se.map((e,t)=>({id:t,color:e.hex})),global_types:{accent:"bg-indigo-600",transition_duration:200},daily_type:{work:[],study:[],culture:[],art:[],music:[],exercise:[],leisure:[]}};class It{#e=te(_e(L));get settings(){return I(this.#e)}set settings(t){se(this.#e,t,!0)}#t=te(!0);get isLoading(){return I(this.#t)}set isLoading(t){se(this.#t,t,!0)}initPromise=null;constructor(){}async init(){if(this.initPromise)return this.initPromise;this.initPromise=this._doInit();try{await this.initPromise}finally{this.initPromise=null}}async _doInit(){this.isLoading=!0;const{data:t,error:s}=await ae.from("globalSettings").select("*").order("id",{ascending:!1}).limit(1).single();t?this.settings={id:t.id,calls_types:t.calls_types||L.calls_types,project_types:t.project_types||L.project_types,task_types:t.task_types||L.task_types,notes_types:t.notes_types||L.notes_types,global_types:t.global_types||L.global_types,daily_type:t.daily_type||L.daily_type}:s&&s.code!=="PGRST116"?console.error("Error fetching settings:",s):this.saveSettings(),this.isLoading=!1}async saveSettings(){const t={calls_types:this.settings.calls_types,project_types:this.settings.project_types,task_types:this.settings.task_types,notes_types:this.settings.notes_types,global_types:this.settings.global_types,daily_type:this.settings.daily_type},{data:s,error:a}=await ae.from("globalSettings").insert(t).select().single();a?console.error("Error creating settings:",a):s&&(this.settings.id=s.id)}getCallTypeLabel(t){return t&&this.settings.calls_types.find(s=>s.id==t)?.label||"Unknown"}getProjectType(t){if(t!==null)return this.settings.project_types.find(s=>s.id==t)}getTaskType(t){if(t)return this.settings.task_types.find(s=>s.id==t)}getAccentHex(){const t=this.settings.global_types.accent;return Se.find(a=>a.class===t)?.hex||"#4f46e5"}getAccentLightHex(){const t=this.getAccentHex();return this.lightenColor(t,.3)}getTransitionDuration(){return this.settings.global_types.transition_duration??200}lightenColor(t,s){const a=parseInt(t.replace("#",""),16),i=Math.min(255,Math.floor((a>>16)+(255-(a>>16))*s)),r=Math.min(255,Math.floor((a>>8&255)+(255-(a>>8&255))*s)),n=Math.min(255,Math.floor((a&255)+(255-(a&255))*s));return`#${(i<<16|r<<8|n).toString(16).padStart(6,"0")}`}}const Kt=new It;const xt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Mt=nt("<svg><!><!></svg>");function $t(e,t){const s=ee(t,["children","$$slots","$$events","$$legacy"]),a=ee(s,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Qe(t,!1);let i=O(t,"name",8,void 0),r=O(t,"color",8,"currentColor"),n=O(t,"size",8,24),o=O(t,"strokeWidth",8,2),c=O(t,"absoluteStrokeWidth",8,!1),f=O(t,"iconNode",24,()=>[]);const b=(...u)=>u.filter((v,y,_)=>!!v&&_.indexOf(v)===y).join(" ");ot();var g=Mt();ne(g,(u,v)=>({...xt,...a,width:n(),height:n(),stroke:r(),"stroke-width":u,class:v}),[()=>(M(c()),M(o()),M(n()),Z(()=>c()?Number(o())*24/Number(n()):o())),()=>(M(i()),M(s),Z(()=>b("lucide-icon","lucide",i()?`lucide-${i()}`:"",s.class)))]);var l=tt(g);vt(l,1,f,_t,(u,v)=>{var y=at(()=>rt(I(v),2));let _=()=>I(y)[0],k=()=>I(y)[1];var N=ge(),m=he(N);Nt(m,_,!0,(P,d)=>{ne(P,()=>({...k()}))}),X(u,N)});var p=et(l);pe(p,t,"default",{}),st(g),X(e,g),Xe()}function Yt(e,t){const s=ee(t,["children","$$slots","$$events","$$legacy"]);const a=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];$t(e,ft({name:"loader"},()=>s,{get iconNode(){return a},children:(i,r)=>{var n=ge(),o=he(n);pe(o,t,"default",{}),X(i,n)},$$slots:{default:!0}}))}const w=_e({isOpen:!1,message:"",title:"Alert",type:"alert",confirmText:"Confirm",cancelText:"Cancel",isDestructive:!1,resolvePromise:null});function Jt(e,t="Alert"){w.message=e,w.title=t,w.type="alert",w.isOpen=!0,w.resolvePromise=null}function Zt(e,t="Confirm",s={}){return w.message=e,w.title=t,w.type="confirm",w.confirmText=s.confirmText??"Confirm",w.cancelText=s.cancelText??"Cancel",w.isDestructive=s.isDestructive??!1,w.isOpen=!0,new Promise(a=>{w.resolvePromise=a})}function Qt(e=!1){w.isOpen=!1,w.resolvePromise&&(w.resolvePromise(e),w.resolvePromise=null)}export{$t as I,Yt as L,Se as P,Kt as a,Gt as b,Zt as c,Jt as d,w as e,Ct as f,q as g,Ht as h,Ut as i,Vt as j,Qt as k,Pt as r,pe as s,qt as t};
