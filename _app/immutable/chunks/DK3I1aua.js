import{l as a,m as d,n as l,t as r}from"./CWKX6I-G.js";import{s as o}from"./Bkout0r_.js";const c=[{name:"Zinc",class:"bg-zinc-500",hex:"#71717a"},{name:"Red",class:"bg-red-600",hex:"#dc2626"},{name:"Orange",class:"bg-orange-600",hex:"#ea580c"},{name:"Amber",class:"bg-amber-500",hex:"#f59e0b"},{name:"Green",class:"bg-green-600",hex:"#16a34a"},{name:"Emerald",class:"bg-emerald-500",hex:"#10b981"},{name:"Teal",class:"bg-teal-500",hex:"#14b8a6"},{name:"Cyan",class:"bg-cyan-500",hex:"#06b6d4"},{name:"Blue",class:"bg-blue-600",hex:"#2563eb"},{name:"Indigo",class:"bg-indigo-600",hex:"#4f46e5"},{name:"Violet",class:"bg-violet-600",hex:"#7c3aed"},{name:"Purple",class:"bg-purple-600",hex:"#9333ea"},{name:"Fuchsia",class:"bg-fuchsia-600",hex:"#c026d3"},{name:"Pink",class:"bg-pink-600",hex:"#db2777"},{name:"Rose",class:"bg-rose-600",hex:"#e11d48"}],i={calls_types:[{id:1,label:"Open Call"},{id:2,label:"Residency"},{id:3,label:"Grant"},{id:4,label:"Job Offer"},{id:5,label:"Other"}],project_types:[],task_types:[{id:"1",label:"Design",color:"bg-purple-600"},{id:"2",label:"Dev",color:"bg-indigo-600"},{id:"3",label:"Admin",color:"bg-zinc-500"}],notes_types:c.map((n,e)=>({id:e,color:n.hex})),global_types:{accent:"bg-indigo-600",transition_duration:200},daily_type:{work:[],study:[],culture:[],art:[],music:[],exercise:[],leisure:[]}};class h{#e=a(d(i));get settings(){return l(this.#e)}set settings(e){r(this.#e,e,!0)}#t=a(!0);get isLoading(){return l(this.#t)}set isLoading(e){r(this.#t,e,!0)}initPromise=null;constructor(){}async init(){if(this.initPromise)return this.initPromise;this.initPromise=this._doInit();try{await this.initPromise}finally{this.initPromise=null}}async _doInit(){this.isLoading=!0;const{data:e,error:t}=await o.from("globalSettings").select("*").order("id",{ascending:!1}).limit(1).single();e?this.settings={id:e.id,calls_types:e.calls_types||i.calls_types,project_types:e.project_types||i.project_types,task_types:e.task_types||i.task_types,notes_types:e.notes_types||i.notes_types,global_types:e.global_types||i.global_types,daily_type:e.daily_type||i.daily_type}:t&&t.code!=="PGRST116"?console.error("Error fetching settings:",t):this.saveSettings(),this.isLoading=!1}async saveSettings(){const e={calls_types:this.settings.calls_types,project_types:this.settings.project_types,task_types:this.settings.task_types,notes_types:this.settings.notes_types,global_types:this.settings.global_types,daily_type:this.settings.daily_type},{data:t,error:s}=await o.from("globalSettings").insert(e).select().single();s?console.error("Error creating settings:",s):t&&(this.settings.id=t.id)}getCallTypeLabel(e){return e&&this.settings.calls_types.find(t=>t.id==e)?.label||"Unknown"}getProjectType(e){if(e!==null)return this.settings.project_types.find(t=>t.id==e)}getTaskType(e){if(e)return this.settings.task_types.find(t=>t.id==e)}getAccentHex(){const e=this.settings.global_types.accent;return c.find(s=>s.class===e)?.hex||"#4f46e5"}getAccentLightHex(){const e=this.getAccentHex();return this.lightenColor(e,.3)}getTransitionDuration(){return this.settings.global_types.transition_duration??200}lightenColor(e,t){const s=parseInt(e.replace("#",""),16),g=Math.min(255,Math.floor((s>>16)+(255-(s>>16))*t)),p=Math.min(255,Math.floor((s>>8&255)+(255-(s>>8&255))*t)),y=Math.min(255,Math.floor((s&255)+(255-(s&255))*t));return`#${(g<<16|p<<8|y).toString(16).padStart(6,"0")}`}}const m=new h;export{c as P,m as s};
