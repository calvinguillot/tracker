import{h as b,b as G,i as W,b7 as ge,c as ve,E as be,b8 as pe,g as ye,d as me,s as R,f as q,W as ke,at as te,b9 as se,al as H,a6 as ae,j as K,aD as Ae,ba as Se,bb as we,K as Te,L as U,N as Ne,bc as Ee,m as C,bd as Pe,be as Ce,bf as Le,q as Me,bg as Oe,bh as Ie,bi as xe,bj as $e,bk as je,v as Y,w as ie,y as Z,p as Re,a as De,B as ze,z as Be,u as J,T as L,k as re,A as We,I as qe,bl as Ue}from"./BVFz32Il.js";import{s as Q}from"./BW5xtwr9.js";import{b as Ge,e as He,a as V,c as ne}from"./7NWlc7Su.js";import{i as Ve}from"./DHdQyHRH.js";import{B as Fe,l as F,p as P,s as Ke}from"./Ds4RlZDk.js";import{t as Ye,c as Ze,s as Je,e as Qe,i as Xe}from"./CP7c8dVT.js";import{i as et,b as j,c as tt,f as st,d as at,n as it,g as rt}from"./pKnFB2my.js";function le(e,t,s,a,i){b&&G();var n=t.$$slots?.[s],l=!1;n===!0&&(n=t.children,l=!0),n===void 0||n(e,l?()=>a:a)}function nt(e,t,s,a,i,n){let l=b;b&&G();var r=null;b&&W.nodeType===ge&&(r=W,G());var f=b?W:e,d=new Fe(f,!1);ve(()=>{const g=t()||null;var k=pe;if(g===null){d.ensure(null,null),j(!0);return}return d.ensure(g,u=>{if(g){if(r=b?r:document.createElementNS(k,g),Ge(r,r),a){b&&et(g)&&r.append(document.createComment(""));var A=b?ye(r):r.appendChild(me());b&&(A===null?R(!1):q(A)),a(r,A)}ke.nodes.end=r,u.before(r)}b&&q(u)}),j(!0),()=>{g&&j(!1)}},be),te(()=>{j(!0)}),l&&(R(!0),q(f))}function lt(e,t){var s=void 0,a;se(()=>{s!==(s=t())&&(a&&(H(a),a=null),s&&(a=ae(()=>{K(()=>s(e))})))})}function ot(e,t,s,a,i,n){var l=e.__className;if(b||l!==s||l===void 0){var r=Ye(s,a,n);(!b||r!==e.getAttribute("class"))&&(r==null?e.removeAttribute("class"):t?e.className=r:e.setAttribute("class",r)),e.__className=s}else if(n&&i!==n)for(var f in n){var d=!!n[f];(i==null||d!==!!i[f])&&e.classList.toggle(f,d)}return n}function D(e,t,s=!1){if(e.multiple){if(t==null)return;if(!Ae(t))return Se();for(var a of e.options)a.selected=t.includes(I(a));return}for(a of e.options){var i=I(a);if(we(i,t)){a.selected=!0;return}}(!s||t!==void 0)&&(e.selectedIndex=-1)}function oe(e){var t=new MutationObserver(()=>{D(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),te(()=>{t.disconnect()})}function St(e,t,s=t){var a=new WeakSet,i=!0;Te(e,"change",n=>{var l=n?"[selected]":":checked",r;if(e.multiple)r=[].map.call(e.querySelectorAll(l),I);else{var f=e.querySelector(l)??e.querySelector("option:not([disabled])");r=f&&I(f)}s(r),U!==null&&a.add(U)}),K(()=>{var n=t();if(e===document.activeElement){var l=Ne??U;if(a.has(l))return}if(D(e,n,i),i&&n===void 0){var r=e.querySelector(":checked");r!==null&&(n=I(r),s(n))}e.__value=n,i=!1}),oe(e)}function I(e){return"__value"in e?e.__value:e.value}const M=Symbol("class"),O=Symbol("style"),ce=Symbol("is custom element"),ue=Symbol("is html");function ct(e){if(b){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var a=e.value;z(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;z(e,"checked",null),e.checked=i}}};e.__on_r=s,Me(s),Oe()}}function wt(e,t){var s=B(e);s.value===(s.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Tt(e,t){var s=B(e);s.checked!==(s.checked=t??void 0)&&(e.checked=t)}function ut(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function z(e,t,s,a){var i=B(e);b&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=s)&&(t==="loading"&&(e[$e]=s),s==null?e.removeAttribute(t):typeof s!="string"&&fe(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function ft(e,t,s,a,i=!1,n=!1){if(b&&i&&e.tagName==="INPUT"){var l=e,r=l.type==="checkbox"?"defaultChecked":"defaultValue";r in s||ct(l)}var f=B(e),d=f[ce],g=!f[ue];let k=b&&d;k&&R(!1);var u=t||{},A=e.tagName==="OPTION";for(var p in t)p in s||(s[p]=null);s.class?s.class=Ze(s.class):s[M]&&(s.class=null),s[O]&&(s.style??=null);var S=fe(e);for(const o in s){let c=s[o];if(A&&o==="value"&&c==null){e.value=e.__value="",u[o]=c;continue}if(o==="class"){var w=e.namespaceURI==="http://www.w3.org/1999/xhtml";ot(e,w,c,a,t?.[M],s[M]),u[o]=c,u[M]=s[M];continue}if(o==="style"){Je(e,c,t?.[O],s[O]),u[o]=c,u[O]=s[O];continue}var _=u[o];if(!(c===_&&!(c===void 0&&e.hasAttribute(o)))){u[o]=c;var x=o[0]+o[1];if(x!=="$$")if(x==="on"){const m={},E="$$"+o;let y=o.slice(2);var N=rt(y);if(tt(y)&&(y=y.slice(0,-7),m.capture=!0),!N&&_){if(c!=null)continue;e.removeEventListener(y,u[E],m),u[E]=null}if(c!=null)if(N)e[`__${y}`]=c,at([y]);else{let _e=function(he){u[o].call(this,he)};u[E]=st(y,e,_e,m)}else N&&(e[`__${y}`]=void 0)}else if(o==="style")z(e,o,c);else if(o==="autofocus")Ce(e,!!c);else if(!d&&(o==="__value"||o==="value"&&c!=null))e.value=e.__value=c;else if(o==="selected"&&A)ut(e,c);else{var v=o;g||(v=it(v));var $=v==="defaultValue"||v==="defaultChecked";if(c==null&&!d&&!$)if(f[o]=null,v==="value"||v==="checked"){let m=e;const E=t===void 0;if(v==="value"){let y=m.defaultValue;m.removeAttribute(v),m.defaultValue=y,m.value=m.__value=E?y:null}else{let y=m.defaultChecked;m.removeAttribute(v),m.defaultChecked=y,m.checked=E?y:!1}}else e.removeAttribute(o);else $||S.includes(v)&&(d||typeof c!="string")?(e[v]=c,v in f&&(f[v]=Le)):typeof c!="function"&&z(e,v,c)}}}return k&&R(!0),u}function X(e,t,s=[],a=[],i=[],n,l=!1,r=!1){Ee(i,s,a,f=>{var d=void 0,g={},k=e.nodeName==="SELECT",u=!1;if(se(()=>{var p=t(...f.map(C)),S=ft(e,d,p,n,l,r);u&&k&&"value"in p&&D(e,p.value);for(let _ of Object.getOwnPropertySymbols(g))p[_]||H(g[_]);for(let _ of Object.getOwnPropertySymbols(p)){var w=p[_];_.description===Pe&&(!d||w!==d[_])&&(g[_]&&H(g[_]),g[_]=ae(()=>lt(e,()=>w))),S[_]=w}d=S}),k){var A=e;K(()=>{D(A,d.value,!0),oe(A)})}u=!0})}function B(e){return e.__attributes??={[ce]:e.nodeName.includes("-"),[ue]:e.namespaceURI===Ie}}var ee=new Map;function fe(e){var t=e.getAttribute("is")||e.nodeName,s=ee.get(t);if(s)return s;ee.set(t,s=[]);for(var a,i=e,n=Element.prototype;n!==i;){a=je(i);for(var l in a)a[l].set&&s.push(l);i=xe(i)}return s}const de=[{name:"Zinc",class:"bg-zinc-500",hex:"#71717a"},{name:"Red",class:"bg-red-600",hex:"#dc2626"},{name:"Orange",class:"bg-orange-600",hex:"#ea580c"},{name:"Amber",class:"bg-amber-500",hex:"#f59e0b"},{name:"Green",class:"bg-green-600",hex:"#16a34a"},{name:"Emerald",class:"bg-emerald-500",hex:"#10b981"},{name:"Teal",class:"bg-teal-500",hex:"#14b8a6"},{name:"Cyan",class:"bg-cyan-500",hex:"#06b6d4"},{name:"Blue",class:"bg-blue-600",hex:"#2563eb"},{name:"Indigo",class:"bg-indigo-600",hex:"#4f46e5"},{name:"Violet",class:"bg-violet-600",hex:"#7c3aed"},{name:"Purple",class:"bg-purple-600",hex:"#9333ea"},{name:"Fuchsia",class:"bg-fuchsia-600",hex:"#c026d3"},{name:"Pink",class:"bg-pink-600",hex:"#db2777"},{name:"Rose",class:"bg-rose-600",hex:"#e11d48"}],T={calls_types:[{id:1,label:"Open Call"},{id:2,label:"Residency"},{id:3,label:"Grant"},{id:4,label:"Job Offer"},{id:5,label:"Other"}],project_types:[],task_types:[{id:"1",label:"Design",color:"bg-purple-600"},{id:"2",label:"Dev",color:"bg-indigo-600"},{id:"3",label:"Admin",color:"bg-zinc-500"}],notes_types:de.map((e,t)=>({id:t,color:e.hex})),global_types:{accent:"bg-indigo-600",transition_duration:200},daily_type:{work:[],study:[],culture:[],art:[],music:[],exercise:[],leisure:[]}};class dt{#e=Y(ie(T));get settings(){return C(this.#e)}set settings(t){Z(this.#e,t,!0)}#t=Y(!0);get isLoading(){return C(this.#t)}set isLoading(t){Z(this.#t,t,!0)}initPromise=null;constructor(){}async init(){if(this.initPromise)return this.initPromise;this.initPromise=this._doInit();try{await this.initPromise}finally{this.initPromise=null}}async _doInit(){this.isLoading=!0;const{data:t,error:s}=await Q.from("globalSettings").select("*").order("id",{ascending:!1}).limit(1).single();t?this.settings={id:t.id,calls_types:t.calls_types||T.calls_types,project_types:t.project_types||T.project_types,task_types:t.task_types||T.task_types,notes_types:t.notes_types||T.notes_types,global_types:t.global_types||T.global_types,daily_type:t.daily_type||T.daily_type}:s&&s.code!=="PGRST116"?console.error("Error fetching settings:",s):this.saveSettings(),this.isLoading=!1}async saveSettings(){const t={calls_types:this.settings.calls_types,project_types:this.settings.project_types,task_types:this.settings.task_types,notes_types:this.settings.notes_types,global_types:this.settings.global_types,daily_type:this.settings.daily_type},{data:s,error:a}=await Q.from("globalSettings").insert(t).select().single();a?console.error("Error creating settings:",a):s&&(this.settings.id=s.id)}getCallTypeLabel(t){return t&&this.settings.calls_types.find(s=>s.id==t)?.label||"Unknown"}getProjectType(t){if(t!==null)return this.settings.project_types.find(s=>s.id==t)}getTaskType(t){if(t)return this.settings.task_types.find(s=>s.id==t)}getAccentHex(){const t=this.settings.global_types.accent;return de.find(a=>a.class===t)?.hex||"#4f46e5"}getAccentLightHex(){const t=this.getAccentHex();return this.lightenColor(t,.3)}getTransitionDuration(){return this.settings.global_types.transition_duration??200}lightenColor(t,s){const a=parseInt(t.replace("#",""),16),i=Math.min(255,Math.floor((a>>16)+(255-(a>>16))*s)),n=Math.min(255,Math.floor((a>>8&255)+(255-(a>>8&255))*s)),l=Math.min(255,Math.floor((a&255)+(255-(a&255))*s));return`#${(i<<16|n<<8|l).toString(16).padStart(6,"0")}`}}const Nt=new dt;const _t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ht=He("<svg><!><!></svg>");function gt(e,t){const s=F(t,["children","$$slots","$$events","$$legacy"]),a=F(s,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Re(t,!1);let i=P(t,"name",8,void 0),n=P(t,"color",8,"currentColor"),l=P(t,"size",8,24),r=P(t,"strokeWidth",8,2),f=P(t,"absoluteStrokeWidth",8,!1),d=P(t,"iconNode",24,()=>[]);const g=(...p)=>p.filter((S,w,_)=>!!S&&_.indexOf(S)===w).join(" ");Ve();var k=ht();X(k,(p,S)=>({..._t,...a,width:l(),height:l(),stroke:n(),"stroke-width":p,class:S}),[()=>(L(f()),L(r()),L(l()),J(()=>f()?Number(r())*24/Number(l()):r())),()=>(L(i()),L(s),J(()=>g("lucide-icon","lucide",i()?`lucide-${i()}`:"",s.class)))]);var u=Be(k);Qe(u,1,d,Xe,(p,S)=>{var w=qe(()=>Ue(C(S),2));let _=()=>C(w)[0],x=()=>C(w)[1];var N=ne(),v=re(N);nt(v,_,!0,($,o)=>{X($,()=>({...x()}))}),V(p,N)});var A=ze(u);le(A,t,"default",{}),We(k),V(e,k),De()}function Et(e,t){const s=F(t,["children","$$slots","$$events","$$legacy"]);const a=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];gt(e,Ke({name:"loader"},()=>s,{get iconNode(){return a},children:(i,n)=>{var l=ne(),r=re(l);le(r,t,"default",{}),V(i,l)},$$slots:{default:!0}}))}const h=ie({isOpen:!1,message:"",title:"Alert",type:"alert",confirmText:"Confirm",cancelText:"Cancel",isDestructive:!1,resolvePromise:null});function Pt(e,t="Alert"){h.message=e,h.title=t,h.type="alert",h.isOpen=!0,h.resolvePromise=null}function Ct(e,t="Confirm",s={}){return h.message=e,h.title=t,h.type="confirm",h.confirmText=s.confirmText??"Confirm",h.cancelText=s.cancelText??"Cancel",h.isDestructive=s.isDestructive??!1,h.isOpen=!0,new Promise(a=>{h.resolvePromise=a})}function Lt(e=!1){h.isOpen=!1,h.resolvePromise&&(h.resolvePromise(e),h.resolvePromise=null)}export{gt as I,Et as L,de as P,Nt as a,St as b,Ct as c,Pt as d,h as e,ot as f,z as g,wt as h,Tt as i,Lt as j,ct as r,le as s};
