import{c as K,a as h,f as F}from"./CvHEPsDH.js";import"./C3HBUdGc.js";import{ah as re,ai as k,aj as _e,L as se,u as le,r as ne,ak as fe,f as G,p as be,g as ge,h as he,A as pe,j as ee,a as xe,c as s,d as i,s as o,_ as B,al as ke,t as V,i as n}from"./BP00UPcN.js";import{I as de,a as oe,r as g,e as te,i as ae,s as S}from"./CUA3p_EM.js";import{l as ce,s as ue,i as we}from"./CQ5RgTgf.js";import{s as W}from"./Dl5KtuYe.js";import{d as ze,e as Se}from"./BdVLaD9s.js";function w(t,e,a=e){var c=new WeakSet;re(t,"input",async d=>{var u=d?t.defaultValue:t.value;if(u=q(t)?A(u):u,a(u),k!==null&&c.add(k),await _e(),u!==(u=e())){var v=t.selectionStart,m=t.selectionEnd,z=t.value.length;if(t.value=u??"",m!==null){var l=t.value.length;v===m&&m===z&&l>z?(t.selectionStart=l,t.selectionEnd=l):(t.selectionStart=v,t.selectionEnd=Math.min(m,l))}}}),(se&&t.defaultValue!==t.value||le(e)==null&&t.value)&&(a(q(t)?A(t.value):t.value),k!==null&&c.add(k)),ne(()=>{var d=e();if(t===document.activeElement){var u=fe??k;if(c.has(u))return}q(t)&&d===A(t.value)||t.type==="date"&&!d&&!t.value||d!==t.value&&(t.value=d??"")})}function ie(t,e,a=e){re(t,"change",c=>{var d=c?t.defaultChecked:t.checked;a(d)}),(se&&t.defaultChecked!==t.checked||le(e)==null)&&a(t.checked),ne(()=>{var c=e();t.checked=!!c})}function q(t){var e=t.type;return e==="number"||e==="range"}function A(t){return t===""?null:+t}function Te(t,e){const a=ce(e,["children","$$slots","$$events","$$legacy"]);const c=[["path",{d:"M12 2v4"}],["path",{d:"m16.2 7.8 2.9-2.9"}],["path",{d:"M18 12h4"}],["path",{d:"m16.2 16.2 2.9 2.9"}],["path",{d:"M12 18v4"}],["path",{d:"m4.9 19.1 2.9-2.9"}],["path",{d:"M2 12h4"}],["path",{d:"m4.9 4.9 2.9 2.9"}]];de(t,ue({name:"loader"},()=>a,{get iconNode(){return c},children:(d,u)=>{var v=K(),m=G(v);oe(m,e,"default",{}),h(d,v)},$$slots:{default:!0}}))}function Be(t,e){const a=ce(e,["children","$$slots","$$events","$$legacy"]);const c=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];de(t,ue({name:"plus"},()=>a,{get iconNode(){return c},children:(d,u)=>{var v=K(),m=G(v);oe(m,e,"default",{}),h(d,v)},$$slots:{default:!0}}))}var Ce=F('<div><label class="block text-sm font-medium text-zinc-400 mb-1 capitalize"> </label> <input type="number" class="w-full rounded-md border-zinc-700 bg-zinc-800 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2"/></div>'),Ee=F('<div><label class="block text-sm font-medium text-zinc-400 mb-1 capitalize"> </label> <input type="text" class="w-full rounded-md border-zinc-700 bg-zinc-800 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2"/></div>'),Me=F('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4" role="dialog" aria-modal="true" tabindex="-1"><div class="bg-zinc-900 rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col border border-zinc-800"><div class="p-6 border-b border-zinc-800 flex justify-between items-center sticky top-0 bg-zinc-900 z-10"><h2 class="text-xl font-bold text-zinc-100"> </h2> <button class="text-zinc-400 hover:text-zinc-200 transition-colors" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="p-6 space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label for="created_at" class="block text-sm font-medium text-zinc-400 mb-1">Date</label> <input type="date" id="created_at" required class="w-full rounded-md border-zinc-700 bg-zinc-800 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2"/></div> <div><label for="weight" class="block text-sm font-medium text-zinc-400 mb-1">Weight (kg)</label> <input type="number" step="0.1" id="weight" class="w-full rounded-md border-zinc-700 bg-zinc-800 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2"/></div></div> <div class="grid grid-cols-2 md:grid-cols-5 gap-4"></div> <div class="flex gap-6"><div class="flex items-center"><input type="checkbox" id="sickness" class="h-4 w-4 rounded border-zinc-600 bg-zinc-800 text-indigo-600 focus:ring-indigo-500"/> <label for="sickness" class="ml-2 block text-sm text-zinc-300">Sickness</label></div> <div class="flex items-center"><input type="checkbox" id="calvin_day" class="h-4 w-4 rounded border-zinc-600 bg-zinc-800 text-indigo-600 focus:ring-indigo-500"/> <label for="calvin_day" class="ml-2 block text-sm text-zinc-300">Calvin Day</label></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"></div> <div><label for="notes" class="block text-sm font-medium text-zinc-400 mb-1">Notes</label> <textarea id="notes" rows="3" class="w-full rounded-md border-zinc-700 bg-zinc-800 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 border p-2"></textarea></div> <div class="pt-4 flex justify-end gap-3 sticky bottom-0 bg-zinc-900 border-t border-zinc-800 mt-6"><button type="button" class="rounded-md bg-zinc-800 px-3.5 py-2.5 text-sm font-semibold text-zinc-200 shadow-sm ring-1 ring-inset ring-zinc-700 hover:bg-zinc-700">Cancel</button> <button type="submit" class="rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Save</button></div></form></div></div>');function Ve(t,e){be(e,!0);let a=ge(he({created_at:new Date().toISOString().split("T")[0],mood:null,energy:null,physical:null,sleep:null,meals:null,weight:null,sickness:!1,work_type:"",study_type:"",culture_type:"",music_type:"",exercise_type:"",leisure_type:"",family_type:"",calvin_day:!1,dreams_type:"",reminder_type:"",notes:""}));pe(()=>{e.isOpen&&(e.entry?ee(a,{created_at:e.entry.created_at||new Date().toISOString().split("T")[0],mood:e.entry.mood,energy:e.entry.energy,physical:e.entry.physical,sleep:e.entry.sleep,meals:e.entry.meals,weight:e.entry.weight,sickness:e.entry.sickness??!1,work_type:e.entry.work_type??"",study_type:e.entry.study_type??"",culture_type:e.entry.culture_type??"",music_type:e.entry.music_type??"",exercise_type:e.entry.exercise_type??"",leisure_type:e.entry.leisure_type??"",family_type:e.entry.family_type??"",calvin_day:e.entry.calvin_day??!1,dreams_type:e.entry.dreams_type??"",reminder_type:e.entry.reminder_type??"",notes:e.entry.notes??""},!0):ee(a,{created_at:new Date().toISOString().split("T")[0],mood:null,energy:null,physical:null,sleep:null,meals:null,weight:null,sickness:!1,work_type:"",study_type:"",culture_type:"",music_type:"",exercise_type:"",leisure_type:"",family_type:"",calvin_day:!1,dreams_type:"",reminder_type:"",notes:""},!0))});function c(l){l.preventDefault(),e.onSave(n(a))}function d(l){l.target===l.currentTarget&&e.onClose()}function u(l){l.key==="Escape"&&e.onClose()}var v=K(),m=G(v);{var z=l=>{var p=Me();p.__click=d,p.__keydown=u;var H=s(p),C=s(H),E=s(C),ve=s(E,!0);i(E);var ye=o(E,2);ye.__click=function(...r){e.onClose?.apply(this,r)},i(C);var M=o(C,2),D=s(M),j=s(D),J=o(s(j),2);g(J),i(j);var Q=o(j,2),R=o(s(Q),2);g(R),i(Q),i(D);var N=o(D,2);te(N,20,()=>["mood","energy","physical","sleep","meals"],ae,(r,y)=>{var f=Ce(),_=s(f),T=s(_,!0);i(_);var b=o(_,2);g(b),i(f),V(()=>{S(_,"for",y),W(T,y),S(b,"id",y)}),w(b,()=>n(a)[y],x=>n(a)[y]=x),h(r,f)}),i(N);var I=o(N,2),O=s(I),U=s(O);g(U),B(2),i(O);var X=o(O,2),Y=s(X);g(Y),B(2),i(X),i(I);var L=o(I,2);te(L,20,()=>["work_type","study_type","culture_type","music_type","exercise_type","leisure_type","family_type","dreams_type","reminder_type"],ae,(r,y)=>{var f=Ee(),_=s(f),T=s(_,!0);i(_);var b=o(_,2);g(b),i(f),V(x=>{S(_,"for",y),W(T,x),S(b,"id",y)},[()=>y.replace("_type","")]),w(b,()=>n(a)[y],x=>n(a)[y]=x),h(r,f)}),i(L);var P=o(L,2),Z=o(s(P),2);ke(Z),i(P);var $=o(P,2),me=s($);me.__click=function(...r){e.onClose?.apply(this,r)},B(2),i($),i(M),i(H),i(p),V(()=>W(ve,e.entry?"Edit Entry":"New Entry")),Se("submit",M,c),w(J,()=>n(a).created_at,r=>n(a).created_at=r),w(R,()=>n(a).weight,r=>n(a).weight=r),ie(U,()=>n(a).sickness,r=>n(a).sickness=r),ie(Y,()=>n(a).calvin_day,r=>n(a).calvin_day=r),w(Z,()=>n(a).notes,r=>n(a).notes=r),h(l,p)};we(m,l=>{e.isOpen&&l(z)})}h(t,v),xe()}ze(["click","keydown"]);export{Ve as E,Te as L,Be as P,w as b};
