import{b as De,e as He,a as ae,c as je}from"./Bc-DLzly.js";import{i as xe}from"./DnkZn_FK.js";import{a0 as q,b as ye,aT as me,N as H,D as A,O as Ae,F as W,k as P,ah as ze,a4 as Fe,a5 as Ue,a6 as ne,a7 as R,I as M,J as Ve,aP as $e,aD as le,Q as B,aU as I,a1 as V,a3 as qe,ad as fe,a8 as Be,aN as se,aV as Ee,aW as We,aX as Ge,aY as Ye,Z as Se,$ as Te,aZ as Q,q as ke,K as Ze,a_ as Ke,aM as Je,_ as G,a$ as Xe,E as Qe,b0 as er,G as rr,ab as we,b1 as Ne,e as ie,b2 as tr,b3 as sr,P as ir,T as ar,b4 as nr,b5 as lr,b6 as fr,b7 as or,b8 as ur,b9 as cr,ba as dr,bb as vr,bc as gr,p as hr,a as pr,h as _r,j as br,u as oe,A as j,i as yr,f as mr,v as Ar,bd as Er,c as Ce,s as ue,g as ce}from"./TcqPTOvd.js";import{i as Sr,b as $,c as Tr,f as kr,d as wr,n as Nr,g as Cr}from"./CPbHUipC.js";import{B as Ir,l as de,p as D}from"./1BkMwDz5.js";import{s as ve}from"./Bkout0r_.js";function Or(e,r){return r}function Pr(e,r,t){for(var s=[],i=r.length,a,n=r.length,f=0;f<i;f++){let h=r[f];Te(h,()=>{if(a){if(a.pending.delete(h),a.done.add(h),a.pending.size===0){var c=e.outrogroups;te(se(a.done)),c.delete(a),c.size===0&&(e.outrogroups=null)}}else n-=1},!1)}if(n===0){var o=s.length===0&&t!==null;if(o){var v=t,u=v.parentNode;Je(u),u.append(v),e.items.clear()}te(r,!o)}else a={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(a)}function te(e,r=!0){for(var t=0;t<e.length;t++)G(e[t],r)}var ge;function Lr(e,r,t,s,i,a=null){var n=e,f=new Map,o=(r&me)!==0;if(o){var v=e;n=A?H(Ae(v)):v.appendChild(q())}A&&W();var u=null,h=ze(()=>{var d=t();return Ee(d)?d:d==null?[]:se(d)}),c,b=!0;function m(){l.fallback=u,Mr(l,c,n,r,s),u!==null&&(c.length===0?(u.f&I)===0?Se(u):(u.f^=I,F(u,null,n)):Te(u,()=>{u=null}))}var E=ye(()=>{c=P(h);var d=c.length;let C=!1;if(A){var k=Fe(n)===Ue;k!==(d===0)&&(n=ne(),H(n),R(!1),C=!0)}for(var y=new Set,N=B,p=qe(),g=0;g<d;g+=1){A&&M.nodeType===Ve&&M.data===$e&&(n=M,C=!0,R(!1));var S=c[g],w=s(S,g),_=b?null:f.get(w);_?(_.v&&le(_.v,S),_.i&&le(_.i,g),p&&N.skipped_effects.delete(_.e)):(_=Rr(f,b?n:ge??=q(),S,w,g,i,r,t),b||(_.e.f|=I),f.set(w,_)),y.add(w)}if(d===0&&a&&!u&&(b?u=V(()=>a(n)):(u=V(()=>a(ge??=q())),u.f|=I)),A&&d>0&&H(ne()),!b)if(p){for(const[J,X]of f)y.has(J)||N.skipped_effects.add(X.e);N.oncommit(m),N.ondiscard(()=>{})}else m();C&&R(!0),P(h)}),l={effect:E,items:f,outrogroups:null,fallback:u};b=!1,A&&(n=M)}function Mr(e,r,t,s,i){var a=(s&Ke)!==0,n=r.length,f=e.items,o=e.effect.first,v,u=null,h,c=[],b=[],m,E,l,d;if(a)for(d=0;d<n;d+=1)m=r[d],E=i(m,d),l=f.get(E).e,(l.f&I)===0&&(l.nodes?.a?.measure(),(h??=new Set).add(l));for(d=0;d<n;d+=1){if(m=r[d],E=i(m,d),l=f.get(E).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(l),_.done.delete(l);if((l.f&I)!==0)if(l.f^=I,l===o)F(l,null,t);else{var C=u?u.next:o;l===e.effect.last&&(e.effect.last=l.prev),l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),O(e,u,l),O(e,l,C),F(l,C,t),u=l,c=[],b=[],o=u.next;continue}if((l.f&Q)!==0&&(Se(l),a&&(l.nodes?.a?.unfix(),(h??=new Set).delete(l))),l!==o){if(v!==void 0&&v.has(l)){if(c.length<b.length){var k=b[0],y;u=k.prev;var N=c[0],p=c[c.length-1];for(y=0;y<c.length;y+=1)F(c[y],k,t);for(y=0;y<b.length;y+=1)v.delete(b[y]);O(e,N.prev,p.next),O(e,u,N),O(e,p,k),o=k,u=p,d-=1,c=[],b=[]}else v.delete(l),F(l,o,t),O(e,l.prev,l.next),O(e,l,u===null?e.effect.first:u.next),O(e,u,l),u=l;continue}for(c=[],b=[];o!==null&&o!==l;)(v??=new Set).add(o),b.push(o),o=o.next;if(o===null)continue}(l.f&I)===0&&c.push(l),u=l,o=l.next}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(te(se(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||v!==void 0){var g=[];if(v!==void 0)for(l of v)(l.f&Q)===0&&g.push(l);for(;o!==null;)(o.f&Q)===0&&o!==e.fallback&&g.push(o),o=o.next;var S=g.length;if(S>0){var w=(s&me)!==0&&n===0?t:null;if(a){for(d=0;d<S;d+=1)g[d].nodes?.a?.measure();for(d=0;d<S;d+=1)g[d].nodes?.a?.fix()}Pr(e,g,w)}}a&&ke(()=>{if(h!==void 0)for(l of h)l.nodes?.a?.apply()})}function Rr(e,r,t,s,i,a,n,f){var o=(n&We)!==0?(n&Ge)===0?Be(t,!1,!1):fe(t):null,v=(n&Ye)!==0?fe(i):null;return{v:o,i:v,e:V(()=>(a(r,o??t,v??i,f),()=>{e.delete(s)}))}}function F(e,r,t){if(e.nodes)for(var s=e.nodes.start,i=e.nodes.end,a=r&&(r.f&I)===0?r.nodes.start:t;s!==null;){var n=Ze(s);if(a.before(s),s===i)return;s=n}}function O(e,r,t){r===null?e.effect.first=t:r.next=t,t===null?e.effect.last=r:t.prev=r}function Dr(e,r,t,s,i){A&&W();var a=r.$$slots?.[t],n=!1;a===!0&&(a=r.children,n=!0),a===void 0||a(e,n?()=>s:s)}function Hr(e,r,t,s,i,a){let n=A;A&&W();var f=null;A&&M.nodeType===Xe&&(f=M,W());var o=A?M:e,v=new Ir(o,!1);ye(()=>{const u=r()||null;var h=er;if(u===null){v.ensure(null,null),$(!0);return}return v.ensure(u,c=>{if(u){if(f=A?f:document.createElementNS(h,u),De(f,f),s){A&&Sr(u)&&f.append(document.createComment(""));var b=A?Ae(f):f.appendChild(q());A&&(b===null?R(!1):H(b)),s(f,b)}rr.nodes.end=f,c.before(f)}A&&H(c)}),$(!0),()=>{u&&$(!1)}},Qe),we(()=>{$(!0)}),n&&(R(!0),H(o))}function jr(e,r){var t=void 0,s;Ne(()=>{t!==(t=r())&&(s&&(G(s),s=null),t&&(s=V(()=>{ie(()=>t(e))})))})}function Ie(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(t=Ie(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function xr(){for(var e,r,t=0,s="",i=arguments.length;t<i;t++)(e=arguments[t])&&(r=Ie(e))&&(s&&(s+=" "),s+=r);return s}function zr(e){return typeof e=="object"?xr(e):e??""}const he=[...` 	
\r\fÂ \v\uFEFF`];function Fr(e,r,t){var s=e==null?"":""+e;if(r&&(s=s?s+" "+r:r),t){for(var i in t)if(t[i])s=s?s+" "+i:i;else if(s.length)for(var a=i.length,n=0;(n=s.indexOf(i,n))>=0;){var f=n+a;(n===0||he.includes(s[n-1]))&&(f===s.length||he.includes(s[f]))?s=(n===0?"":s.substring(0,n))+s.substring(f+1):n=f}}return s===""?null:s}function pe(e,r=!1){var t=r?" !important;":";",s="";for(var i in e){var a=e[i];a!=null&&a!==""&&(s+=" "+i+": "+a+t)}return s}function ee(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ur(e,r){if(r){var t="",s,i;if(Array.isArray(r)?(s=r[0],i=r[1]):s=r,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,n=0,f=!1,o=[];s&&o.push(...Object.keys(s).map(ee)),i&&o.push(...Object.keys(i).map(ee));var v=0,u=-1;const E=e.length;for(var h=0;h<E;h++){var c=e[h];if(f?c==="/"&&e[h-1]==="*"&&(f=!1):a?a===c&&(a=!1):c==="/"&&e[h+1]==="*"?f=!0:c==='"'||c==="'"?a=c:c==="("?n++:c===")"&&n--,!f&&a===!1&&n===0){if(c===":"&&u===-1)u=h;else if(c===";"||h===E-1){if(u!==-1){var b=ee(e.substring(v,u).trim());if(!o.includes(b)){c!==";"&&h++;var m=e.substring(v,h).trim();t+=" "+m+";"}}v=h+1,u=-1}}}}return s&&(t+=pe(s)),i&&(t+=pe(i,!0)),t=t.trim(),t===""?null:t}return e==null?null:String(e)}function Vr(e,r,t,s,i,a){var n=e.__className;if(A||n!==t||n===void 0){var f=Fr(t,s,a);(!A||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):r?e.className=f:e.setAttribute("class",f)),e.__className=t}else if(a&&i!==a)for(var o in a){var v=!!a[o];(i==null||v!==!!i[o])&&e.classList.toggle(o,v)}return a}function re(e,r={},t,s){for(var i in t){var a=t[i];r[i]!==a&&(t[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,s))}}function $r(e,r,t,s){var i=e.__style;if(A||i!==r){var a=Ur(r,s);(!A||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=r}else s&&(Array.isArray(s)?(re(e,t?.[0],s[0]),re(e,t?.[1],s[1],"important")):re(e,t,s));return s}function Y(e,r,t=!1){if(e.multiple){if(r==null)return;if(!Ee(r))return tr();for(var s of e.options)s.selected=r.includes(U(s));return}for(s of e.options){var i=U(s);if(sr(i,r)){s.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function Oe(e){var r=new MutationObserver(()=>{Y(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),we(()=>{r.disconnect()})}function tt(e,r,t=r){var s=new WeakSet,i=!0;ir(e,"change",a=>{var n=a?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(n),U);else{var o=e.querySelector(n)??e.querySelector("option:not([disabled])");f=o&&U(o)}t(f),B!==null&&s.add(B)}),ie(()=>{var a=r();if(e===document.activeElement){var n=ar??B;if(s.has(n))return}if(Y(e,a,i),i&&a===void 0){var f=e.querySelector(":checked");f!==null&&(a=U(f),t(a))}e.__value=a,i=!1}),Oe(e)}function U(e){return"__value"in e?e.__value:e.value}const x=Symbol("class"),z=Symbol("style"),Pe=Symbol("is custom element"),Le=Symbol("is html");function qr(e){if(A){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;Z(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;Z(e,"checked",null),e.checked=i}}};e.__on_r=t,ke(t),ur()}}function st(e,r){var t=K(e);t.value===(t.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function it(e,r){var t=K(e);t.checked!==(t.checked=r??void 0)&&(e.checked=r)}function Br(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Z(e,r,t,s){var i=K(e);A&&(i[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||i[r]!==(i[r]=t)&&(r==="loading"&&(e[vr]=t),t==null?e.removeAttribute(r):typeof t!="string"&&Me(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function Wr(e,r,t,s,i=!1,a=!1){if(A&&i&&e.tagName==="INPUT"){var n=e,f=n.type==="checkbox"?"defaultChecked":"defaultValue";f in t||qr(n)}var o=K(e),v=o[Pe],u=!o[Le];let h=A&&v;h&&R(!1);var c=r||{},b=e.tagName==="OPTION";for(var m in r)m in t||(t[m]=null);t.class?t.class=zr(t.class):t[x]&&(t.class=null),t[z]&&(t.style??=null);var E=Me(e);for(const p in t){let g=t[p];if(b&&p==="value"&&g==null){e.value=e.__value="",c[p]=g;continue}if(p==="class"){var l=e.namespaceURI==="http://www.w3.org/1999/xhtml";Vr(e,l,g,s,r?.[x],t[x]),c[p]=g,c[x]=t[x];continue}if(p==="style"){$r(e,g,r?.[z],t[z]),c[p]=g,c[z]=t[z];continue}var d=c[p];if(!(g===d&&!(g===void 0&&e.hasAttribute(p)))){c[p]=g;var C=p[0]+p[1];if(C!=="$$")if(C==="on"){const S={},w="$$"+p;let _=p.slice(2);var k=Cr(_);if(Tr(_)&&(_=_.slice(0,-7),S.capture=!0),!k&&d){if(g!=null)continue;e.removeEventListener(_,c[w],S),c[w]=null}if(g!=null)if(k)e[`__${_}`]=g,wr([_]);else{let J=function(X){c[p].call(this,X)};c[w]=kr(_,e,J,S)}else k&&(e[`__${_}`]=void 0)}else if(p==="style")Z(e,p,g);else if(p==="autofocus")fr(e,!!g);else if(!v&&(p==="__value"||p==="value"&&g!=null))e.value=e.__value=g;else if(p==="selected"&&b)Br(e,g);else{var y=p;u||(y=Nr(y));var N=y==="defaultValue"||y==="defaultChecked";if(g==null&&!v&&!N)if(o[p]=null,y==="value"||y==="checked"){let S=e;const w=r===void 0;if(y==="value"){let _=S.defaultValue;S.removeAttribute(y),S.defaultValue=_,S.value=S.__value=w?_:null}else{let _=S.defaultChecked;S.removeAttribute(y),S.defaultChecked=_,S.checked=w?_:!1}}else e.removeAttribute(p);else N||E.includes(y)&&(v||typeof g!="string")?(e[y]=g,y in o&&(o[y]=or)):typeof g!="function"&&Z(e,y,g)}}}return h&&R(!0),c}function _e(e,r,t=[],s=[],i=[],a,n=!1,f=!1){nr(i,t,s,o=>{var v=void 0,u={},h=e.nodeName==="SELECT",c=!1;if(Ne(()=>{var m=r(...o.map(P)),E=Wr(e,v,m,a,n,f);c&&h&&"value"in m&&Y(e,m.value);for(let d of Object.getOwnPropertySymbols(u))m[d]||G(u[d]);for(let d of Object.getOwnPropertySymbols(m)){var l=m[d];d.description===lr&&(!v||l!==v[d])&&(u[d]&&G(u[d]),u[d]=V(()=>jr(e,()=>l))),E[d]=l}v=E}),h){var b=e;ie(()=>{Y(b,v.value,!0),Oe(b)})}c=!0})}function K(e){return e.__attributes??={[Pe]:e.nodeName.includes("-"),[Le]:e.namespaceURI===cr}}var be=new Map;function Me(e){var r=e.getAttribute("is")||e.nodeName,t=be.get(r);if(t)return t;be.set(r,t=[]);for(var s,i=e,a=Element.prototype;a!==i;){s=gr(i);for(var n in s)s[n].set&&t.push(n);i=dr(i)}return t}const Gr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Yr=He("<svg><!><!></svg>");function at(e,r){const t=de(r,["children","$$slots","$$events","$$legacy"]),s=de(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);hr(r,!1);let i=D(r,"name",8,void 0),a=D(r,"color",8,"currentColor"),n=D(r,"size",8,24),f=D(r,"strokeWidth",8,2),o=D(r,"absoluteStrokeWidth",8,!1),v=D(r,"iconNode",24,()=>[]);const u=(...m)=>m.filter((E,l,d)=>!!E&&d.indexOf(E)===l).join(" ");xe();var h=Yr();_e(h,(m,E)=>({...Gr,...s,width:n(),height:n(),stroke:a(),"stroke-width":m,class:E}),[()=>(j(o()),j(f()),j(n()),oe(()=>o()?Number(f())*24/Number(n()):f())),()=>(j(i()),j(t),oe(()=>u("lucide-icon","lucide",i()?`lucide-${i()}`:"",t.class)))]);var c=_r(h);Lr(c,1,v,Or,(m,E)=>{var l=Ar(()=>Er(P(E),2));let d=()=>P(l)[0],C=()=>P(l)[1];var k=je(),y=mr(k);Hr(y,d,!0,(N,p)=>{_e(N,()=>({...C()}))}),ae(m,k)});var b=br(c);Dr(b,r,"default",{}),yr(h),ae(e,h),pr()}const T=Ce({isOpen:!1,message:"",title:"Alert",type:"alert",confirmText:"Confirm",cancelText:"Cancel",isDestructive:!1,resolvePromise:null});function nt(e,r="Alert"){T.message=e,T.title=r,T.type="alert",T.isOpen=!0,T.resolvePromise=null}function lt(e,r="Confirm",t={}){return T.message=e,T.title=r,T.type="confirm",T.confirmText=t.confirmText??"Confirm",T.cancelText=t.cancelText??"Cancel",T.isDestructive=t.isDestructive??!1,T.isOpen=!0,new Promise(s=>{T.resolvePromise=s})}function ft(e=!1){T.isOpen=!1,T.resolvePromise&&(T.resolvePromise(e),T.resolvePromise=null)}const Re=[{name:"Zinc",class:"bg-zinc-500",hex:"#71717a"},{name:"Red",class:"bg-red-600",hex:"#dc2626"},{name:"Orange",class:"bg-orange-600",hex:"#ea580c"},{name:"Amber",class:"bg-amber-500",hex:"#f59e0b"},{name:"Green",class:"bg-green-600",hex:"#16a34a"},{name:"Emerald",class:"bg-emerald-500",hex:"#10b981"},{name:"Teal",class:"bg-teal-500",hex:"#14b8a6"},{name:"Cyan",class:"bg-cyan-500",hex:"#06b6d4"},{name:"Blue",class:"bg-blue-600",hex:"#2563eb"},{name:"Indigo",class:"bg-indigo-600",hex:"#4f46e5"},{name:"Violet",class:"bg-violet-600",hex:"#7c3aed"},{name:"Purple",class:"bg-purple-600",hex:"#9333ea"},{name:"Fuchsia",class:"bg-fuchsia-600",hex:"#c026d3"},{name:"Pink",class:"bg-pink-600",hex:"#db2777"},{name:"Rose",class:"bg-rose-600",hex:"#e11d48"}],L={calls_types:[{id:1,label:"Open Call"},{id:2,label:"Residency"},{id:3,label:"Grant"},{id:4,label:"Job Offer"},{id:5,label:"Other"}],project_types:[],task_types:[{id:"1",label:"Design",color:"bg-purple-600"},{id:"2",label:"Dev",color:"bg-indigo-600"},{id:"3",label:"Admin",color:"bg-zinc-500"}],notes_types:Re.map((e,r)=>({id:r,color:e.hex})),global_types:{accent:"bg-indigo-600",transition_duration:200},daily_type:{work:[],study:[],culture:[],art:[],music:[],exercise:[],leisure:[]}};class Zr{#e=ue(Ce(L));get settings(){return P(this.#e)}set settings(r){ce(this.#e,r,!0)}#r=ue(!0);get isLoading(){return P(this.#r)}set isLoading(r){ce(this.#r,r,!0)}initPromise=null;constructor(){}async init(){if(this.initPromise)return this.initPromise;this.initPromise=this._doInit();try{await this.initPromise}finally{this.initPromise=null}}async _doInit(){this.isLoading=!0;const{data:r,error:t}=await ve.from("globalSettings").select("*").order("id",{ascending:!1}).limit(1).single();r?this.settings={id:r.id,calls_types:r.calls_types||L.calls_types,project_types:r.project_types||L.project_types,task_types:r.task_types||L.task_types,notes_types:r.notes_types||L.notes_types,global_types:r.global_types||L.global_types,daily_type:r.daily_type||L.daily_type}:t&&t.code!=="PGRST116"?console.error("Error fetching settings:",t):this.saveSettings(),this.isLoading=!1}async saveSettings(){const r={calls_types:this.settings.calls_types,project_types:this.settings.project_types,task_types:this.settings.task_types,notes_types:this.settings.notes_types,global_types:this.settings.global_types,daily_type:this.settings.daily_type},{data:t,error:s}=await ve.from("globalSettings").insert(r).select().single();s?console.error("Error creating settings:",s):t&&(this.settings.id=t.id)}getCallTypeLabel(r){return r&&this.settings.calls_types.find(t=>t.id==r)?.label||"Unknown"}getProjectType(r){if(r!==null)return this.settings.project_types.find(t=>t.id==r)}getTaskType(r){if(r)return this.settings.task_types.find(t=>t.id==r)}getAccentHex(){const r=this.settings.global_types.accent;return Re.find(s=>s.class===r)?.hex||"#4f46e5"}getAccentLightHex(){const r=this.getAccentHex();return this.lightenColor(r,.3)}getTransitionDuration(){return this.settings.global_types.transition_duration??200}lightenColor(r,t){const s=parseInt(r.replace("#",""),16),i=Math.min(255,Math.floor((s>>16)+(255-(s>>16))*t)),a=Math.min(255,Math.floor((s>>8&255)+(255-(s>>8&255))*t)),n=Math.min(255,Math.floor((s&255)+(255-(s&255))*t));return`#${(i<<16|a<<8|n).toString(16).padStart(6,"0")}`}}const ot=new Zr;export{at as I,Re as P,ot as a,$r as b,tt as c,T as d,Lr as e,nt as f,Vr as g,Z as h,Or as i,lt as j,it as k,st as l,zr as m,ft as n,qr as r,Dr as s};
