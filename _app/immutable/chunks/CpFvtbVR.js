import{h as S,b as Q,W as $,E as le,b3 as Se,a$ as Te,j as G,u as X,b4 as Ne,aW as Ee,q as fe,J as x,am as ue,b5 as Ce,b6 as Ie,i as V,b7 as Oe,c as Pe,b8 as Le,g as xe,d as Me,s as F,f as J,an as ce,b9 as de,ae as ee,$ as ve,ax as Re,ba as je,bb as ze,K as Be,L as K,N as $e,bc as Fe,n as P,bd as We,be as De,bf as Ue,bg as qe,bh as Ge,bi as He,bj as Ve,bk as Je,l as Y,m as _e,t as Z,p as Ke,a as Ye,B as Ze,z as Qe,T as M,k as Xe,A as et,I as tt,bl as st}from"./DXU5jnQ_.js";import{s as te}from"./BW5xtwr9.js";import{b as it,e as at,a as se,c as rt}from"./B-wedEgi.js";import{i as nt}from"./B3vO68tZ.js";import{t as ot,c as lt,s as ft,e as ut,i as ct}from"./JHaZoCpa.js";import{a as dt,i as vt,b as B,c as _t,f as ht,d as gt,n as bt,g as pt}from"./CKrhTcXd.js";import{B as yt,l as ie,p as L}from"./1UUrSLx-.js";function mt(e,t,s,i,r){S&&Q();var a=t.$$slots?.[s],n=!1;a===!0&&(a=t.children,n=!0),a===void 0||a(e,n?()=>i:i)}const kt=()=>performance.now(),C={tick:e=>requestAnimationFrame(e),now:()=>kt(),tasks:new Set};function he(){const e=C.now();C.tasks.forEach(t=>{t.c(e)||(C.tasks.delete(t),t.f())}),C.tasks.size!==0&&C.tick(he)}function wt(e){let t;return C.tasks.size===0&&C.tick(he),{promise:new Promise(s=>{C.tasks.add(t={c:e,f:s})}),abort(){C.tasks.delete(t)}}}function W(e,t){ue(()=>{e.dispatchEvent(new CustomEvent(t))})}function At(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function ae(e){const t={},s=e.split(";");for(const i of s){const[r,a]=i.split(":");if(!r||a===void 0)break;const n=At(r.trim());t[n]=a.trim()}return t}const St=e=>e;let ge=null;function re(e){ge=e}function Wt(e,t,s){var i=ge??$,r=i.nodes,a,n,o,u=null;r.a??={element:e,measure(){a=this.element.getBoundingClientRect()},apply(){if(o?.abort(),n=this.element.getBoundingClientRect(),a.left!==n.left||a.right!==n.right||a.top!==n.top||a.bottom!==n.bottom){const f=t()(this.element,{from:a,to:n},s?.());o=D(this.element,f,void 0,1,()=>{o?.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:f,width:p,height:g}=getComputedStyle(e);if(f!=="absolute"&&f!=="fixed"){var l=e.style;u={position:l.position,width:l.width,height:l.height,transform:l.transform},l.position="absolute",l.width=p,l.height=g;var b=e.getBoundingClientRect();if(a.left!==b.left||a.top!==b.top){var c=`translate(${a.left-b.left}px, ${a.top-b.top}px)`;l.transform=l.transform?`${l.transform} ${c}`:c}}}},unfix(){if(u){var f=e.style;f.position=u.position,f.width=u.width,f.height=u.height,f.transform=u.transform}}},r.a.element=e}function Dt(e,t,s,i){var r=(e&Ce)!==0,a=(e&Ie)!==0,n=r&&a,o=(e&Ne)!==0,u=n?"both":r?"in":"out",f,p=t.inert,g=t.style.overflow,l,b;function c(){return ue(()=>f??=s()(t,i?.()??{},{direction:u}))}var v={is_global:o,in(){if(t.inert=p,!r){b?.abort(),b?.reset?.();return}a||l?.abort(),l=D(t,c(),b,1,()=>{W(t,"introend"),l?.abort(),l=f=void 0,t.style.overflow=g})},out(N){if(!a){N?.(),f=void 0;return}t.inert=!0,b=D(t,c(),l,0,()=>{W(t,"outroend"),N?.()})},stop:()=>{l?.abort(),b?.abort()}},y=$;if((y.nodes.t??=[]).push(v),r&&dt){var _=o;if(!_){for(var k=y.parent;k&&(k.f&le)!==0;)for(;(k=k.parent)&&(k.f&Se)===0;);_=!k||(k.f&Te)!==0}_&&G(()=>{X(()=>v.in())})}}function D(e,t,s,i,r){var a=i===1;if(Ee(t)){var n,o=!1;return fe(()=>{if(!o){var y=t({direction:a?"in":"out"});n=D(e,y,s,i,r)}}),{abort:()=>{o=!0,n?.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(s?.deactivate(),!t?.duration&&!t?.delay)return W(e,a?"introstart":"outrostart"),r(),{abort:x,deactivate:x,reset:x,t:()=>i};const{delay:u=0,css:f,tick:p,easing:g=St}=t;var l=[];if(a&&s===void 0&&(p&&p(0,1),f)){var b=ae(f(0,1));l.push(b,b)}var c=()=>1-i,v=e.animate(l,{duration:u,fill:"forwards"});return v.onfinish=()=>{v.cancel(),W(e,a?"introstart":"outrostart");var y=s?.t()??1-i;s?.abort();var _=i-y,k=t.duration*Math.abs(_),N=[];if(k>0){var m=!1;if(f)for(var O=Math.ceil(k/16.666666666666668),d=0;d<=O;d+=1){var h=y+_*g(d/O),A=ae(f(h,1-h));N.push(A),m||=A.overflow==="hidden"}m&&(e.style.overflow="hidden"),c=()=>{var E=v.currentTime;return y+_*g(E/k)},p&&wt(()=>{if(v.playState!=="running")return!1;var E=c();return p(E,1-E),!0})}v=e.animate(N,{duration:k,fill:"forwards"}),v.onfinish=()=>{c=()=>i,p?.(i,1-i),r()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=x)},deactivate:()=>{r=x},reset:()=>{i===0&&p?.(1,0)},t:()=>c()}}function Tt(e,t,s,i,r,a){let n=S;S&&Q();var o=null;S&&V.nodeType===Oe&&(o=V,Q());var u=S?V:e,f=$,p=new yt(u,!1);Pe(()=>{const g=t()||null;var l=Le;if(g===null){p.ensure(null,null),B(!0);return}return p.ensure(g,b=>{if(g){if(o=S?o:document.createElementNS(l,g),it(o,o),i){S&&vt(g)&&o.append(document.createComment(""));var c=S?xe(o):o.appendChild(Me());S&&(c===null?F(!1):J(c)),re(f),i(o,c),re(null)}$.nodes.end=o,b.before(o)}S&&J(b)}),B(!0),()=>{g&&B(!1)}},le),ce(()=>{B(!0)}),n&&(F(!0),J(u))}function Nt(e,t){var s=void 0,i;de(()=>{s!==(s=t())&&(i&&(ee(i),i=null),s&&(i=ve(()=>{G(()=>s(e))})))})}function Et(e,t,s,i,r,a){var n=e.__className;if(S||n!==s||n===void 0){var o=ot(s,i,a);(!S||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):t?e.className=o:e.setAttribute("class",o)),e.__className=s}else if(a&&r!==a)for(var u in a){var f=!!a[u];(r==null||f!==!!r[u])&&e.classList.toggle(u,f)}return a}function U(e,t,s=!1){if(e.multiple){if(t==null)return;if(!Re(t))return je();for(var i of e.options)i.selected=t.includes(z(i));return}for(i of e.options){var r=z(i);if(ze(r,t)){i.selected=!0;return}}(!s||t!==void 0)&&(e.selectedIndex=-1)}function be(e){var t=new MutationObserver(()=>{U(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ce(()=>{t.disconnect()})}function Ut(e,t,s=t){var i=new WeakSet,r=!0;Be(e,"change",a=>{var n=a?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(n),z);else{var u=e.querySelector(n)??e.querySelector("option:not([disabled])");o=u&&z(u)}s(o),K!==null&&i.add(K)}),G(()=>{var a=t();if(e===document.activeElement){var n=$e??K;if(i.has(n))return}if(U(e,a,r),r&&a===void 0){var o=e.querySelector(":checked");o!==null&&(a=z(o),s(a))}e.__value=a,r=!1}),be(e)}function z(e){return"__value"in e?e.__value:e.value}const R=Symbol("class"),j=Symbol("style"),pe=Symbol("is custom element"),ye=Symbol("is html");function Ct(e){if(S){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var i=e.value;q(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var r=e.checked;q(e,"checked",null),e.checked=r}}};e.__on_r=s,fe(s),qe()}}function qt(e,t){var s=H(e);s.value===(s.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Gt(e,t){var s=H(e);s.checked!==(s.checked=t??void 0)&&(e.checked=t)}function It(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function q(e,t,s,i){var r=H(e);S&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=s)&&(t==="loading"&&(e[Ve]=s),s==null?e.removeAttribute(t):typeof s!="string"&&me(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function Ot(e,t,s,i,r=!1,a=!1){if(S&&r&&e.tagName==="INPUT"){var n=e,o=n.type==="checkbox"?"defaultChecked":"defaultValue";o in s||Ct(n)}var u=H(e),f=u[pe],p=!u[ye];let g=S&&f;g&&F(!1);var l=t||{},b=e.tagName==="OPTION";for(var c in t)c in s||(s[c]=null);s.class?s.class=lt(s.class):s[R]&&(s.class=null),s[j]&&(s.style??=null);var v=me(e);for(const d in s){let h=s[d];if(b&&d==="value"&&h==null){e.value=e.__value="",l[d]=h;continue}if(d==="class"){var y=e.namespaceURI==="http://www.w3.org/1999/xhtml";Et(e,y,h,i,t?.[R],s[R]),l[d]=h,l[R]=s[R];continue}if(d==="style"){ft(e,h,t?.[j],s[j]),l[d]=h,l[j]=s[j];continue}var _=l[d];if(!(h===_&&!(h===void 0&&e.hasAttribute(d)))){l[d]=h;var k=d[0]+d[1];if(k!=="$$")if(k==="on"){const A={},E="$$"+d;let T=d.slice(2);var N=pt(T);if(_t(T)&&(T=T.slice(0,-7),A.capture=!0),!N&&_){if(h!=null)continue;e.removeEventListener(T,l[E],A),l[E]=null}if(h!=null)if(N)e[`__${T}`]=h,gt([T]);else{let we=function(Ae){l[d].call(this,Ae)};l[E]=ht(T,e,we,A)}else N&&(e[`__${T}`]=void 0)}else if(d==="style")q(e,d,h);else if(d==="autofocus")De(e,!!h);else if(!f&&(d==="__value"||d==="value"&&h!=null))e.value=e.__value=h;else if(d==="selected"&&b)It(e,h);else{var m=d;p||(m=bt(m));var O=m==="defaultValue"||m==="defaultChecked";if(h==null&&!f&&!O)if(u[d]=null,m==="value"||m==="checked"){let A=e;const E=t===void 0;if(m==="value"){let T=A.defaultValue;A.removeAttribute(m),A.defaultValue=T,A.value=A.__value=E?T:null}else{let T=A.defaultChecked;A.removeAttribute(m),A.defaultChecked=T,A.checked=E?T:!1}}else e.removeAttribute(d);else O||v.includes(m)&&(f||typeof h!="string")?(e[m]=h,m in u&&(u[m]=Ue)):typeof h!="function"&&q(e,m,h)}}}return g&&F(!0),l}function ne(e,t,s=[],i=[],r=[],a,n=!1,o=!1){Fe(r,s,i,u=>{var f=void 0,p={},g=e.nodeName==="SELECT",l=!1;if(de(()=>{var c=t(...u.map(P)),v=Ot(e,f,c,a,n,o);l&&g&&"value"in c&&U(e,c.value);for(let _ of Object.getOwnPropertySymbols(p))c[_]||ee(p[_]);for(let _ of Object.getOwnPropertySymbols(c)){var y=c[_];_.description===We&&(!f||y!==f[_])&&(p[_]&&ee(p[_]),p[_]=ve(()=>Nt(e,()=>y))),v[_]=y}f=v}),g){var b=e;G(()=>{U(b,f.value,!0),be(b)})}l=!0})}function H(e){return e.__attributes??={[pe]:e.nodeName.includes("-"),[ye]:e.namespaceURI===Ge}}var oe=new Map;function me(e){var t=e.getAttribute("is")||e.nodeName,s=oe.get(t);if(s)return s;oe.set(t,s=[]);for(var i,r=e,a=Element.prototype;a!==r;){i=Je(r);for(var n in i)i[n].set&&s.push(n);r=He(r)}return s}const ke=[{name:"Zinc",class:"bg-zinc-500",hex:"#71717a"},{name:"Red",class:"bg-red-600",hex:"#dc2626"},{name:"Orange",class:"bg-orange-600",hex:"#ea580c"},{name:"Amber",class:"bg-amber-500",hex:"#f59e0b"},{name:"Green",class:"bg-green-600",hex:"#16a34a"},{name:"Emerald",class:"bg-emerald-500",hex:"#10b981"},{name:"Teal",class:"bg-teal-500",hex:"#14b8a6"},{name:"Cyan",class:"bg-cyan-500",hex:"#06b6d4"},{name:"Blue",class:"bg-blue-600",hex:"#2563eb"},{name:"Indigo",class:"bg-indigo-600",hex:"#4f46e5"},{name:"Violet",class:"bg-violet-600",hex:"#7c3aed"},{name:"Purple",class:"bg-purple-600",hex:"#9333ea"},{name:"Fuchsia",class:"bg-fuchsia-600",hex:"#c026d3"},{name:"Pink",class:"bg-pink-600",hex:"#db2777"},{name:"Rose",class:"bg-rose-600",hex:"#e11d48"}],I={calls_types:[{id:1,label:"Open Call"},{id:2,label:"Residency"},{id:3,label:"Grant"},{id:4,label:"Job Offer"},{id:5,label:"Other"}],project_types:[],task_types:[{id:"1",label:"Design",color:"bg-purple-600"},{id:"2",label:"Dev",color:"bg-indigo-600"},{id:"3",label:"Admin",color:"bg-zinc-500"}],notes_types:ke.map((e,t)=>({id:t,color:e.hex})),global_types:{accent:"bg-indigo-600",transition_duration:200},daily_type:{work:[],study:[],culture:[],art:[],music:[],exercise:[],leisure:[]}};class Pt{#e=Y(_e(I));get settings(){return P(this.#e)}set settings(t){Z(this.#e,t,!0)}#t=Y(!0);get isLoading(){return P(this.#t)}set isLoading(t){Z(this.#t,t,!0)}#s=Y(!1);get isInitialized(){return P(this.#s)}set isInitialized(t){Z(this.#s,t,!0)}initPromise=null;constructor(){}reset(){this.settings=JSON.parse(JSON.stringify(I)),this.isLoading=!0,this.isInitialized=!1,this.initPromise=null}async init(){if(!this.isInitialized){if(this.initPromise)return this.initPromise;this.initPromise=this._doInit();try{await this.initPromise}finally{this.initPromise=null}}}async _doInit(){this.isLoading=!0;const{data:t,error:s}=await te.from("globalSettings").select("*").order("id",{ascending:!1}).limit(1).single();t?this.settings={id:t.id,calls_types:t.calls_types||I.calls_types,project_types:t.project_types||I.project_types,task_types:t.task_types||I.task_types,notes_types:t.notes_types||I.notes_types,global_types:t.global_types||I.global_types,daily_type:t.daily_type||I.daily_type}:s&&s.code!=="PGRST116"?console.error("Error fetching settings:",s):this.saveSettings(),this.isLoading=!1,this.isInitialized=!0}async saveSettings(){const t={calls_types:this.settings.calls_types,project_types:this.settings.project_types,task_types:this.settings.task_types,notes_types:this.settings.notes_types,global_types:this.settings.global_types,daily_type:this.settings.daily_type},{data:s,error:i}=await te.from("globalSettings").insert(t).select().single();i?console.error("Error creating settings:",i):s&&(this.settings.id=s.id)}getCallTypeLabel(t){return t&&this.settings.calls_types.find(s=>s.id==t)?.label||"Unknown"}getProjectType(t){if(t!==null)return this.settings.project_types.find(s=>s.id==t)}getTaskType(t){if(t)return this.settings.task_types.find(s=>s.id==t)}getAccentHex(){const t=this.settings.global_types.accent;return ke.find(i=>i.class===t)?.hex||"#4f46e5"}getAccentLightHex(){const t=this.getAccentHex();return this.lightenColor(t,.3)}getTransitionDuration(){return this.settings.global_types.transition_duration??200}lightenColor(t,s){const i=parseInt(t.replace("#",""),16),r=Math.min(255,Math.floor((i>>16)+(255-(i>>16))*s)),a=Math.min(255,Math.floor((i>>8&255)+(255-(i>>8&255))*s)),n=Math.min(255,Math.floor((i&255)+(255-(i&255))*s));return`#${(r<<16|a<<8|n).toString(16).padStart(6,"0")}`}}const Ht=new Pt;const Lt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var xt=at("<svg><!><!></svg>");function Vt(e,t){const s=ie(t,["children","$$slots","$$events","$$legacy"]),i=ie(s,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Ke(t,!1);let r=L(t,"name",8,void 0),a=L(t,"color",8,"currentColor"),n=L(t,"size",8,24),o=L(t,"strokeWidth",8,2),u=L(t,"absoluteStrokeWidth",8,!1),f=L(t,"iconNode",24,()=>[]);const p=(...c)=>c.filter((v,y,_)=>!!v&&_.indexOf(v)===y).join(" ");nt();var g=xt();ne(g,(c,v)=>({...Lt,...i,width:n(),height:n(),stroke:a(),"stroke-width":c,class:v}),[()=>(M(u()),M(o()),M(n()),X(()=>u()?Number(o())*24/Number(n()):o())),()=>(M(r()),M(s),X(()=>p("lucide-icon","lucide",r()?`lucide-${r()}`:"",s.class)))]);var l=Qe(g);ut(l,1,f,ct,(c,v)=>{var y=tt(()=>st(P(v),2));let _=()=>P(y)[0],k=()=>P(y)[1];var N=rt(),m=Xe(N);Tt(m,_,!0,(O,d)=>{ne(O,()=>({...k()}))}),se(c,N)});var b=Ze(l);mt(b,t,"default",{}),et(g),se(e,g),Ye()}const w=_e({isOpen:!1,message:"",title:"Alert",type:"alert",confirmText:"Confirm",cancelText:"Cancel",isDestructive:!1,resolvePromise:null});function Jt(e,t="Alert"){w.message=e,w.title=t,w.type="alert",w.isOpen=!0,w.resolvePromise=null}function Kt(e,t="Confirm",s={}){return w.message=e,w.title=t,w.type="confirm",w.confirmText=s.confirmText??"Confirm",w.cancelText=s.cancelText??"Cancel",w.isDestructive=s.isDestructive??!1,w.isOpen=!0,new Promise(i=>{w.resolvePromise=i})}function Yt(e=!1){w.isOpen=!1,w.resolvePromise&&(w.resolvePromise(e),w.resolvePromise=null)}export{Vt as I,ke as P,Ht as a,Ut as b,Et as c,Kt as d,Jt as e,w as f,q as g,qt as h,Wt as i,Gt as j,Yt as k,Ct as r,mt as s,Dt as t};
