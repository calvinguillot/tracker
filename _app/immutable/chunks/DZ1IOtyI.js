import{b as Re,e as De,a as ie,c as He}from"./BqEl5C80.js";import{i as je}from"./DyB6Jsl2.js";import{X as W,b as be,aR as ye,N as H,D as A,O as me,F as q,k as P,ac as xe,$ as ze,a0 as Ue,a1 as ae,a2 as R,I as M,J as Ve,aN as Fe,aA as ne,Q as $,aS as I,Y as F,_ as We,a8 as le,a3 as $e,aL as te,aT as Ae,aU as qe,aV as Be,aW as Ge,U as Ee,W as Se,aX as J,q as Te,K as Ye,aY as Ke,aK as Xe,V as B,aZ as Ze,E as Je,a_ as Qe,G as er,a6 as ke,a$ as we,e as se,b0 as rr,b1 as tr,P as sr,T as ir,b2 as ar,b3 as nr,b4 as lr,b5 as fr,b6 as or,b7 as ur,b8 as cr,b9 as dr,ba as vr,p as gr,a as hr,h as pr,j as _r,u as fe,A as j,i as br,f as yr,v as mr,bb as Ar,c as Ne,s as oe,g as ue}from"./DVg-wcBP.js";import{i as Er,a as Sr,c as Tr,d as kr,n as wr,b as Nr}from"./Bj2CMk_O.js";import{B as Cr,l as ce,p as D}from"./C66CeOwb.js";import{s as de}from"./Bkout0r_.js";function Ir(e,r){return r}function Or(e,r,t){for(var s=[],i=r.length,a,n=r.length,f=0;f<i;f++){let h=r[f];Se(h,()=>{if(a){if(a.pending.delete(h),a.done.add(h),a.pending.size===0){var u=e.outrogroups;re(te(a.done)),u.delete(a),u.size===0&&(e.outrogroups=null)}}else n-=1},!1)}if(n===0){var o=s.length===0&&t!==null;if(o){var v=t,c=v.parentNode;Xe(c),c.append(v),e.items.clear()}re(r,!o)}else a={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(a)}function re(e,r=!0){for(var t=0;t<e.length;t++)B(e[t],r)}var ve;function Pr(e,r,t,s,i,a=null){var n=e,f=new Map,o=(r&ye)!==0;if(o){var v=e;n=A?H(me(v)):v.appendChild(W())}A&&q();var c=null,h=xe(()=>{var d=t();return Ae(d)?d:d==null?[]:te(d)}),u,b=!0;function m(){l.fallback=c,Lr(l,u,n,r,s),c!==null&&(u.length===0?(c.f&I)===0?Ee(c):(c.f^=I,U(c,null,n)):Se(c,()=>{c=null}))}var E=be(()=>{u=P(h);var d=u.length;let C=!1;if(A){var k=ze(n)===Ue;k!==(d===0)&&(n=ae(),H(n),R(!1),C=!0)}for(var y=new Set,N=$,p=We(),g=0;g<d;g+=1){A&&M.nodeType===Ve&&M.data===Fe&&(n=M,C=!0,R(!1));var S=u[g],w=s(S,g),_=b?null:f.get(w);_?(_.v&&ne(_.v,S),_.i&&ne(_.i,g),p&&N.skipped_effects.delete(_.e)):(_=Mr(f,b?n:ve??=W(),S,w,g,i,r,t),b||(_.e.f|=I),f.set(w,_)),y.add(w)}if(d===0&&a&&!c&&(b?c=F(()=>a(n)):(c=F(()=>a(ve??=W())),c.f|=I)),A&&d>0&&H(ae()),!b)if(p){for(const[X,Z]of f)y.has(X)||N.skipped_effects.add(Z.e);N.oncommit(m),N.ondiscard(()=>{})}else m();C&&R(!0),P(h)}),l={effect:E,items:f,outrogroups:null,fallback:c};b=!1,A&&(n=M)}function Lr(e,r,t,s,i){var a=(s&Ke)!==0,n=r.length,f=e.items,o=e.effect.first,v,c=null,h,u=[],b=[],m,E,l,d;if(a)for(d=0;d<n;d+=1)m=r[d],E=i(m,d),l=f.get(E).e,(l.f&I)===0&&(l.nodes?.a?.measure(),(h??=new Set).add(l));for(d=0;d<n;d+=1){if(m=r[d],E=i(m,d),l=f.get(E).e,e.outrogroups!==null)for(const _ of e.outrogroups)_.pending.delete(l),_.done.delete(l);if((l.f&I)!==0)if(l.f^=I,l===o)U(l,null,t);else{var C=c?c.next:o;l===e.effect.last&&(e.effect.last=l.prev),l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),O(e,c,l),O(e,l,C),U(l,C,t),c=l,u=[],b=[],o=c.next;continue}if((l.f&J)!==0&&(Ee(l),a&&(l.nodes?.a?.unfix(),(h??=new Set).delete(l))),l!==o){if(v!==void 0&&v.has(l)){if(u.length<b.length){var k=b[0],y;c=k.prev;var N=u[0],p=u[u.length-1];for(y=0;y<u.length;y+=1)U(u[y],k,t);for(y=0;y<b.length;y+=1)v.delete(b[y]);O(e,N.prev,p.next),O(e,c,N),O(e,p,k),o=k,c=p,d-=1,u=[],b=[]}else v.delete(l),U(l,o,t),O(e,l.prev,l.next),O(e,l,c===null?e.effect.first:c.next),O(e,c,l),c=l;continue}for(u=[],b=[];o!==null&&o!==l;)(v??=new Set).add(o),b.push(o),o=o.next;if(o===null)continue}(l.f&I)===0&&u.push(l),c=l,o=l.next}if(e.outrogroups!==null){for(const _ of e.outrogroups)_.pending.size===0&&(re(te(_.done)),e.outrogroups?.delete(_));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||v!==void 0){var g=[];if(v!==void 0)for(l of v)(l.f&J)===0&&g.push(l);for(;o!==null;)(o.f&J)===0&&o!==e.fallback&&g.push(o),o=o.next;var S=g.length;if(S>0){var w=(s&ye)!==0&&n===0?t:null;if(a){for(d=0;d<S;d+=1)g[d].nodes?.a?.measure();for(d=0;d<S;d+=1)g[d].nodes?.a?.fix()}Or(e,g,w)}}a&&Te(()=>{if(h!==void 0)for(l of h)l.nodes?.a?.apply()})}function Mr(e,r,t,s,i,a,n,f){var o=(n&qe)!==0?(n&Be)===0?$e(t,!1,!1):le(t):null,v=(n&Ge)!==0?le(i):null;return{v:o,i:v,e:F(()=>(a(r,o??t,v??i,f),()=>{e.delete(s)}))}}function U(e,r,t){if(e.nodes)for(var s=e.nodes.start,i=e.nodes.end,a=r&&(r.f&I)===0?r.nodes.start:t;s!==null;){var n=Ye(s);if(a.before(s),s===i)return;s=n}}function O(e,r,t){r===null?e.effect.first=t:r.next=t,t===null?e.effect.last=r:t.prev=r}function Rr(e,r,t,s,i){A&&q();var a=r.$$slots?.[t],n=!1;a===!0&&(a=r.children,n=!0),a===void 0||a(e,n?()=>s:s)}function Dr(e,r,t,s,i,a){let n=A;A&&q();var f=null;A&&M.nodeType===Ze&&(f=M,q());var o=A?M:e,v=new Cr(o,!1);be(()=>{const c=r()||null;var h=Qe;if(c===null){v.ensure(null,null);return}return v.ensure(c,u=>{if(c){if(f=A?f:document.createElementNS(h,c),Re(f,f),s){A&&Er(c)&&f.append(document.createComment(""));var b=A?me(f):f.appendChild(W());A&&(b===null?R(!1):H(b)),s(f,b)}er.nodes.end=f,u.before(f)}A&&H(u)}),()=>{}},Je),ke(()=>{}),n&&(R(!0),H(o))}function Hr(e,r){var t=void 0,s;we(()=>{t!==(t=r())&&(s&&(B(s),s=null),t&&(s=F(()=>{se(()=>t(e))})))})}function Ce(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(r=0;r<i;r++)e[r]&&(t=Ce(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function jr(){for(var e,r,t=0,s="",i=arguments.length;t<i;t++)(e=arguments[t])&&(r=Ce(e))&&(s&&(s+=" "),s+=r);return s}function xr(e){return typeof e=="object"?jr(e):e??""}const ge=[...` 	
\r\fÂ \v\uFEFF`];function zr(e,r,t){var s=e==null?"":""+e;if(r&&(s=s?s+" "+r:r),t){for(var i in t)if(t[i])s=s?s+" "+i:i;else if(s.length)for(var a=i.length,n=0;(n=s.indexOf(i,n))>=0;){var f=n+a;(n===0||ge.includes(s[n-1]))&&(f===s.length||ge.includes(s[f]))?s=(n===0?"":s.substring(0,n))+s.substring(f+1):n=f}}return s===""?null:s}function he(e,r=!1){var t=r?" !important;":";",s="";for(var i in e){var a=e[i];a!=null&&a!==""&&(s+=" "+i+": "+a+t)}return s}function Q(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ur(e,r){if(r){var t="",s,i;if(Array.isArray(r)?(s=r[0],i=r[1]):s=r,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,n=0,f=!1,o=[];s&&o.push(...Object.keys(s).map(Q)),i&&o.push(...Object.keys(i).map(Q));var v=0,c=-1;const E=e.length;for(var h=0;h<E;h++){var u=e[h];if(f?u==="/"&&e[h-1]==="*"&&(f=!1):a?a===u&&(a=!1):u==="/"&&e[h+1]==="*"?f=!0:u==='"'||u==="'"?a=u:u==="("?n++:u===")"&&n--,!f&&a===!1&&n===0){if(u===":"&&c===-1)c=h;else if(u===";"||h===E-1){if(c!==-1){var b=Q(e.substring(v,c).trim());if(!o.includes(b)){u!==";"&&h++;var m=e.substring(v,h).trim();t+=" "+m+";"}}v=h+1,c=-1}}}}return s&&(t+=he(s)),i&&(t+=he(i,!0)),t=t.trim(),t===""?null:t}return e==null?null:String(e)}function Vr(e,r,t,s,i,a){var n=e.__className;if(A||n!==t||n===void 0){var f=zr(t,s,a);(!A||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):r?e.className=f:e.setAttribute("class",f)),e.__className=t}else if(a&&i!==a)for(var o in a){var v=!!a[o];(i==null||v!==!!i[o])&&e.classList.toggle(o,v)}return a}function ee(e,r={},t,s){for(var i in t){var a=t[i];r[i]!==a&&(t[i]==null?e.style.removeProperty(i):e.style.setProperty(i,a,s))}}function Fr(e,r,t,s){var i=e.__style;if(A||i!==r){var a=Ur(r,s);(!A||a!==e.getAttribute("style"))&&(a==null?e.removeAttribute("style"):e.style.cssText=a),e.__style=r}else s&&(Array.isArray(s)?(ee(e,t?.[0],s[0]),ee(e,t?.[1],s[1],"important")):ee(e,t,s));return s}function G(e,r,t=!1){if(e.multiple){if(r==null)return;if(!Ae(r))return rr();for(var s of e.options)s.selected=r.includes(V(s));return}for(s of e.options){var i=V(s);if(tr(i,r)){s.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function Ie(e){var r=new MutationObserver(()=>{G(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ke(()=>{r.disconnect()})}function rt(e,r,t=r){var s=new WeakSet,i=!0;sr(e,"change",a=>{var n=a?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(n),V);else{var o=e.querySelector(n)??e.querySelector("option:not([disabled])");f=o&&V(o)}t(f),$!==null&&s.add($)}),se(()=>{var a=r();if(e===document.activeElement){var n=ir??$;if(s.has(n))return}if(G(e,a,i),i&&a===void 0){var f=e.querySelector(":checked");f!==null&&(a=V(f),t(a))}e.__value=a,i=!1}),Ie(e)}function V(e){return"__value"in e?e.__value:e.value}const x=Symbol("class"),z=Symbol("style"),Oe=Symbol("is custom element"),Pe=Symbol("is html");function Wr(e){if(A){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;Y(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;Y(e,"checked",null),e.checked=i}}};e.__on_r=t,Te(t),or()}}function tt(e,r){var t=K(e);t.value===(t.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function st(e,r){var t=K(e);t.checked!==(t.checked=r??void 0)&&(e.checked=r)}function $r(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Y(e,r,t,s){var i=K(e);A&&(i[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||i[r]!==(i[r]=t)&&(r==="loading"&&(e[dr]=t),t==null?e.removeAttribute(r):typeof t!="string"&&Le(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function qr(e,r,t,s,i=!1,a=!1){if(A&&i&&e.tagName==="INPUT"){var n=e,f=n.type==="checkbox"?"defaultChecked":"defaultValue";f in t||Wr(n)}var o=K(e),v=o[Oe],c=!o[Pe];let h=A&&v;h&&R(!1);var u=r||{},b=e.tagName==="OPTION";for(var m in r)m in t||(t[m]=null);t.class?t.class=xr(t.class):t[x]&&(t.class=null),t[z]&&(t.style??=null);var E=Le(e);for(const p in t){let g=t[p];if(b&&p==="value"&&g==null){e.value=e.__value="",u[p]=g;continue}if(p==="class"){var l=e.namespaceURI==="http://www.w3.org/1999/xhtml";Vr(e,l,g,s,r?.[x],t[x]),u[p]=g,u[x]=t[x];continue}if(p==="style"){Fr(e,g,r?.[z],t[z]),u[p]=g,u[z]=t[z];continue}var d=u[p];if(!(g===d&&!(g===void 0&&e.hasAttribute(p)))){u[p]=g;var C=p[0]+p[1];if(C!=="$$")if(C==="on"){const S={},w="$$"+p;let _=p.slice(2);var k=Nr(_);if(Sr(_)&&(_=_.slice(0,-7),S.capture=!0),!k&&d){if(g!=null)continue;e.removeEventListener(_,u[w],S),u[w]=null}if(g!=null)if(k)e[`__${_}`]=g,kr([_]);else{let X=function(Z){u[p].call(this,Z)};u[w]=Tr(_,e,X,S)}else k&&(e[`__${_}`]=void 0)}else if(p==="style")Y(e,p,g);else if(p==="autofocus")lr(e,!!g);else if(!v&&(p==="__value"||p==="value"&&g!=null))e.value=e.__value=g;else if(p==="selected"&&b)$r(e,g);else{var y=p;c||(y=wr(y));var N=y==="defaultValue"||y==="defaultChecked";if(g==null&&!v&&!N)if(o[p]=null,y==="value"||y==="checked"){let S=e;const w=r===void 0;if(y==="value"){let _=S.defaultValue;S.removeAttribute(y),S.defaultValue=_,S.value=S.__value=w?_:null}else{let _=S.defaultChecked;S.removeAttribute(y),S.defaultChecked=_,S.checked=w?_:!1}}else e.removeAttribute(p);else N||E.includes(y)&&(v||typeof g!="string")?(e[y]=g,y in o&&(o[y]=fr)):typeof g!="function"&&Y(e,y,g)}}}return h&&R(!0),u}function pe(e,r,t=[],s=[],i=[],a,n=!1,f=!1){ar(i,t,s,o=>{var v=void 0,c={},h=e.nodeName==="SELECT",u=!1;if(we(()=>{var m=r(...o.map(P)),E=qr(e,v,m,a,n,f);u&&h&&"value"in m&&G(e,m.value);for(let d of Object.getOwnPropertySymbols(c))m[d]||B(c[d]);for(let d of Object.getOwnPropertySymbols(m)){var l=m[d];d.description===nr&&(!v||l!==v[d])&&(c[d]&&B(c[d]),c[d]=F(()=>Hr(e,()=>l))),E[d]=l}v=E}),h){var b=e;se(()=>{G(b,v.value,!0),Ie(b)})}u=!0})}function K(e){return e.__attributes??={[Oe]:e.nodeName.includes("-"),[Pe]:e.namespaceURI===ur}}var _e=new Map;function Le(e){var r=e.getAttribute("is")||e.nodeName,t=_e.get(r);if(t)return t;_e.set(r,t=[]);for(var s,i=e,a=Element.prototype;a!==i;){s=vr(i);for(var n in s)s[n].set&&t.push(n);i=cr(i)}return t}const Br={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Gr=De("<svg><!><!></svg>");function it(e,r){const t=ce(r,["children","$$slots","$$events","$$legacy"]),s=ce(t,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);gr(r,!1);let i=D(r,"name",8,void 0),a=D(r,"color",8,"currentColor"),n=D(r,"size",8,24),f=D(r,"strokeWidth",8,2),o=D(r,"absoluteStrokeWidth",8,!1),v=D(r,"iconNode",24,()=>[]);const c=(...m)=>m.filter((E,l,d)=>!!E&&d.indexOf(E)===l).join(" ");je();var h=Gr();pe(h,(m,E)=>({...Br,...s,width:n(),height:n(),stroke:a(),"stroke-width":m,class:E}),[()=>(j(o()),j(f()),j(n()),fe(()=>o()?Number(f())*24/Number(n()):f())),()=>(j(i()),j(t),fe(()=>c("lucide-icon","lucide",i()?`lucide-${i()}`:"",t.class)))]);var u=pr(h);Pr(u,1,v,Ir,(m,E)=>{var l=mr(()=>Ar(P(E),2));let d=()=>P(l)[0],C=()=>P(l)[1];var k=He(),y=yr(k);Dr(y,d,!0,(N,p)=>{pe(N,()=>({...C()}))}),ie(m,k)});var b=_r(u);Rr(b,r,"default",{}),br(h),ie(e,h),hr()}const T=Ne({isOpen:!1,message:"",title:"Alert",type:"alert",confirmText:"Confirm",cancelText:"Cancel",isDestructive:!1,resolvePromise:null});function at(e,r="Alert"){T.message=e,T.title=r,T.type="alert",T.isOpen=!0,T.resolvePromise=null}function nt(e,r="Confirm",t={}){return T.message=e,T.title=r,T.type="confirm",T.confirmText=t.confirmText??"Confirm",T.cancelText=t.cancelText??"Cancel",T.isDestructive=t.isDestructive??!1,T.isOpen=!0,new Promise(s=>{T.resolvePromise=s})}function lt(e=!1){T.isOpen=!1,T.resolvePromise&&(T.resolvePromise(e),T.resolvePromise=null)}const Me=[{name:"Zinc",class:"bg-zinc-500",hex:"#71717a"},{name:"Red",class:"bg-red-600",hex:"#dc2626"},{name:"Orange",class:"bg-orange-600",hex:"#ea580c"},{name:"Amber",class:"bg-amber-500",hex:"#f59e0b"},{name:"Green",class:"bg-green-600",hex:"#16a34a"},{name:"Emerald",class:"bg-emerald-500",hex:"#10b981"},{name:"Teal",class:"bg-teal-500",hex:"#14b8a6"},{name:"Cyan",class:"bg-cyan-500",hex:"#06b6d4"},{name:"Blue",class:"bg-blue-600",hex:"#2563eb"},{name:"Indigo",class:"bg-indigo-600",hex:"#4f46e5"},{name:"Violet",class:"bg-violet-600",hex:"#7c3aed"},{name:"Purple",class:"bg-purple-600",hex:"#9333ea"},{name:"Fuchsia",class:"bg-fuchsia-600",hex:"#c026d3"},{name:"Pink",class:"bg-pink-600",hex:"#db2777"},{name:"Rose",class:"bg-rose-600",hex:"#e11d48"}],L={calls_types:[{id:1,label:"Open Call"},{id:2,label:"Residency"},{id:3,label:"Grant"},{id:4,label:"Job Offer"},{id:5,label:"Other"}],project_types:[],task_types:[{id:"1",label:"Design",color:"bg-purple-600"},{id:"2",label:"Dev",color:"bg-indigo-600"},{id:"3",label:"Admin",color:"bg-zinc-500"}],notes_types:Me.map((e,r)=>({id:r,color:e.hex})),global_types:{accent:"bg-indigo-600"},daily_type:{work:[],study:[],culture:[],art:[],music:[],exercise:[],leisure:[]}};class Yr{#e=oe(Ne(L));get settings(){return P(this.#e)}set settings(r){ue(this.#e,r,!0)}#r=oe(!0);get isLoading(){return P(this.#r)}set isLoading(r){ue(this.#r,r,!0)}initPromise=null;constructor(){}async init(){if(this.initPromise)return this.initPromise;this.initPromise=this._doInit();try{await this.initPromise}finally{this.initPromise=null}}async _doInit(){this.isLoading=!0;const{data:r,error:t}=await de.from("globalSettings").select("*").order("id",{ascending:!1}).limit(1).single();r?this.settings={id:r.id,calls_types:r.calls_types||L.calls_types,project_types:r.project_types||L.project_types,task_types:r.task_types||L.task_types,notes_types:r.notes_types||L.notes_types,global_types:r.global_types||L.global_types,daily_type:r.daily_type||L.daily_type}:t&&t.code!=="PGRST116"?console.error("Error fetching settings:",t):this.saveSettings(),this.isLoading=!1}async saveSettings(){const r={calls_types:this.settings.calls_types,project_types:this.settings.project_types,task_types:this.settings.task_types,notes_types:this.settings.notes_types,global_types:this.settings.global_types,daily_type:this.settings.daily_type},{data:t,error:s}=await de.from("globalSettings").insert(r).select().single();s?console.error("Error creating settings:",s):t&&(this.settings.id=t.id)}getCallTypeLabel(r){return r&&this.settings.calls_types.find(t=>t.id==r)?.label||"Unknown"}getProjectType(r){if(r!==null)return this.settings.project_types.find(t=>t.id==r)}getTaskType(r){if(r)return this.settings.task_types.find(t=>t.id==r)}getAccentHex(){const r=this.settings.global_types.accent;return Me.find(s=>s.class===r)?.hex||"#4f46e5"}getAccentLightHex(){const r=this.getAccentHex();return this.lightenColor(r,.3)}lightenColor(r,t){const s=parseInt(r.replace("#",""),16),i=Math.min(255,Math.floor((s>>16)+(255-(s>>16))*t)),a=Math.min(255,Math.floor((s>>8&255)+(255-(s>>8&255))*t)),n=Math.min(255,Math.floor((s&255)+(255-(s&255))*t));return`#${(i<<16|a<<8|n).toString(16).padStart(6,"0")}`}}const ft=new Yr;export{it as I,Me as P,ft as a,Fr as b,rt as c,T as d,Pr as e,at as f,Vr as g,Y as h,Ir as i,nt as j,st as k,tt as l,xr as m,lt as n,Wr as r,Rr as s};
