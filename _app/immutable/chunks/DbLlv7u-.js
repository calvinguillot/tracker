import{W as q,E as L,_ as $,$ as j,j as x,u as z,a0 as B,a1 as M,q as P,J as m,a2 as R,a3 as U,a4 as W}from"./BVFz32Il.js";import{a as G}from"./pKnFB2my.js";const J=()=>performance.now(),c={tick:r=>requestAnimationFrame(r),now:()=>J(),tasks:new Set};function g(){const r=c.now();c.tasks.forEach(t=>{t.c(r)||(c.tasks.delete(t),t.f())}),c.tasks.size!==0&&c.tick(g)}function K(r){let t;return c.tasks.size===0&&c.tick(g),{promise:new Promise(a=>{c.tasks.add(t={c:r,f:a})}),abort(){c.tasks.delete(t)}}}function b(r,t){R(()=>{r.dispatchEvent(new CustomEvent(t))})}function D(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function S(r){const t={},a=r.split(";");for(const i of a){const[e,o]=i.split(":");if(!e||o===void 0)break;const f=D(e.trim());t[f]=o.trim()}return t}const H=r=>r;function Y(r,t,a,i){var e=(r&U)!==0,o=(r&W)!==0,f=e&&o,w=(r&B)!==0,y=f?"both":e?"in":"out",v,d=t.inert,T=t.style.overflow,u,p;function h(){return R(()=>v??=a()(t,i?.()??{},{direction:y}))}var n={is_global:w,in(){if(t.inert=d,!e){p?.abort(),p?.reset?.();return}o||u?.abort(),u=A(t,h(),p,1,()=>{b(t,"introend"),u?.abort(),u=v=void 0,t.style.overflow=T})},out(k){if(!o){k?.(),v=void 0;return}t.inert=!0,p=A(t,h(),u,0,()=>{b(t,"outroend"),k?.()})},stop:()=>{u?.abort(),p?.abort()}},_=q;if((_.nodes.t??=[]).push(n),e&&G){var l=w;if(!l){for(var s=_.parent;s&&(s.f&L)!==0;)for(;(s=s.parent)&&(s.f&$)===0;);l=!s||(s.f&j)!==0}l&&x(()=>{z(()=>n.in())})}}function A(r,t,a,i,e){var o=i===1;if(M(t)){var f,w=!1;return P(()=>{if(!w){var _=t({direction:o?"in":"out"});f=A(r,_,a,i,e)}}),{abort:()=>{w=!0,f?.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(a?.deactivate(),!t?.duration&&!t?.delay)return b(r,o?"introstart":"outrostart"),e(),{abort:m,deactivate:m,reset:m,t:()=>i};const{delay:y=0,css:v,tick:d,easing:T=H}=t;var u=[];if(o&&a===void 0&&(d&&d(0,1),v)){var p=S(v(0,1));u.push(p,p)}var h=()=>1-i,n=r.animate(u,{duration:y,fill:"forwards"});return n.onfinish=()=>{n.cancel(),b(r,o?"introstart":"outrostart");var _=a?.t()??1-i;a?.abort();var l=i-_,s=t.duration*Math.abs(l),k=[];if(s>0){var F=!1;if(v)for(var C=Math.ceil(s/16.666666666666668),N=0;N<=C;N+=1){var I=_+l*T(N/C),O=S(v(I,1-I));k.push(O),F||=O.overflow==="hidden"}F&&(r.style.overflow="hidden"),h=()=>{var E=n.currentTime;return _+l*T(E/s)},d&&K(()=>{if(n.playState!=="running")return!1;var E=h();return d(E,1-E),!0})}n=r.animate(k,{duration:s,fill:"forwards"}),n.onfinish=()=>{h=()=>i,d?.(i,1-i),e()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=m)},deactivate:()=>{e=m},reset:()=>{i===0&&d?.(1,0)},t:()=>h()}}const Q=r=>r;function Z(r,{delay:t=0,duration:a=400,easing:i=Q}={}){const e=+getComputedStyle(r).opacity;return{delay:t,duration:a,easing:i,css:o=>`opacity: ${o*e}`}}export{Z as f,Y as t};
