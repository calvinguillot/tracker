import{c as cn,a as j,f as Me,e as Ce}from"../chunks/DfBUW2EX.js";import{j as Bi,u as Vi,p as dt,o as ri,bo as H,n as l,a9 as ka,bm as ne,bl as Zi,br as T,bs as Qi,k as tt,a as gt,A as N,B as C,F as ye,t as ce,P as S,bt as Pe,bp as Ht,J as ai,K as se,D as q,l as Re,m as Yr,aA as Pn,z as Xi}from"../chunks/CWKX6I-G.js";import{s as Se,d as ii,e as Ji}from"../chunks/CYGYm-mD.js";import{p as h,i as we,b as _t,a as p,c as O}from"../chunks/dtqBgZjR.js";import{s as ft,c as $,e as $t,a as On,i as Fn,r as Da}from"../chunks/KZ_UlTxQ.js";import{b as Sa}from"../chunks/BTcorzso.js";import{s as Rt}from"../chunks/Bkout0r_.js";import{i as Ki}from"../chunks/C4eGRuLY.js";import{s as eo}from"../chunks/CTvbdkQS.js";import{b as Gr}from"../chunks/yKyR3H6i.js";import{s as Hn}from"../chunks/CrOrkKwm.js";import{L as to}from"../chunks/bHIvvzCn.js";class qr{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var a=this.#e.get(t);a.delete(n),a.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){qr.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var no=new qr({box:"border-box"});function Ta(e,t,n){var r=no.observe(e,()=>n(e[t]));Bi(()=>(Vi(()=>n(e[t])),r))}function ro(e){return e===0?!0:e}function lt(e){return ro(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function ao(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}const io=(e,t=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(void 0,r)},t)}};function on(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jn(e){let t,n,r;e.length!==2?(t=on,n=(c,f)=>on(e(c),f),r=(c,f)=>e(c)-f):(t=e===on||e===oo?e:co,n=e,r=e);function a(c,f,s=0,m=c.length){if(s<m){if(t(f,f)!==0)return m;do{const d=s+m>>>1;n(c[d],f)<0?s=d+1:m=d}while(s<m)}return s}function i(c,f,s=0,m=c.length){if(s<m){if(t(f,f)!==0)return m;do{const d=s+m>>>1;n(c[d],f)<=0?s=d+1:m=d}while(s<m)}return s}function o(c,f,s=0,m=c.length){const d=a(c,f,s,m-1);return d>s&&r(c[d-1],f)>-r(c[d],f)?d-1:d}return{left:a,center:o,right:i}}function co(){return 0}function so(e){return e===null?NaN:+e}const uo=Jn(on),lo=uo.right;Jn(so).center;class fo extends Set{constructor(t,n=yo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(go(this,t))}add(t){return super.add(ho(this,t))}delete(t){return super.delete(mo(this,t))}}function go({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ho({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function yo(e){return e!==null&&typeof e=="object"?e.valueOf():e}const xo=Math.sqrt(50),vo=Math.sqrt(10),bo=Math.sqrt(2);function jn(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=xo?10:i>=vo?5:i>=bo?2:1;let c,f,s;return a<0?(s=Math.pow(10,-a)/o,c=Math.round(e*s),f=Math.round(t*s),c/s<e&&++c,f/s>t&&--f,s=-s):(s=Math.pow(10,a)*o,c=Math.round(e/s),f=Math.round(t/s),c*s<e&&++c,f*s>t&&--f),f<c&&.5<=n&&n<2?jn(e,t,n*2):[c,f,s]}function po(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?jn(t,e,n):jn(e,t,n);if(!(i>=a))return[];const c=i-a+1,f=new Array(c);if(r)if(o<0)for(let s=0;s<c;++s)f[s]=(i-s)/-o;else for(let s=0;s<c;++s)f[s]=(i-s)*o;else if(o<0)for(let s=0;s<c;++s)f[s]=(a+s)/-o;else for(let s=0;s<c;++s)f[s]=(a+s)*o;return f}function Or(e,t,n){return t=+t,e=+e,n=+n,jn(e,t,n)[2]}function jr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Or(t,e,n):Or(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function _o(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(t),i=a.length;let o,c,f,s,m,d,g;const _=e.length;for(o=0;o<i;o+=1){for(g=new fo,s=a[o],m=t[s],c=0;c<_;c+=1)if(d=m(e[c]),Array.isArray(d)){const L=d.length;for(f=0;f<L;f+=1)g.add(d[f])}else g.add(d);const z=Array.from(g);(n.sort===!0||n[s]===!0)&&z.sort(on),r[s]=z}return r}function wo(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,c,f,s,m,d,g;const _=e.length;for(i=0;i<a;i+=1){for(f=r[i],d=t[f],s=null,m=null,o=0;o<_;o+=1)if(g=d(e[o],o),Array.isArray(g)){const z=g.length;for(c=0;c<z;c+=1)g[c]!==!1&&g[c]!==void 0&&g[c]!==null&&Number.isNaN(g[c])===!1&&((s===null||g[c]<s)&&(s=g[c]),(m===null||g[c]>m)&&(m=g[c]))}else g!==!1&&g!==void 0&&g!==null&&Number.isNaN(g)===!1&&((s===null||g<s)&&(s=g),(m===null||g>m)&&(m=g));n[f]=[s,m]}return n}function rn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function oi(e){return!!(typeof e.bandwidth=="function"||rn(Object.keys(e),["domain","range","unknown","copy"]))}function Mo(e,t,n){const r=Object.entries(n).reduce((i,[o,c])=>{const f=oi(c.scale)===!0?"ordinal":"other";return i[f]||(i[f]={}),i[f][o]=t[o],i},{ordinal:!1,other:!1});let a={};if(r.ordinal){const i=Object.fromEntries(Object.entries(n).map(([o,c])=>[o,c.sort]));a=_o(e,r.ordinal,i)}return r.other&&(a={...a,...wo(e,r.other)}),a}function ko(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function Tn(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?ko(n[e],r):r}}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ci(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function fn(){}var sn=.7,Wn=1/sn,At="\\s*([+-]?\\d+)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Do=/^#([0-9a-f]{3,8})$/,So=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),To=new RegExp(`^rgb\\(${Ze},${Ze},${Ze}\\)$`),Co=new RegExp(`^rgba\\(${At},${At},${At},${un}\\)$`),zo=new RegExp(`^rgba\\(${Ze},${Ze},${Ze},${un}\\)$`),Ro=new RegExp(`^hsl\\(${un},${Ze},${Ze}\\)$`),No=new RegExp(`^hsla\\(${un},${Ze},${Ze},${un}\\)$`),Ca={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br(fn,ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:za,formatHex:za,formatHex8:Uo,formatHsl:$o,formatRgb:Ra,toString:Ra});function za(){return this.rgb().formatHex()}function Uo(){return this.rgb().formatHex8()}function $o(){return si(this).formatHsl()}function Ra(){return this.rgb().formatRgb()}function ln(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Do.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Na(t):n===3?new Te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=So.exec(e))?new Te(t[1],t[2],t[3],1):(t=To.exec(e))?new Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Co.exec(e))?Cn(t[1],t[2],t[3],t[4]):(t=zo.exec(e))?Cn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ro.exec(e))?Aa(t[1],t[2]/100,t[3]/100,1):(t=No.exec(e))?Aa(t[1],t[2]/100,t[3]/100,t[4]):Ca.hasOwnProperty(e)?Na(Ca[e]):e==="transparent"?new Te(NaN,NaN,NaN,0):null}function Na(e){return new Te(e>>16&255,e>>8&255,e&255,1)}function Cn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Te(e,t,n,r)}function Ao(e){return e instanceof fn||(e=ln(e)),e?(e=e.rgb(),new Te(e.r,e.g,e.b,e.opacity)):new Te}function En(e,t,n,r){return arguments.length===1?Ao(e):new Te(e,t,n,r??1)}function Te(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Br(Te,En,ci(fn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sn:Math.pow(sn,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Te(bt(this.r),bt(this.g),bt(this.b),Gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ua,formatHex:Ua,formatHex8:Lo,formatRgb:$a,toString:$a}));function Ua(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}`}function Lo(){return`#${vt(this.r)}${vt(this.g)}${vt(this.b)}${vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function $a(){const e=Gn(this.opacity);return`${e===1?"rgb(":"rgba("}${bt(this.r)}, ${bt(this.g)}, ${bt(this.b)}${e===1?")":`, ${e})`}`}function Gn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vt(e){return e=bt(e),(e<16?"0":"")+e.toString(16)}function Aa(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new je(e,t,n,r)}function si(e){if(e instanceof je)return new je(e.h,e.s,e.l,e.opacity);if(e instanceof fn||(e=ln(e)),!e)return new je;if(e instanceof je)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,c=i-a,f=(i+a)/2;return c?(t===i?o=(n-r)/c+(n<r)*6:n===i?o=(r-t)/c+2:o=(t-n)/c+4,c/=f<.5?i+a:2-i-a,o*=60):c=f>0&&f<1?0:o,new je(o,c,f,e.opacity)}function Po(e,t,n,r){return arguments.length===1?si(e):new je(e,t,n,r??1)}function je(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(je,Po,ci(fn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sn:Math.pow(sn,e),new je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Te(Ur(e>=240?e-240:e+120,a,r),Ur(e,a,r),Ur(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new je(La(this.h),zn(this.s),zn(this.l),Gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gn(this.opacity);return`${e===1?"hsl(":"hsla("}${La(this.h)}, ${zn(this.s)*100}%, ${zn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function La(e){return e=(e||0)%360,e<0?e+360:e}function zn(e){return Math.max(0,Math.min(1,e||0))}function Ur(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vr=e=>()=>e;function Fo(e,t){return function(n){return e+n*t}}function Ho(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Yo(e){return(e=+e)==1?ui:function(t,n){return n-t?Ho(t,n,e):Vr(isNaN(t)?n:t)}}function ui(e,t){var n=t-e;return n?Fo(e,n):Vr(isNaN(e)?t:e)}const Pa=(function e(t){var n=Yo(t);function r(a,i){var o=n((a=En(a)).r,(i=En(i)).r),c=n(a.g,i.g),f=n(a.b,i.b),s=ui(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=c(m),a.b=f(m),a.opacity=s(m),a+""}}return r.gamma=e,r})(1);function Oo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function jo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wo(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Zr(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(c){for(o=0;o<r;++o)i[o]=a[o](c);return i}}function Eo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function qn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Go(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zr(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$r=new RegExp(Wr.source,"g");function qo(e){return function(){return e}}function Io(e){return function(t){return e(t)+""}}function Bo(e,t){var n=Wr.lastIndex=$r.lastIndex=0,r,a,i,o=-1,c=[],f=[];for(e=e+"",t=t+"";(r=Wr.exec(e))&&(a=$r.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,f.push({i:o,x:qn(r,a)})),n=$r.lastIndex;return n<t.length&&(i=t.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?f[0]?Io(f[0].x):qo(t):(t=f.length,function(s){for(var m=0,d;m<t;++m)c[(d=f[m]).i]=d.x(s);return c.join("")})}function Zr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vr(t):(n==="number"?qn:n==="string"?(r=ln(t))?(t=r,Pa):Bo:t instanceof ln?Pa:t instanceof Date?Eo:jo(t)?Oo:Array.isArray(t)?Wo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Go:qn)(e,t)}function Vo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Zo(e){return function(){return e}}function Qo(e){return+e}var Fa=[0,1];function Ve(e){return e}function Er(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Zo(isNaN(t)?NaN:.5)}function Xo(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Jo(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Er(a,r),i=n(o,i)):(r=Er(r,a),i=n(i,o)),function(c){return i(r(c))}}function Ko(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Er(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(c){var f=lo(e,c,1,r)-1;return i[f](a[f](c))}}function Qr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function li(){var e=Fa,t=Fa,n=Zr,r,a,i,o=Ve,c,f,s;function m(){var g=Math.min(e.length,t.length);return o!==Ve&&(o=Xo(e[0],e[g-1])),c=g>2?Ko:Jo,f=s=null,d}function d(g){return g==null||isNaN(g=+g)?i:(f||(f=c(e.map(r),t,n)))(r(o(g)))}return d.invert=function(g){return o(a((s||(s=c(t,e.map(r),qn)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,Qo),m()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=Vo,m()},d.clamp=function(g){return arguments.length?(o=g?!0:Ve,m()):o!==Ve},d.interpolate=function(g){return arguments.length?(n=g,m()):n},d.unknown=function(g){return arguments.length?(i=g,d):i},function(g,_){return r=g,a=_,m()}}function fi(){return li()(Ve,Ve)}function ec(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function In(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Lt(e){return e=In(Math.abs(e)),e?e[1]:NaN}function tc(e,t){return function(n,r){for(var a=n.length,i=[],o=0,c=e[0],f=0;a>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),i.push(n.substring(a-=c,a+c)),!((f+=c+1)>r));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function nc(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bn(e){if(!(t=rc.exec(e)))throw new Error("invalid format: "+e);var t;return new Xr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bn.prototype=Xr.prototype;function Xr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ac(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var di;function ic(e,t){var n=In(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(di=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+In(e,Math.max(0,t+i-1))[0]}function Ha(e,t){var n=In(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ya={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ec,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ha(e*100,t),r:Ha,s:ic,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Oa(e){return e}var ja=Array.prototype.map,Wa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oc(e){var t=e.grouping===void 0||e.thousands===void 0?Oa:tc(ja.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Oa:nc(ja.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function s(d){d=Bn(d);var g=d.fill,_=d.align,z=d.sign,L=d.symbol,P=d.zero,X=d.width,te=d.comma,W=d.precision,Q=d.trim,Y=d.type;Y==="n"?(te=!0,Y="g"):Ya[Y]||(W===void 0&&(W=12),Q=!0,Y="g"),(P||g==="0"&&_==="=")&&(P=!0,g="0",_="=");var D=L==="$"?n:L==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",I=L==="$"?r:/[%p]/.test(Y)?o:"",ge=Ya[Y],ue=/[defgprs%]/.test(Y);W=W===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function v(y){var w=D,k=I,M,R,Z;if(Y==="c")k=ge(y)+k,y="";else{y=+y;var J=y<0||1/y<0;if(y=isNaN(y)?f:ge(Math.abs(y),W),Q&&(y=ac(y)),J&&+y==0&&z!=="+"&&(J=!1),w=(J?z==="("?z:c:z==="-"||z==="("?"":z)+w,k=(Y==="s"?Wa[8+di/3]:"")+k+(J&&z==="("?")":""),ue){for(M=-1,R=y.length;++M<R;)if(Z=y.charCodeAt(M),48>Z||Z>57){k=(Z===46?a+y.slice(M+1):y.slice(M))+k,y=y.slice(0,M);break}}}te&&!P&&(y=t(y,1/0));var K=w.length+y.length+k.length,G=K<X?new Array(X-K+1).join(g):"";switch(te&&P&&(y=t(G+y,G.length?X-k.length:1/0),G=""),_){case"<":y=w+y+k+G;break;case"=":y=w+G+y+k;break;case"^":y=G.slice(0,K=G.length>>1)+w+y+k+G.slice(K);break;default:y=G+w+y+k;break}return i(y)}return v.toString=function(){return d+""},v}function m(d,g){var _=s((d=Bn(d),d.type="f",d)),z=Math.max(-8,Math.min(8,Math.floor(Lt(g)/3)))*3,L=Math.pow(10,-z),P=Wa[8+z/3];return function(X){return _(L*X)+P}}return{format:s,formatPrefix:m}}var Rn,gi,hi;cc({thousands:",",grouping:[3],currency:["$",""]});function cc(e){return Rn=oc(e),gi=Rn.format,hi=Rn.formatPrefix,Rn}function sc(e){return Math.max(0,-Lt(Math.abs(e)))}function uc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lt(t)/3)))*3-Lt(Math.abs(e)))}function lc(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lt(t)-Lt(e))+1}function fc(e,t,n,r){var a=jr(e,t,n),i;switch(r=Bn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=uc(a,o))&&(r.precision=i),hi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=lc(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=sc(a))&&(r.precision=i-(r.type==="%")*2);break}}return gi(r)}function mi(e){var t=e.domain;return e.ticks=function(n){var r=t();return po(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return fc(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],c=r[i],f,s,m=10;for(c<o&&(s=o,o=c,c=s,s=a,a=i,i=s);m-- >0;){if(s=Or(o,c,n),s===f)return r[a]=o,r[i]=c,t(r);if(s>0)o=Math.floor(o/s)*s,c=Math.ceil(c/s)*s;else if(s<0)o=Math.ceil(o*s)/s,c=Math.floor(c*s)/s;else break;f=s}return e},e}function Yn(){var e=fi();return e.copy=function(){return Qr(e,Yn())},Ir.apply(e,arguments),mi(e)}function dc(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ea(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hc(e){return e<0?-e*e:e*e}function mc(e){var t=e(Ve,Ve),n=1;function r(){return n===1?e(Ve,Ve):n===.5?e(gc,hc):e(Ea(n),Ea(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},mi(t)}function yi(){var e=mc(li());return e.copy=function(){return Qr(e,yi()).exponent(e.exponent())},Ir.apply(e,arguments),e}function yc(){return yi.apply(null,arguments).exponent(.5)}const Ar=new Date,Lr=new Date;function xe(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const f=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return f;let s;do f.push(s=new Date(+i)),t(i,c),e(i);while(s<i&&i<o);return f},a.filter=i=>xe(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Ar.setTime(+i),Lr.setTime(+o),e(Ar),e(Lr),Math.floor(n(Ar,Lr))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Vn=xe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xe(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Vn);Vn.range;const nt=1e3,He=nt*60,rt=He*60,at=rt*24,Jr=at*7,Ga=at*30,Pr=at*365,Ut=xe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*nt)},(e,t)=>(t-e)/nt,e=>e.getUTCSeconds());Ut.range;const Kr=xe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nt)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getMinutes());Kr.range;const xc=xe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*He)},(e,t)=>(t-e)/He,e=>e.getUTCMinutes());xc.range;const ea=xe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*nt-e.getMinutes()*He)},(e,t)=>{e.setTime(+e+t*rt)},(e,t)=>(t-e)/rt,e=>e.getHours());ea.range;const vc=xe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rt)},(e,t)=>(t-e)/rt,e=>e.getUTCHours());vc.range;const dn=xe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*He)/at,e=>e.getDate()-1);dn.range;const ta=xe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/at,e=>e.getUTCDate()-1);ta.range;const bc=xe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/at,e=>Math.floor(e/at));bc.range;function wt(e){return xe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*He)/Jr)}const Kn=wt(0),Zn=wt(1),pc=wt(2),_c=wt(3),Pt=wt(4),wc=wt(5),Mc=wt(6);Kn.range;Zn.range;pc.range;_c.range;Pt.range;wc.range;Mc.range;function Mt(e){return xe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Jr)}const xi=Mt(0),Qn=Mt(1),kc=Mt(2),Dc=Mt(3),Ft=Mt(4),Sc=Mt(5),Tc=Mt(6);xi.range;Qn.range;kc.range;Dc.range;Ft.range;Sc.range;Tc.range;const na=xe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());na.range;const Cc=xe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Cc.range;const it=xe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());it.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});it.range;const pt=xe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});pt.range;function zc(e,t,n,r,a,i){const o=[[Ut,1,nt],[Ut,5,5*nt],[Ut,15,15*nt],[Ut,30,30*nt],[i,1,He],[i,5,5*He],[i,15,15*He],[i,30,30*He],[a,1,rt],[a,3,3*rt],[a,6,6*rt],[a,12,12*rt],[r,1,at],[r,2,2*at],[n,1,Jr],[t,1,Ga],[t,3,3*Ga],[e,1,Pr]];function c(s,m,d){const g=m<s;g&&([s,m]=[m,s]);const _=d&&typeof d.range=="function"?d:f(s,m,d),z=_?_.range(s,+m+1):[];return g?z.reverse():z}function f(s,m,d){const g=Math.abs(m-s)/d,_=Jn(([,,P])=>P).right(o,g);if(_===o.length)return e.every(jr(s/Pr,m/Pr,d));if(_===0)return Vn.every(Math.max(jr(s,m,d),1));const[z,L]=o[g/o[_-1][2]<o[_][2]/g?_-1:_];return z.every(L)}return[c,f]}const[Rc,Nc]=zc(it,na,Kn,dn,ea,Kr);function Fr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function en(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Uc(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,f=e.shortMonths,s=tn(a),m=nn(a),d=tn(i),g=nn(i),_=tn(o),z=nn(o),L=tn(c),P=nn(c),X=tn(f),te=nn(f),W={a:J,A:K,b:G,B:he,c:null,d:Qa,e:Qa,f:ts,g:fs,G:gs,H:Jc,I:Kc,j:es,L:vi,m:ns,M:rs,p:pe,q:oe,Q:Ka,s:ei,S:as,u:is,U:os,V:cs,w:ss,W:us,x:null,X:null,y:ls,Y:ds,Z:hs,"%":Ja},Q={a:ze,A:ee,b:le,B:fe,c:null,d:Xa,e:Xa,f:vs,g:Cs,G:Rs,H:ms,I:ys,j:xs,L:pi,m:bs,M:ps,p:re,q:Qe,Q:Ka,s:ei,S:_s,u:ws,U:Ms,V:ks,w:Ds,W:Ss,x:null,X:null,y:Ts,Y:zs,Z:Ns,"%":Ja},Y={a:v,A:y,b:w,B:k,c:M,d:Va,e:Va,f:Vc,g:Ba,G:Ia,H:Za,I:Za,j:Gc,L:Bc,m:Ec,M:qc,p:ue,q:Wc,Q:Qc,s:Xc,S:Ic,u:Fc,U:Hc,V:Yc,w:Pc,W:Oc,x:R,X:Z,y:Ba,Y:Ia,Z:jc,"%":Zc};W.x=D(n,W),W.X=D(r,W),W.c=D(t,W),Q.x=D(n,Q),Q.X=D(r,Q),Q.c=D(t,Q);function D(b,U){return function(F){var u=[],E=-1,A=0,ae=b.length,x,de,ve;for(F instanceof Date||(F=new Date(+F));++E<ae;)b.charCodeAt(E)===37&&(u.push(b.slice(A,E)),(de=qa[x=b.charAt(++E)])!=null?x=b.charAt(++E):de=x==="e"?" ":"0",(ve=U[x])&&(x=ve(F,de)),u.push(x),A=E+1);return u.push(b.slice(A,E)),u.join("")}}function I(b,U){return function(F){var u=en(1900,void 0,1),E=ge(u,b,F+="",0),A,ae;if(E!=F.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(u.s*1e3+("L"in u?u.L:0));if(U&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+u.p*12),u.m===void 0&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(A=Hr(en(u.y,0,1)),ae=A.getUTCDay(),A=ae>4||ae===0?Qn.ceil(A):Qn(A),A=ta.offset(A,(u.V-1)*7),u.y=A.getUTCFullYear(),u.m=A.getUTCMonth(),u.d=A.getUTCDate()+(u.w+6)%7):(A=Fr(en(u.y,0,1)),ae=A.getDay(),A=ae>4||ae===0?Zn.ceil(A):Zn(A),A=dn.offset(A,(u.V-1)*7),u.y=A.getFullYear(),u.m=A.getMonth(),u.d=A.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),ae="Z"in u?Hr(en(u.y,0,1)).getUTCDay():Fr(en(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+u.W*7-(ae+5)%7:u.w+u.U*7-(ae+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,Hr(u)):Fr(u)}}function ge(b,U,F,u){for(var E=0,A=U.length,ae=F.length,x,de;E<A;){if(u>=ae)return-1;if(x=U.charCodeAt(E++),x===37){if(x=U.charAt(E++),de=Y[x in qa?U.charAt(E++):x],!de||(u=de(b,F,u))<0)return-1}else if(x!=F.charCodeAt(u++))return-1}return u}function ue(b,U,F){var u=s.exec(U.slice(F));return u?(b.p=m.get(u[0].toLowerCase()),F+u[0].length):-1}function v(b,U,F){var u=_.exec(U.slice(F));return u?(b.w=z.get(u[0].toLowerCase()),F+u[0].length):-1}function y(b,U,F){var u=d.exec(U.slice(F));return u?(b.w=g.get(u[0].toLowerCase()),F+u[0].length):-1}function w(b,U,F){var u=X.exec(U.slice(F));return u?(b.m=te.get(u[0].toLowerCase()),F+u[0].length):-1}function k(b,U,F){var u=L.exec(U.slice(F));return u?(b.m=P.get(u[0].toLowerCase()),F+u[0].length):-1}function M(b,U,F){return ge(b,t,U,F)}function R(b,U,F){return ge(b,n,U,F)}function Z(b,U,F){return ge(b,r,U,F)}function J(b){return o[b.getDay()]}function K(b){return i[b.getDay()]}function G(b){return f[b.getMonth()]}function he(b){return c[b.getMonth()]}function pe(b){return a[+(b.getHours()>=12)]}function oe(b){return 1+~~(b.getMonth()/3)}function ze(b){return o[b.getUTCDay()]}function ee(b){return i[b.getUTCDay()]}function le(b){return f[b.getUTCMonth()]}function fe(b){return c[b.getUTCMonth()]}function re(b){return a[+(b.getUTCHours()>=12)]}function Qe(b){return 1+~~(b.getUTCMonth()/3)}return{format:function(b){var U=D(b+="",W);return U.toString=function(){return b},U},parse:function(b){var U=I(b+="",!1);return U.toString=function(){return b},U},utcFormat:function(b){var U=D(b+="",Q);return U.toString=function(){return b},U},utcParse:function(b){var U=I(b+="",!0);return U.toString=function(){return b},U}}}var qa={"-":"",_:" ",0:"0"},be=/^\s*\d+/,$c=/^%/,Ac=/[\\^$*+?|[\]().{}]/g;function V(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Lc(e){return e.replace(Ac,"\\$&")}function tn(e){return new RegExp("^(?:"+e.map(Lc).join("|")+")","i")}function nn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Pc(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Fc(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Hc(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Yc(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Oc(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ia(e,t,n){var r=be.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ba(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jc(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Wc(e,t,n){var r=be.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ec(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Va(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Gc(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Za(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function qc(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ic(e,t,n){var r=be.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Bc(e,t,n){var r=be.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Vc(e,t,n){var r=be.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zc(e,t,n){var r=$c.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Qc(e,t,n){var r=be.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Xc(e,t,n){var r=be.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qa(e,t){return V(e.getDate(),t,2)}function Jc(e,t){return V(e.getHours(),t,2)}function Kc(e,t){return V(e.getHours()%12||12,t,2)}function es(e,t){return V(1+dn.count(it(e),e),t,3)}function vi(e,t){return V(e.getMilliseconds(),t,3)}function ts(e,t){return vi(e,t)+"000"}function ns(e,t){return V(e.getMonth()+1,t,2)}function rs(e,t){return V(e.getMinutes(),t,2)}function as(e,t){return V(e.getSeconds(),t,2)}function is(e){var t=e.getDay();return t===0?7:t}function os(e,t){return V(Kn.count(it(e)-1,e),t,2)}function bi(e){var t=e.getDay();return t>=4||t===0?Pt(e):Pt.ceil(e)}function cs(e,t){return e=bi(e),V(Pt.count(it(e),e)+(it(e).getDay()===4),t,2)}function ss(e){return e.getDay()}function us(e,t){return V(Zn.count(it(e)-1,e),t,2)}function ls(e,t){return V(e.getFullYear()%100,t,2)}function fs(e,t){return e=bi(e),V(e.getFullYear()%100,t,2)}function ds(e,t){return V(e.getFullYear()%1e4,t,4)}function gs(e,t){var n=e.getDay();return e=n>=4||n===0?Pt(e):Pt.ceil(e),V(e.getFullYear()%1e4,t,4)}function hs(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+V(t/60|0,"0",2)+V(t%60,"0",2)}function Xa(e,t){return V(e.getUTCDate(),t,2)}function ms(e,t){return V(e.getUTCHours(),t,2)}function ys(e,t){return V(e.getUTCHours()%12||12,t,2)}function xs(e,t){return V(1+ta.count(pt(e),e),t,3)}function pi(e,t){return V(e.getUTCMilliseconds(),t,3)}function vs(e,t){return pi(e,t)+"000"}function bs(e,t){return V(e.getUTCMonth()+1,t,2)}function ps(e,t){return V(e.getUTCMinutes(),t,2)}function _s(e,t){return V(e.getUTCSeconds(),t,2)}function ws(e){var t=e.getUTCDay();return t===0?7:t}function Ms(e,t){return V(xi.count(pt(e)-1,e),t,2)}function _i(e){var t=e.getUTCDay();return t>=4||t===0?Ft(e):Ft.ceil(e)}function ks(e,t){return e=_i(e),V(Ft.count(pt(e),e)+(pt(e).getUTCDay()===4),t,2)}function Ds(e){return e.getUTCDay()}function Ss(e,t){return V(Qn.count(pt(e)-1,e),t,2)}function Ts(e,t){return V(e.getUTCFullYear()%100,t,2)}function Cs(e,t){return e=_i(e),V(e.getUTCFullYear()%100,t,2)}function zs(e,t){return V(e.getUTCFullYear()%1e4,t,4)}function Rs(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ft(e):Ft.ceil(e),V(e.getUTCFullYear()%1e4,t,4)}function Ns(){return"+0000"}function Ja(){return"%"}function Ka(e){return+e}function ei(e){return Math.floor(+e/1e3)}var Nt,ra;Us({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Us(e){return Nt=Uc(e),ra=Nt.format,Nt.parse,Nt.utcFormat,Nt.utcParse,Nt}function $s(e){return new Date(e)}function As(e){return e instanceof Date?+e:+new Date(+e)}function wi(e,t,n,r,a,i,o,c,f,s){var m=fi(),d=m.invert,g=m.domain,_=s(".%L"),z=s(":%S"),L=s("%I:%M"),P=s("%I %p"),X=s("%a %d"),te=s("%b %d"),W=s("%B"),Q=s("%Y");function Y(D){return(f(D)<D?_:c(D)<D?z:o(D)<D?L:i(D)<D?P:r(D)<D?a(D)<D?X:te:n(D)<D?W:Q)(D)}return m.invert=function(D){return new Date(d(D))},m.domain=function(D){return arguments.length?g(Array.from(D,As)):g().map($s)},m.ticks=function(D){var I=g();return e(I[0],I[I.length-1],D??10)},m.tickFormat=function(D,I){return I==null?Y:s(I)},m.nice=function(D){var I=g();return(!D||typeof D.range!="function")&&(D=t(I[0],I[I.length-1],D??10)),D?g(dc(I,D)):m},m.copy=function(){return Qr(m,wi(e,t,n,r,a,i,o,c,f,s))},m}function Ls(){return Ir.apply(wi(Rc,Nc,it,na,Kn,dn,ea,Kr,Ut,ra).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const an={x:Yn,y:Yn,z:Yn,r:yc};function Ps(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function ti(e){return e}function Fs(e){return t=>Math.log(e*t)}function Hs(e){return t=>e*Math.exp(t)}function Ys(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Os(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Nn(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function js(e){const t=Ps(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Fs(n),ground:Hs(n),scaleType:t}}return t==="pow"?{lift:Nn(1),ground:Nn(1/1),scaleType:t}:t==="sqrt"?{lift:Nn(.5),ground:Nn(1/.5),scaleType:t}:t==="symlog"?{lift:Ys(1),ground:Os(1),scaleType:t}:{lift:ti,ground:ti,scaleType:t}}function Xn(e){return e.replace(/^\w/,t=>t.toUpperCase())}function ke(e,t=""){return`scale${Xn(t)}${Xn(e)}`}function Mi(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?ke("band"):ke("point");if(rn(Object.keys(e),["domain","range","unknown","copy"]))return ke("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return ke("quantile",t);if(e.thresholds)return ke("quantize",t);if(e.constant)return ke("symlog",t);if(e.base)return ke("log",t);if(e.exponent)return e.exponent()===.5?ke("sqrt",t):ke("pow",t);if(rn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return ke("threshold");if(rn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return ke("identity");if(rn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return ke("radial");if(t)return ke(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),ke(r)}return ke("linear")}const Ws=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Es(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Ws.includes(Mi(e))||oi(e)===!0)return e.domain();const{lift:n,ground:r}=js(e),a=e.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[o,c]=e.domain().map(_=>n(i?_.getTime():_)),[f,s]=e.range(),m=t[0]||0,d=t[1]||0,g=(c-o)/(Math.abs(s-f)-m-d);return[o-m*g,d*g+c].map(_=>r(i?new Date(_):_))}function Gs(e,t,n,r,a){let i,o;return a===!0?(i=0,o=100):(i=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),r===!0?[o,i]:[i,o]}function qs(e,t,n,r,a,i){return a?typeof a=="function"?a({width:t,height:n}):a:Gs(e,t,n,r,i)}function Un(e){return function([n,r,a,i,o,c,f,s,m,d]){if(r===null)return null;const g=qs(e,f,s,c,m,d),_=n===an[e]?n():n.copy();return _.domain(a),(!_.interpolator||typeof _.interpolator=="function"&&_.interpolator().name.startsWith("identity"))&&_.range(g),i&&_.domain(Es(_,i)),(o===!0||typeof o=="number")&&(typeof _.nice=="function"?_.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),_}}function $n([e,t]){return(n,r)=>{const a=e(n,r);return Array.isArray(a)?a.map(i=>t(i)):t(a)}}function An([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Fe="    ";function Is(e){const{r:t,g:n,b:r,opacity:a}=En(e);return[t,n,r].every(i=>i>=0&&i<=255)?{r:t,g:n,b:r,o:a}:!1}function Bs({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Vs(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Zs(e.boundingBox),console.log("Data:"),console.log(Fe,e.data),e.flatData&&(console.log("flatData:"),console.log(Fe,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{Qs(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Zs(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Fe}${t}:`,n)})}function Qs(e,t,n){const r=Mi(t);console.log(`${Fe}${e}:`),console.log(`${Fe}${Fe}Accessor: "${n.toString()}"`),console.log(`${Fe}${Fe}Type: ${r}`),ni(t,"domain"),ni(t,"range"," ")}function ni(e,t,n=""){const r=e[t](),a=Js(r);a?Xs(a,t,r):console.log(`${Fe}${Fe}${Xn(t)}:${n}`,r)}function Xs(e,t,n){console.log(`${Fe}${Fe}${Xn(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function Js(e){const t=[],n=e.map((r,a)=>{const i=Is(r);if(i!==!1){t.push(i);const o=a===e.length-1?" ":"";return`%c ${r}${o}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${Bs(r)};`)]:null}function Ln(e){return!e||typeof e=="function"||Array.isArray(e)&&e.includes(null)?!1:e}var Ks=Me('<div class="layercake-container svelte-812kmt"><!></div>');function eu(e,t){dt(t,!1);const n=()=>p(mt,"$_percentRange",x),r=()=>p(Gt,"$_containerWidth",x),a=()=>p(qt,"$_containerHeight",x),i=()=>p(dr,"$_data",x),o=()=>p(gn,"$_flatData",x),c=()=>p(It,"$_x",x),f=()=>p(Bt,"$_y",x),s=()=>p(Vt,"$_z",x),m=()=>p(Zt,"$_r",x),d=()=>p(hn,"$_xNice",x),g=()=>p(mn,"$_yNice",x),_=()=>p(yn,"$_zNice",x),z=()=>p(xn,"$_rNice",x),L=()=>p(vn,"$_xReverse",x),P=()=>p(bn,"$_yReverse",x),X=()=>p(pn,"$_zReverse",x),te=()=>p(_n,"$_rReverse",x),W=()=>p(wn,"$_xPadding",x),Q=()=>p(Mn,"$_yPadding",x),Y=()=>p(kn,"$_zPadding",x),D=()=>p(Dn,"$_rPadding",x),I=()=>p(Sr,"$_custom",x),ge=()=>p(Dr,"$_config",x),ue=()=>p(zr,"$box_d",x),v=()=>p(Tr,"$activeGetters_d",x),y=()=>p(Qt,"$xScale_d",x),w=()=>p(Xt,"$yScale_d",x),k=()=>p(Jt,"$zScale_d",x),M=()=>p(Kt,"$rScale_d",x),R=()=>p(yt,"$width_d",x),Z=()=>p(xt,"$height_d",x),J=()=>p(wa,"$aspectRatio_d",x),K=()=>p(_r,"$_xDomainSort",x),G=()=>p(wr,"$_yDomainSort",x),he=()=>p(Mr,"$_zDomainSort",x),pe=()=>p(kr,"$_rDomainSort",x),oe=()=>p(Cr,"$padding_d",x),ze=()=>p(Be,"$extents_d",x),ee=()=>p(la,"$xDomain_d",x),le=()=>p(fa,"$yDomain_d",x),fe=()=>p(da,"$zDomain_d",x),re=()=>p(ga,"$rDomain_d",x),Qe=()=>p(va,"$xRange_d",x),b=()=>p(ba,"$yRange_d",x),U=()=>p(pa,"$zRange_d",x),F=()=>p(_a,"$rRange_d",x),u=()=>p(ha,"$xGet_d",x),E=()=>p(ma,"$yGet_d",x),A=()=>p(ya,"$zGet_d",x),ae=()=>p(xa,"$rGet_d",x),[x,de]=_t(),ve=ka(),We=io(Vs,200);let ot=h(t,"ssr",8,!1),ct=h(t,"pointerEvents",8,!0),Xe=h(t,"position",8,"relative"),Ne=h(t,"percentRange",8,!1),Ee=h(t,"width",8,void 0),Ue=h(t,"height",8,void 0),st=h(t,"containerWidth",28,()=>Ee()||100),Je=h(t,"containerHeight",28,()=>Ue()||100),ut=h(t,"element",12,void 0),$e=h(t,"x",8,void 0),Ge=h(t,"y",8,void 0),Ye=h(t,"z",8,void 0),Oe=h(t,"r",8,void 0),qe=h(t,"data",24,()=>[]),Ae=h(t,"xDomain",8,void 0),De=h(t,"yDomain",8,void 0),Ke=h(t,"zDomain",8,void 0),Ie=h(t,"rDomain",8,void 0),Yt=h(t,"xNice",8,!1),ht=h(t,"yNice",8,!1),kt=h(t,"zNice",8,!1),Ot=h(t,"rNice",8,!1),Dt=h(t,"xPadding",8,void 0),jt=h(t,"yPadding",8,void 0),er=h(t,"zPadding",8,void 0),tr=h(t,"rPadding",8,void 0),nr=h(t,"xScale",24,()=>an.x),Wt=h(t,"yScale",24,()=>an.y),rr=h(t,"zScale",24,()=>an.z),ar=h(t,"rScale",24,()=>an.r),St=h(t,"xRange",8,void 0),Tt=h(t,"yRange",8,void 0),Ct=h(t,"zRange",8,void 0),zt=h(t,"rRange",8,void 0),ir=h(t,"xReverse",8,!1),or=h(t,"yReverse",8,void 0),cr=h(t,"zReverse",8,!1),sr=h(t,"rReverse",8,!1),ki=h(t,"xDomainSort",8,!1),Di=h(t,"yDomainSort",8,!1),Si=h(t,"zDomainSort",8,!1),Ti=h(t,"rDomainSort",8,!1),ur=h(t,"padding",24,()=>({})),Et=h(t,"flatData",8,void 0),lr=h(t,"custom",24,()=>({})),aa=h(t,"debug",8,!1),Ci=h(t,"verbose",8,!0),fr=!1;ri(()=>{fr=!0});const B=ka({}),mt=H(Ne()),Gt=H(st()),qt=H(Je()),dr=H(qe()),gn=H(Et()||qe()),ia=H(ur()),It=H(lt($e())),Bt=H(lt(Ge())),Vt=H(lt(Ye())),Zt=H(lt(Oe())),gr=H(Ae()),hr=H(De()),mr=H(Ke()),yr=H(Ie()),hn=H(Yt()),mn=H(ht()),yn=H(kt()),xn=H(Ot()),vn=H(ir()),bn=H(l(ve)),pn=H(cr()),_n=H(sr()),wn=H(Dt()),Mn=H(jt()),kn=H(er()),Dn=H(tr()),oa=H(St()),ca=H(Tt()),sa=H(Ct()),ua=H(zt()),xr=H(nr()),vr=H(Wt()),br=H(rr()),pr=H(ar()),_r=H(ki()),wr=H(Di()),Mr=H(Si()),kr=H(Ti()),Dr=H(l(B)),Sr=H(lr()),Tr=ne([It,Bt,Vt,Zt],([ie,_e,Le,me])=>{const et={};return ie&&(et.x=ie),_e&&(et.y=_e),Le&&(et.z=Le),me&&(et.r=me),et}),Cr=ne([ia,Gt,qt],([ie])=>Object.assign({top:0,right:0,bottom:0,left:0},ie)),zr=ne([Gt,qt,Cr],([ie,_e,Le])=>{const me={};return me.top=Le.top,me.right=ie-Le.right,me.bottom=_e-Le.bottom,me.left=Le.left,me.width=me.right-me.left,me.height=me.bottom-me.top,Ci()===!0&&(me.width<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),me.height<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),me}),yt=ne([zr],([ie])=>ie.width),xt=ne([zr],([ie])=>ie.height),Be=ne([gn,Tr,xr,vr,pr,br,gr,hr,mr,yr,_r,wr,Mr,kr],([ie,_e,Le,me,et,Li,Pi,Fi,Hi,Yi,Oi,ji,Wi,Ei])=>{const Gi={x:{scale:Le,sort:Oi},y:{scale:me,sort:ji},r:{scale:et,sort:Ei},z:{scale:Li,sort:Wi}},Rr=Object.fromEntries([["x",Ln(Pi)],["y",Ln(Fi)],["z",Ln(Hi)],["r",Ln(Yi)]].filter(([Sn,Ii])=>Ii!==!1)),Nr=ao(_e,Rr),qi=Object.fromEntries(Object.keys(Nr).map(Sn=>[Sn,Gi[Sn]]));return Object.keys(Nr).length>0?{...Mo(ie,Nr,qi),...Rr}:Rr}),la=ne([Be,gr],Tn("x")),fa=ne([Be,hr],Tn("y")),da=ne([Be,mr],Tn("z")),ga=ne([Be,yr],Tn("r")),Qt=ne([xr,Be,la,wn,hn,vn,yt,xt,oa,mt],Un("x")),ha=ne([It,Qt],$n),Xt=ne([vr,Be,fa,Mn,mn,bn,yt,xt,ca,mt],Un("y")),ma=ne([Bt,Xt],$n),Jt=ne([br,Be,da,kn,yn,pn,yt,xt,sa,mt],Un("z")),ya=ne([Vt,Jt],$n),Kt=ne([pr,Be,ga,Dn,xn,_n,yt,xt,ua,mt],Un("r")),xa=ne([Zt,Kt],$n),zi=ne(Qt,ie=>ie.domain()),Ri=ne(Xt,ie=>ie.domain()),Ni=ne(Jt,ie=>ie.domain()),Ui=ne(Kt,ie=>ie.domain()),va=ne([Qt],An),ba=ne([Xt],An),pa=ne([Jt],An),_a=ne([Kt],An),wa=ne([yt,xt],([ie,_e])=>ie/_e);Zi("LayerCake",{activeGetters:Tr,width:yt,height:xt,percentRange:mt,aspectRatio:wa,containerWidth:Gt,containerHeight:qt,x:It,y:Bt,z:Vt,r:Zt,custom:Sr,data:dr,xNice:hn,yNice:mn,zNice:yn,rNice:xn,xDomainSort:_r,yDomainSort:wr,zDomainSort:Mr,rDomainSort:kr,xReverse:vn,yReverse:bn,zReverse:pn,rReverse:_n,xPadding:wn,yPadding:Mn,zPadding:kn,rPadding:Dn,padding:Cr,flatData:gn,extents:Be,xDomain:zi,yDomain:Ri,zDomain:Ni,rDomain:Ui,xRange:va,yRange:ba,zRange:pa,rRange:_a,config:Dr,xScale:Qt,xGet:ha,yScale:Xt,yGet:ma,zScale:Jt,zGet:ya,rScale:Kt,rGet:xa}),T(()=>(S(or()),S(Wt())),()=>{ce(ve,typeof or()>"u"?typeof Wt().bandwidth!="function":or())}),T(()=>S($e()),()=>{$e()&&Pe(B,l(B).x=$e())}),T(()=>S(Ge()),()=>{Ge()&&Pe(B,l(B).y=Ge())}),T(()=>S(Ye()),()=>{Ye()&&Pe(B,l(B).z=Ye())}),T(()=>S(Oe()),()=>{Oe()&&Pe(B,l(B).r=Oe())}),T(()=>S(Ae()),()=>{Ae()&&Pe(B,l(B).xDomain=Ae())}),T(()=>S(De()),()=>{De()&&Pe(B,l(B).yDomain=De())}),T(()=>S(Ke()),()=>{Ke()&&Pe(B,l(B).zDomain=Ke())}),T(()=>S(Ie()),()=>{Ie()&&Pe(B,l(B).rDomain=Ie())}),T(()=>S(St()),()=>{St()&&Pe(B,l(B).xRange=St())}),T(()=>S(Tt()),()=>{Tt()&&Pe(B,l(B).yRange=Tt())}),T(()=>S(Ct()),()=>{Ct()&&Pe(B,l(B).zRange=Ct())}),T(()=>S(zt()),()=>{zt()&&Pe(B,l(B).rRange=zt())}),T(()=>S(Ne()),()=>{O(mt,Ne())}),T(()=>S(st()),()=>{O(Gt,st())}),T(()=>S(Je()),()=>{O(qt,Je())}),T(()=>S(qe()),()=>{O(dr,qe())}),T(()=>(S(Et()),S(qe())),()=>{O(gn,Et()||qe())}),T(()=>S(ur()),()=>{O(ia,ur())}),T(()=>S($e()),()=>{O(It,lt($e()))}),T(()=>S(Ge()),()=>{O(Bt,lt(Ge()))}),T(()=>S(Ye()),()=>{O(Vt,lt(Ye()))}),T(()=>S(Oe()),()=>{O(Zt,lt(Oe()))}),T(()=>S(Ae()),()=>{O(gr,Ae())}),T(()=>S(De()),()=>{O(hr,De())}),T(()=>S(Ke()),()=>{O(mr,Ke())}),T(()=>S(Ie()),()=>{O(yr,Ie())}),T(()=>S(Yt()),()=>{O(hn,Yt())}),T(()=>S(ht()),()=>{O(mn,ht())}),T(()=>S(kt()),()=>{O(yn,kt())}),T(()=>S(Ot()),()=>{O(xn,Ot())}),T(()=>S(ir()),()=>{O(vn,ir())}),T(()=>l(ve),()=>{O(bn,l(ve))}),T(()=>S(cr()),()=>{O(pn,cr())}),T(()=>S(sr()),()=>{O(_n,sr())}),T(()=>S(Dt()),()=>{O(wn,Dt())}),T(()=>S(jt()),()=>{O(Mn,jt())}),T(()=>S(er()),()=>{O(kn,er())}),T(()=>S(tr()),()=>{O(Dn,tr())}),T(()=>S(St()),()=>{O(oa,St())}),T(()=>S(Tt()),()=>{O(ca,Tt())}),T(()=>S(Ct()),()=>{O(sa,Ct())}),T(()=>S(zt()),()=>{O(ua,zt())}),T(()=>S(nr()),()=>{O(xr,nr())}),T(()=>S(Wt()),()=>{O(vr,Wt())}),T(()=>S(rr()),()=>{O(br,rr())}),T(()=>S(ar()),()=>{O(pr,ar())}),T(()=>S(lr()),()=>{O(Sr,lr())}),T(()=>l(B),()=>{O(Dr,l(B))}),T(()=>(ue(),S(aa()),S(ot()),i(),S(Et()),o(),v(),l(B),y(),w(),k(),M()),()=>{ue()&&aa()===!0&&(ot()===!0||typeof window<"u")&&We({data:i(),flatData:typeof Et()<"u"?o():null,boundingBox:ue(),activeGetters:v(),x:l(B).x,y:l(B).y,z:l(B).z,r:l(B).r,xScale:y(),yScale:w(),zScale:k(),rScale:M()})}),Qi(),Ki();var Ma=cn(),$i=tt(Ma);{var Ai=ie=>{var _e=Ks();let Le;var me=N(_e);eo(me,t,"default",{get element(){return ut()},get width(){return R()},get height(){return Z()},get aspectRatio(){return J()},get containerWidth(){return r()},get containerHeight(){return a()},get activeGetters(){return v()},get percentRange(){return n()},get x(){return c()},get y(){return f()},get z(){return s()},get r(){return m()},get custom(){return I()},get data(){return i()},get xNice(){return d()},get yNice(){return g()},get zNice(){return _()},get rNice(){return z()},get xDomainSort(){return K()},get yDomainSort(){return G()},get zDomainSort(){return he()},get rDomainSort(){return pe()},get xReverse(){return L()},get yReverse(){return P()},get zReverse(){return X()},get rReverse(){return te()},get xPadding(){return W()},get yPadding(){return Q()},get zPadding(){return Y()},get rPadding(){return D()},get padding(){return oe()},get flatData(){return o()},get extents(){return ze()},get xDomain(){return ee()},get yDomain(){return le()},get zDomain(){return fe()},get rDomain(){return re()},get xRange(){return Qe()},get yRange(){return b()},get zRange(){return U()},get rRange(){return F()},get config(){return ge()},get xScale(){return y()},get xGet(){return u()},get yScale(){return w()},get yGet(){return E()},get zScale(){return k()},get zGet(){return A()},get rScale(){return M()},get rGet(){return ae()}}),C(_e),Gr(_e,et=>ut(et),()=>ut()),ye(()=>Le=ft(_e,"",Le,{position:Xe(),top:Xe()==="absolute"?"0":null,right:Xe()==="absolute"?"0":null,bottom:Xe()==="absolute"?"0":null,left:Xe()==="absolute"?"0":null,"pointer-events":ct()===!1?"none":null})),Ta(_e,"clientWidth",st),Ta(_e,"clientHeight",Je),j(ie,_e)};we($i,ie=>{(ot()===!0||typeof window<"u")&&ie(Ai)})}j(e,Ma),gt(),de()}var tu=Me('<div class="layercake-layout-html svelte-5lwx3b"><!></div>');function nu(e,t){dt(t,!0);const n=()=>p(i,"$padding",r),[r,a]=_t(),{padding:i}=Ht("LayerCake");let o=h(t,"element",15,void 0),c=h(t,"zIndex",3,void 0),f=h(t,"pointerEvents",3,void 0),s=h(t,"role",3,void 0),m=h(t,"label",3,void 0),d=h(t,"labelledBy",3,void 0),g=h(t,"describedBy",3,void 0),_=h(t,"overflow",3,"visible"),z=se(()=>s()||(m()||d()||g()?"figure":void 0));var L=tu();let P;var X=N(L);Hn(X,()=>t.children??ai,()=>({element:o()})),C(L),Gr(L,te=>o(te),()=>o()),ye(()=>{$(L,"role",l(z)),$(L,"aria-label",m()),$(L,"aria-labelledby",d()),$(L,"aria-describedby",g()),P=ft(L,"",P,{"z-index":c(),"pointer-events":f()===!1?"none":null,top:n().top+"px",right:n().right+"px",bottom:n().bottom+"px",left:n().left+"px",overflow:_()})}),j(e,L),gt(),a()}var ru=Ce("<title><!></title>"),au=Ce("<title> </title>"),iu=Ce("<defs><!></defs>"),ou=Ce('<svg class="layercake-layout-svg svelte-vzq0jw"><!><!><!></svg>');function cu(e,t){dt(t,!0);const n=()=>p(te,"$containerWidth",i),r=()=>p(W,"$containerHeight",i),a=()=>p(Q,"$padding",i),[i,o]=_t();let c=h(t,"element",15,void 0),f=h(t,"zIndex",3,void 0),s=h(t,"pointerEvents",3,void 0),m=h(t,"viewBox",3,void 0),d=h(t,"label",3,void 0),g=h(t,"labelledBy",3,void 0),_=h(t,"describedBy",3,void 0),z=h(t,"titleText",3,void 0),L=h(t,"title",3,void 0),P=h(t,"defs",3,void 0),X=h(t,"overflow",3,"visible");const{containerWidth:te,containerHeight:W,padding:Q}=Ht("LayerCake");var Y=ou();let D;var I=N(Y);{var ge=k=>{var M=ru(),R=N(M);Hn(R,L),C(M),j(k,M)},ue=k=>{var M=cn(),R=tt(M);{var Z=J=>{var K=au(),G=N(K,!0);C(K),ye(()=>Se(G,z())),j(J,K)};we(R,J=>{z()&&J(Z)},!0)}j(k,M)};we(I,k=>{typeof L()=="function"?k(ge):k(ue,!1)})}var v=q(I);{var y=k=>{var M=iu(),R=N(M);Hn(R,P),C(M),j(k,M)};we(v,k=>{typeof P()=="function"&&k(y)})}var w=q(v);Hn(w,()=>t.children??ai,()=>({element:c()})),C(Y),Gr(Y,k=>c(k),()=>c()),ye(()=>{$(Y,"viewBox",m()),$(Y,"width",n()),$(Y,"height",r()),$(Y,"aria-label",d()),$(Y,"aria-labelledby",g()),$(Y,"aria-describedby",_()),D=ft(Y,"",D,{"z-index":f(),"pointer-events":s()===!1?"none":null,top:a().top+"px",left:a().left+"px",width:`calc(100% - ${a().left+a().right}px)`,height:`calc(100% - ${a().top+a().bottom}px)`,overflow:X()})}),j(e,Y),gt(),o()}var su=Ce('<path class="path-line svelte-gmbklp"></path>');function uu(e,t){dt(t,!0);const n=()=>p(f,"$data",o),r=()=>p(s,"$xGet",o),a=()=>p(d,"$yScale",o),i=()=>p(m,"$yGet",o),[o,c]=_t(),{data:f,xGet:s,yGet:m,yScale:d}=Ht("LayerCake");let g=h(t,"stroke",3,"#ab00d6"),_=h(t,"yAccessorKey",3,null),z=se(()=>"M"+n().filter(P=>_()?P[_()]!=null:!0).map(P=>{const X=r()(P),te=_()?a()(P[_()]):i()(P);return X+","+te}).join("L"));var L=su();ye(()=>{$(L,"d",l(z)),$(L,"stroke",g())}),j(e,L),gt(),c()}var lu=Ce('<line class="baseline svelte-4vwzuc" x1="0"></line>'),fu=Ce('<line class="gridline svelte-4vwzuc" y2="0"></line>'),du=Ce('<line class="tick-mark svelte-4vwzuc"></line>'),gu=Ce('<!><g><!><!><text class="svelte-4vwzuc"> </text></g>',1),hu=Ce("<g></g>");function mu(e,t){dt(t,!0);const n=()=>p(m,"$xScale",o),r=()=>p(s,"$height",o),a=()=>p(f,"$width",o),i=()=>p(d,"$yRange",o),[o,c]=_t(),{width:f,height:s,xScale:m,yRange:d}=Ht("LayerCake");let g=h(t,"tickMarks",3,!1),_=h(t,"gridlines",3,!0),z=h(t,"tickMarkLength",3,6),L=h(t,"baseline",3,!1),P=h(t,"snapLabels",3,!1),X=h(t,"format",3,k=>k),te=h(t,"ticks",3,void 0),W=h(t,"tickGutter",3,0),Q=h(t,"dx",3,0),Y=h(t,"dy",3,0),D=se(()=>g()===!0?z()??6:0),I=se(()=>typeof n().bandwidth=="function"),ge=se(()=>Array.isArray(te())?te():l(I)?n().domain():typeof te()=="function"?te()(n().ticks()):n().ticks(te())),ue=se(()=>l(I)?n().bandwidth()/2:0);function v(k){if(P()===!0){if(k===0)return"start";if(k===l(ge).length-1)return"end"}return"middle"}var y=hu();let w;$t(y,22,()=>l(ge),k=>k,(k,M,R)=>{var Z=gu(),J=tt(Z);{var K=fe=>{var re=lu();ye(()=>{$(re,"y1",r()),$(re,"y2",r()),$(re,"x2",a())}),j(fe,re)};we(J,fe=>{L()===!0&&fe(K)})}var G=q(J),he=N(G);{var pe=fe=>{var re=fu();ye(()=>{$(re,"x1",l(ue)),$(re,"x2",l(ue)),$(re,"y1",-r())}),j(fe,re)};we(he,fe=>{_()===!0&&fe(pe)})}var oe=q(he);{var ze=fe=>{var re=du();ye(()=>{$(re,"x1",l(ue)),$(re,"x2",l(ue)),$(re,"y1",W()),$(re,"y2",W()+l(D))}),j(fe,re)};we(oe,fe=>{g()===!0&&fe(ze)})}var ee=q(oe),le=N(ee,!0);C(ee),C(G),ye((fe,re,Qe,b)=>{On(G,0,`tick tick-${l(R)??""}`,"svelte-4vwzuc"),$(G,"transform",`translate(${fe??""},${re??""})`),$(ee,"x",l(ue)),$(ee,"y",W()+l(D)),$(ee,"dx",Q()),$(ee,"dy",Y()),$(ee,"text-anchor",Qe),Se(le,b)},[()=>n()(M),()=>Math.max(...i()),()=>v(l(R)),()=>X()(M)]),j(k,Z)}),C(y),ye(()=>w=On(y,0,"axis x-axis svelte-4vwzuc",null,w,{snapLabels:P()})),j(e,y),gt(),c()}var yu=Ce('<line class="gridline svelte-mmstdn"></line>'),xu=Ce('<line class="tick-mark svelte-mmstdn"></line>'),vu=Ce('<g><!><!><text class="svelte-mmstdn"> </text></g>'),bu=Ce('<g class="axis y-axis"></g>');function pu(e,t){dt(t,!0);const n=()=>p(f,"$yScale",i),r=()=>p(c,"$xRange",i),a=()=>p(s,"$width",i),[i,o]=_t(),{xRange:c,yScale:f,width:s}=Ht("LayerCake");let m=h(t,"tickMarks",3,!1),d=h(t,"labelPosition",3,"even"),g=h(t,"snapBaselineLabel",3,!1),_=h(t,"gridlines",3,!0),z=h(t,"tickMarkLength",3,void 0),L=h(t,"format",3,M=>M),P=h(t,"ticks",3,4),X=h(t,"tickGutter",3,0),te=h(t,"dx",3,0),W=h(t,"dy",3,0),Q=h(t,"charPixelWidth",3,7.25);function Y(M,R){return R===","||R==="."?M+Q()*.5:M+Q()}let D=se(()=>typeof n().bandwidth=="function"),I=se(()=>Array.isArray(P())?P():l(D)?n().domain():typeof P()=="function"?P()(n().ticks()):n().ticks(P())),ge=se(()=>Math.max(10,Math.max(...l(I).map(M=>L()(M).toString().split("").reduce(Y,0))))),ue=se(()=>m()===!0?d()==="above"?z()??l(ge):z()??6:0),v=se(()=>-X()-(d()==="above"?l(ge):l(ue))),y=se(()=>l(D)?n().bandwidth()/2:0),w=se(()=>Math.max(...l(I).map(n())));var k=bu();$t(k,20,()=>l(I),M=>M,(M,R)=>{const Z=se(()=>n()(R));var J=vu(),K=N(J);{var G=ee=>{var le=yu();ye(()=>{$(le,"x1",l(v)),$(le,"x2",a()),$(le,"y1",l(y)),$(le,"y2",l(y))}),j(ee,le)};we(K,ee=>{_()===!0&&ee(G)})}var he=q(K);{var pe=ee=>{var le=xu();ye(()=>{$(le,"x1",l(v)),$(le,"x2",l(v)+l(ue)),$(le,"y1",l(y)),$(le,"y2",l(y))}),j(ee,le)};we(he,ee=>{m()===!0&&ee(pe)})}var oe=q(he),ze=N(oe,!0);C(oe),C(J),ye(ee=>{On(J,0,`tick tick-${R??""}`,"svelte-mmstdn"),$(J,"transform",`translate(${r()[0]??""}, ${l(Z)??""})`),$(oe,"x1",l(v)),$(oe,"y",l(y)),$(oe,"dx",te()+(d()==="even"?-3:0)),$(oe,"text-anchor",d()==="above"?"start":"end"),$(oe,"dy",W()+(d()==="above"||g()===!0&&l(Z)===l(w)?-3:4)),Se(ze,ee)},[()=>L()(R)]),j(M,J)}),C(k),j(e,k),gt(),o()}var _u=Me('<div class="flex items-center gap-2"><div class="h-2 w-2 rounded-full"></div> <span> </span> <span class="font-mono"> </span></div>'),wu=Me('<div class="tooltip hidden md:block svelte-b0p9nb"><div class="line svelte-b0p9nb"></div> <div class="content pointer-events-none absolute top-0 z-50 mt-4 -translate-x-1/2 transform rounded border border-gray-200 bg-white p-2 text-xs whitespace-nowrap text-zinc-800 shadow"><div class="mb-1 font-bold"> </div> <!></div></div>'),Mu=Me('<div class="tooltip-trigger hidden md:block svelte-b0p9nb"></div> <!>',1);function ku(e,t){dt(t,!0);const n=()=>p(z,"$xGet",c),r=()=>p(g,"$xScale",c),a=()=>p(s,"$data",c),i=()=>p(m,"$width",c),o=()=>p(d,"$height",c),[c,f]=_t(),{data:s,width:m,height:d,xScale:g,yGet:_,xGet:z,config:L}=Ht("LayerCake");let P=h(t,"formatTitle",3,M=>M),X=h(t,"formatValue",3,M=>M),te=h(t,"labels",19,()=>({})),W=Re(!1),Q=Re(Yr({})),Y=Re(0);const D=Jn(M=>n()(M)).right;function I(M){const{left:R,top:Z}=M.currentTarget.getBoundingClientRect(),J=M.clientX-R,K=r().invert(J),G=D(a(),K,1),he=a()[G-1],pe=a()[G],oe=!he||!pe?he||pe:K-n()(he)>n()(pe)-K?pe:he;oe?(ce(Q,oe,!0),ce(Y,r()(n()(oe)),!0),ce(W,!0)):ce(W,!1)}function ge(){ce(W,!1)}var ue=Mu(),v=tt(ue);v.__mousemove=I;let y;var w=q(v,2);{var k=M=>{var R=wu(),Z=N(R);let J;var K=q(Z,2),G=N(K),he=N(G,!0);C(G);var pe=q(G,2);$t(pe,17,()=>Object.entries(te()),Fn,(oe,ze)=>{var ee=se(()=>Pn(l(ze),2));let le=()=>l(ee)[0],fe=()=>l(ee)[1];var re=cn(),Qe=tt(re);{var b=U=>{var F=_u(),u=N(F);let E;var A=q(u,2),ae=N(A);C(A);var x=q(A,2),de=N(x,!0);C(x),C(F),ye(ve=>{E=ft(u,"",E,{"background-color":fe().color}),Se(ae,`${fe().text??""}:`),Se(de,ve)},[()=>X()(l(Q)[le()],le())]),j(U,F)};we(Qe,U=>{l(Q)[le()]!=null&&U(b)})}j(oe,re)}),C(K),C(R),ye(oe=>{ft(R,`left:${l(Y)??""}px; top: 0px;`),J=ft(Z,"",J,{height:`${o()??""}px`}),Se(he,oe)},[()=>P()(n()(l(Q)))]),j(M,R)};we(w,M=>{l(W)&&l(Q)&&M(k)})}ye(()=>y=ft(v,"",y,{width:`${i()??""}px`,height:`${o()??""}px`})),Ji("mouseleave",v,ge),j(e,ue),gt(),f()}ii(["mousemove"]);var Du=Me('<div class="flex h-64 items-center justify-center"><!></div>'),Su=Me('<button class="rounded-full border px-3 py-1 text-xs font-medium transition-colors"> </button>'),Tu=Me('<button class="text-xs text-indigo-400 underline hover:text-indigo-300">Reset</button>'),Cu=Me("<!> <!> <!>",1),zu=Me("<!> <!>",1),Ru=Me('<div class="relative h-[400px] w-full rounded-lg bg-zinc-900 p-4 shadow-lg"><!></div>'),Nu=Me('<div class="rounded-lg bg-zinc-900 p-8 text-center text-zinc-400 shadow-lg">Not enough data to display chart. Add more entries!</div>'),Uu=Me('<div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg"> </span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300"> </div></div> <div class="text-xl font-bold text-white"> </div></div></div>'),$u=Me('<div class="space-y-3"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold text-zinc-100">Events</h2> <button> </button></div> <div class="grid grid-cols-2 gap-2"></div> <div class="pt-2"><h2 class="text-lg font-semibold text-zinc-100">Projects</h2></div> <div class="grid grid-cols-2 gap-2"><div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">📝</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Applied Art Calls</div></div> <div class="text-xl font-bold text-white"> </div></div></div> <div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">✅</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Completed Projects</div></div> <div class="text-xl font-bold text-white"> </div></div></div> <div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">☑️</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Completed Tasks</div></div> <div class="text-xl font-bold text-white"> </div></div></div></div></div>'),Au=Me('<div class="space-y-4"><div class="grid gap-4 lg:grid-cols-3"><div class="space-y-3 lg:col-span-2"><h2 class="text-lg font-bold text-zinc-100">Dashboard</h2> <div class="space-y-3 rounded-lg bg-zinc-900 p-4 shadow-lg"><div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Metrics:</span> <div class="flex flex-wrap gap-2"></div></div> <div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Date Range:</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <span class="text-zinc-500">to</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <!></div></div> <!></div> <!></div></div>'),Lu=Me('<div class="py-16 text-center"><h2 class="text-2xl font-semibold text-zinc-100">Welcome to CG Tracker</h2> <p class="mt-3 text-zinc-400">Please log in to view your progress and start tracking.</p></div>'),Pu=Me("<div><!></div>");function Qu(e,t){dt(t,!0);let n=Re(null),r=Re(!0),a=Re(!1),i=Re(Yr([])),o=Re(0),c=Re(0),f=Re(0),s=se(()=>l(i).map(v=>({...v,created_at:new Date(v.created_at)})).sort((v,y)=>v.created_at.getTime()-y.created_at.getTime())),d=Yr({mood:{label:"Mood",color:"#8b5cf6",active:!0},energy:{label:"Energy",color:"#f97316",active:!0},physical:{label:"Physical",color:"#ef4444",active:!0},sleep:{label:"Sleep",color:"#3b82f6",active:!0},meals:{label:"Meals",color:"#22c55e",active:!0},weight:{label:"Weight",color:"#71717a",active:!1}}),g=Re(""),_=Re("");Xi(()=>{if(l(s).length>0&&!l(g)&&!l(_)){const v=l(s)[0].created_at,y=new Date,w=k=>{const M=k.getFullYear(),R=String(k.getMonth()+1).padStart(2,"0"),Z=String(k.getDate()).padStart(2,"0");return`${M}-${R}-${Z}`};ce(g,w(v),!0),ce(_,w(y),!0)}});let z=se(()=>{let v=l(s);if(l(g)){const[y,w,k]=l(g).split("-").map(Number),M=new Date(y,w-1,k);v=v.filter(R=>R.created_at>=M)}if(l(_)){const[y,w,k]=l(_).split("-").map(Number),M=new Date(y,w-1,k);M.setHours(23,59,59,999),v=v.filter(R=>R.created_at<=M)}return v}),L=se(()=>{const v=Object.keys(d).filter(w=>d[w].active);if(v.length===0)return[0,10];let y=0;for(const w of l(z))for(const k of v){const M=w[k];typeof M=="number"&&M>y&&(y=M)}return[0,y*1.1]});const P=ra("%m/%d");let X=Re(!1),te=se(()=>{const v={ihana:{label:"Ihana",count:0,icon:"❤️"},calvin_day:{label:"Calvin Day",count:0,icon:"✨"},exercise:{label:"Exercise",count:0,icon:"🏃"},call_family:{label:"Family Calls",count:0,icon:"📞"},cry:{label:"Cry",count:0,icon:"😢"},loving:{label:"Loving",count:0,icon:"💌"},friends:{label:"Friends",count:0,icon:"👥"},sickness:{label:"Sick Days",count:0,icon:"🤒"},work:{label:"Work",count:0,icon:"💼"},study:{label:"Study",count:0,icon:"📚"},culture:{label:"Culture",count:0,icon:"🎭"},art:{label:"Art",count:0,icon:"🎨"},music:{label:"Music",count:0,icon:"🎵"},leisure:{label:"Leisure",count:0,icon:"🎮"}};let y=l(z);if(l(X)){const w=new Date,k=w.getMonth(),M=w.getFullYear();y=l(z).filter(R=>{const Z=R.created_at;return Z.getMonth()===k&&Z.getFullYear()===M})}for(const w of y)w.exercise_type&&w.exercise_type.trim()&&v.exercise.count++,w.ihana===!0&&v.ihana.count++,w.calvin_day===!0&&v.calvin_day.count++,w.sickness===!0&&v.sickness.count++,w.work_type&&w.work_type.trim()&&v.work.count++,w.study_type&&w.study_type.trim()&&v.study.count++,w.culture_type&&w.culture_type.trim()&&v.culture.count++,w.art_type&&w.art_type.trim()&&v.art.count++,w.music_type&&w.music_type.trim()&&v.music.count++,w.leisure_type&&w.leisure_type.trim()&&v.leisure.count++,w.call_family===!0&&v.call_family.count++,w.cry===!0&&v.cry.count++,w.loving===!0&&v.loving.count++,w.friends===!0&&v.friends.count++;return v});ri(()=>{Rt.auth.getSession().then(({data:{session:y}})=>{ce(n,y,!0),y?(W(),Q()):ce(r,!1)});const{data:{subscription:v}}=Rt.auth.onAuthStateChange((y,w)=>{ce(n,w,!0),w?(W(),Q()):ce(r,!1)});return()=>v.unsubscribe()});async function W(){ce(r,!0);const{data:v,error:y}=await Rt.from("dailyTracking").select("created_at, mood, energy, physical, sleep, meals, weight, exercise_type, ihana, calvin_day, sickness, work_type, study_type, culture_type, art_type, music_type, leisure_type, call_family, cry, loving, friends").order("created_at",{ascending:!0});!y&&v?ce(i,v,!0):y&&console.error("Error fetching data:",y),ce(r,!1)}async function Q(){ce(a,!0);const[{count:v,error:y},{count:w,error:k},{count:M,error:R}]=await Promise.all([Rt.from("artCalls").select("id",{count:"exact",head:!0}).eq("applied",!0),Rt.from("projects").select("id",{count:"exact",head:!0}).eq("status",3),Rt.from("tasks").select("id",{count:"exact",head:!0}).eq("status","done")]);y?console.error("Error fetching applied art calls count:",y):ce(o,v??0,!0),k?console.error("Error fetching completed projects count:",k):ce(c,w??0,!0),R?console.error("Error fetching completed tasks count:",R):ce(f,M??0,!0),ce(a,!1)}function Y(v){const y=v;d[y].active=!d[y].active}var D=Pu(),I=N(D);{var ge=v=>{var y=Du(),w=N(y);to(w,{class:"h-8 w-8 animate-spin text-indigo-500"}),C(y),j(v,y)},ue=v=>{var y=cn(),w=tt(y);{var k=R=>{var Z=Au(),J=N(Z),K=N(J),G=q(N(K),2),he=N(G),pe=q(N(he),2);$t(pe,21,()=>Object.entries(d),Fn,(u,E)=>{var A=se(()=>Pn(l(E),2));let ae=()=>l(A)[0],x=()=>l(A)[1];var de=Su();de.__click=()=>Y(ae());let ve;var We=N(de,!0);C(de),ye(()=>{ve=ft(de,"",ve,{"background-color":x().active?x().color+"20":"transparent","border-color":x().active?x().color:"#3f3f46",color:x().active?x().color:"#a1a1aa"}),Se(We,x().label)}),j(u,de)}),C(pe),C(he);var oe=q(he,2),ze=q(N(oe),2);Da(ze);var ee=q(ze,4);Da(ee);var le=q(ee,2);{var fe=u=>{var E=Tu();E.__click=()=>{ce(g,""),ce(_,"")},j(u,E)};we(le,u=>{(l(g)||l(_))&&u(fe)})}C(oe),C(G);var re=q(G,2);{var Qe=u=>{var E=Ru(),A=N(E);{let ae=se(Ls);eu(A,{padding:{top:20,right:15,bottom:32,left:30},x:x=>x.created_at,get yDomain(){return l(L)},get data(){return l(z)},get xScale(){return l(ae)},children:(x,de)=>{var ve=zu(),We=tt(ve);cu(We,{children:(ct,Xe)=>{var Ne=Cu(),Ee=tt(Ne);mu(Ee,{gridlines:!1,ticks:5,get format(){return P},dy:12});var Ue=q(Ee,2);pu(Ue,{ticks:4,gridlines:!0});var st=q(Ue,2);$t(st,17,()=>Object.entries(d),Fn,(Je,ut)=>{var $e=se(()=>Pn(l(ut),2));let Ge=()=>l($e)[0],Ye=()=>l($e)[1];var Oe=cn(),qe=tt(Oe);{var Ae=De=>{uu(De,{get stroke(){return Ye().color},get yAccessorKey(){return Ge()}})};we(qe,De=>{Ye().active&&De(Ae)})}j(Je,Oe)}),j(ct,Ne)},$$slots:{default:!0}});var ot=q(We,2);nu(ot,{children:(ct,Xe)=>{{let Ne=se(()=>Object.fromEntries(Object.entries(d).filter(([Ee,Ue])=>Ue.active).map(([Ee,Ue])=>[Ee,{text:Ue.label,color:Ue.color}])));ku(ct,{get labels(){return l(Ne)},get formatTitle(){return P}})}},$$slots:{default:!0}}),j(x,ve)},$$slots:{default:!0}})}C(E),j(u,E)},b=u=>{var E=Nu();j(u,E)};we(re,u=>{l(z).length>1?u(Qe):u(b,!1)})}C(K);var U=q(K,2);{var F=u=>{var E=$u(),A=N(E),ae=q(N(A),2);ae.__click=()=>ce(X,!l(X));var x=N(ae,!0);C(ae),C(A);var de=q(A,2);$t(de,21,()=>Object.entries(l(te)),Fn,(Ye,Oe)=>{var qe=se(()=>Pn(l(Oe),2));let Ae=()=>l(qe)[1];var De=Uu(),Ke=N(De),Ie=N(Ke),Yt=N(Ie,!0);C(Ie);var ht=q(Ie,2),kt=N(ht),Ot=N(kt,!0);C(kt),C(ht);var Dt=q(ht,2),jt=N(Dt,!0);C(Dt),C(Ke),C(De),ye(()=>{Se(Yt,Ae().icon),Se(Ot,Ae().label),Se(jt,Ae().count)}),j(Ye,De)}),C(de);var ve=q(de,4),We=N(ve),ot=N(We),ct=q(N(ot),4),Xe=N(ct,!0);C(ct),C(ot),C(We);var Ne=q(We,2),Ee=N(Ne),Ue=q(N(Ee),4),st=N(Ue,!0);C(Ue),C(Ee),C(Ne);var Je=q(Ne,2),ut=N(Je),$e=q(N(ut),4),Ge=N($e,!0);C($e),C(ut),C(Je),C(ve),C(E),ye(()=>{On(ae,1,`flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium transition-colors ${l(X)?"bg-indigo-500/20 text-indigo-400":"bg-zinc-700 text-zinc-400 hover:bg-zinc-600"}`),Se(x,l(X)?"This Month":"All Time"),Se(Xe,l(a)?"—":l(o)),Se(st,l(a)?"—":l(c)),Se(Ge,l(a)?"—":l(f))}),j(u,E)};we(U,u=>{l(z).length>0&&u(F)})}C(J),C(Z),Sa(ze,()=>l(g),u=>ce(g,u)),Sa(ee,()=>l(_),u=>ce(_,u)),j(R,Z)},M=R=>{var Z=Lu();j(R,Z)};we(w,R=>{l(n)?R(k):R(M,!1)},!0)}j(v,y)};we(I,v=>{l(r)&&l(n)!==null?v(ge):v(ue,!1)})}C(D),j(e,D),gt()}ii(["click"]);export{Qu as component};
