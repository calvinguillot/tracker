import{c as Kt,a as q,f as Me,d as Te}from"../chunks/CBL0ReU-.js";import{e as Vi,u as Zi,p as lt,o as ai,bb as H,k as l,Y as ka,bc as te,bd as Xi,be as C,bf as Qi,g as qe,a as ft,h as G,i as P,t as xe,f as de,y as T,bg as Ne,bh as $t,X as ii,H as le,j as J,s as Ge,c as Yr,ba as Rn,d as Ji}from"../chunks/DZENMWVZ.js";import{s as Fe,d as oi,e as Ki}from"../chunks/C73i8PqL.js";import{p as m,i as we,a as vt,b,c as j}from"../chunks/CcH4pQ61.js";import{g as eo,f as ut,s as U,e as Ct,d as An,i as Nn,r as Da,a as Sa}from"../chunks/CQul3BK8.js";import{L as to,P as no,b as Ta}from"../chunks/DLg1bkk4.js";import{s as _n}from"../chunks/Bkout0r_.js";import{E as ro}from"../chunks/Cj_KDs-o.js";import{i as ao}from"../chunks/B3HG88SV.js";import{b as Gr}from"../chunks/ChriWAQk.js";import{s as Un}from"../chunks/CReAoy9H.js";class qr{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var a=this.#e.get(t);a.delete(n),a.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){qr.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var io=new qr({box:"border-box"});function Ca(e,t,n){var r=io.observe(e,()=>n(e[t]));Vi(()=>(Zi(()=>n(e[t])),r))}function oo(e){return e===0?!0:e}function st(e){return oo(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function co(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}const so=(e,t=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(void 0,r)},t)}};function Jt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function In(e){let t,n,r;e.length!==2?(t=Jt,n=(c,u)=>Jt(e(c),u),r=(c,u)=>e(c)-u):(t=e===Jt||e===uo?e:lo,n=e,r=e);function a(c,u,s=0,f=c.length){if(s<f){if(t(u,u)!==0)return f;do{const d=s+f>>>1;n(c[d],u)<0?s=d+1:f=d}while(s<f)}return s}function i(c,u,s=0,f=c.length){if(s<f){if(t(u,u)!==0)return f;do{const d=s+f>>>1;n(c[d],u)<=0?s=d+1:f=d}while(s<f)}return s}function o(c,u,s=0,f=c.length){const d=a(c,u,s,f-1);return d>s&&r(c[d-1],u)>-r(c[d],u)?d-1:d}return{left:a,center:o,right:i}}function lo(){return 0}function fo(e){return e===null?NaN:+e}const go=In(Jt),ho=go.right;In(fo).center;class mo extends Set{constructor(t,n=bo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(yo(this,t))}add(t){return super.add(xo(this,t))}delete(t){return super.delete(vo(this,t))}}function yo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function xo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function vo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bo(e){return e!==null&&typeof e=="object"?e.valueOf():e}const _o=Math.sqrt(50),po=Math.sqrt(10),wo=Math.sqrt(2);function Ln(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=_o?10:i>=po?5:i>=wo?2:1;let c,u,s;return a<0?(s=Math.pow(10,-a)/o,c=Math.round(e*s),u=Math.round(t*s),c/s<e&&++c,u/s>t&&--u,s=-s):(s=Math.pow(10,a)*o,c=Math.round(e/s),u=Math.round(t/s),c*s<e&&++c,u*s>t&&--u),u<c&&.5<=n&&n<2?Ln(e,t,n*2):[c,u,s]}function Mo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Ln(t,e,n):Ln(e,t,n);if(!(i>=a))return[];const c=i-a+1,u=new Array(c);if(r)if(o<0)for(let s=0;s<c;++s)u[s]=(i-s)/-o;else for(let s=0;s<c;++s)u[s]=(i-s)*o;else if(o<0)for(let s=0;s<c;++s)u[s]=(a+s)/-o;else for(let s=0;s<c;++s)u[s]=(a+s)*o;return u}function Or(e,t,n){return t=+t,e=+e,n=+n,Ln(e,t,n)[2]}function Wr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Or(t,e,n):Or(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function ko(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(t),i=a.length;let o,c,u,s,f,d,h;const p=e.length;for(o=0;o<i;o+=1){for(h=new mo,s=a[o],f=t[s],c=0;c<p;c+=1)if(d=f(e[c]),Array.isArray(d)){const A=d.length;for(u=0;u<A;u+=1)h.add(d[u])}else h.add(d);const N=Array.from(h);(n.sort===!0||n[s]===!0)&&N.sort(Jt),r[s]=N}return r}function Do(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,c,u,s,f,d,h;const p=e.length;for(i=0;i<a;i+=1){for(u=r[i],d=t[u],s=null,f=null,o=0;o<p;o+=1)if(h=d(e[o],o),Array.isArray(h)){const N=h.length;for(c=0;c<N;c+=1)h[c]!==!1&&h[c]!==void 0&&h[c]!==null&&Number.isNaN(h[c])===!1&&((s===null||h[c]<s)&&(s=h[c]),(f===null||h[c]>f)&&(f=h[c]))}else h!==!1&&h!==void 0&&h!==null&&Number.isNaN(h)===!1&&((s===null||h<s)&&(s=h),(f===null||h>f)&&(f=h));n[u]=[s,f]}return n}function Xt(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function ci(e){return!!(typeof e.bandwidth=="function"||Xt(Object.keys(e),["domain","range","unknown","copy"]))}function So(e,t,n){const r=Object.entries(n).reduce((i,[o,c])=>{const u=ci(c.scale)===!0?"ordinal":"other";return i[u]||(i[u]={}),i[u][o]=t[o],i},{ordinal:!1,other:!1});let a={};if(r.ordinal){const i=Object.fromEntries(Object.entries(n).map(([o,c])=>[o,c.sort]));a=ko(e,r.ordinal,i)}return r.other&&(a={...a,...Do(e,r.other)}),a}function To(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function pn(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?To(n[e],r):r}}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function si(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rn(){}var en=.7,Fn=1/en,zt="\\s*([+-]?\\d+)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Co=/^#([0-9a-f]{3,8})$/,zo=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Ro=new RegExp(`^rgb\\(${Be},${Be},${Be}\\)$`),No=new RegExp(`^rgba\\(${zt},${zt},${zt},${tn}\\)$`),Uo=new RegExp(`^rgba\\(${Be},${Be},${Be},${tn}\\)$`),$o=new RegExp(`^hsl\\(${tn},${Be},${Be}\\)$`),Ao=new RegExp(`^hsla\\(${tn},${Be},${Be},${tn}\\)$`),za={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br(rn,nn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ra,formatHex:Ra,formatHex8:Lo,formatHsl:Fo,formatRgb:Na,toString:Na});function Ra(){return this.rgb().formatHex()}function Lo(){return this.rgb().formatHex8()}function Fo(){return ui(this).formatHsl()}function Na(){return this.rgb().formatRgb()}function nn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Co.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ua(t):n===3?new Se(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zo.exec(e))?new Se(t[1],t[2],t[3],1):(t=Ro.exec(e))?new Se(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=No.exec(e))?wn(t[1],t[2],t[3],t[4]):(t=Uo.exec(e))?wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$o.exec(e))?La(t[1],t[2]/100,t[3]/100,1):(t=Ao.exec(e))?La(t[1],t[2]/100,t[3]/100,t[4]):za.hasOwnProperty(e)?Ua(za[e]):e==="transparent"?new Se(NaN,NaN,NaN,0):null}function Ua(e){return new Se(e>>16&255,e>>8&255,e&255,1)}function wn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Se(e,t,n,r)}function Ho(e){return e instanceof rn||(e=nn(e)),e?(e=e.rgb(),new Se(e.r,e.g,e.b,e.opacity)):new Se}function Hn(e,t,n,r){return arguments.length===1?Ho(e):new Se(e,t,n,r??1)}function Se(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Br(Se,Hn,si(rn,{brighter(e){return e=e==null?Fn:Math.pow(Fn,e),new Se(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?en:Math.pow(en,e),new Se(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Se(yt(this.r),yt(this.g),yt(this.b),Pn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$a,formatHex:$a,formatHex8:Po,formatRgb:Aa,toString:Aa}));function $a(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function Po(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Aa(){const e=Pn(this.opacity);return`${e===1?"rgb(":"rgba("}${yt(this.r)}, ${yt(this.g)}, ${yt(this.b)}${e===1?")":`, ${e})`}`}function Pn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mt(e){return e=yt(e),(e<16?"0":"")+e.toString(16)}function La(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new He(e,t,n,r)}function ui(e){if(e instanceof He)return new He(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=nn(e)),!e)return new He;if(e instanceof He)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,c=i-a,u=(i+a)/2;return c?(t===i?o=(n-r)/c+(n<r)*6:n===i?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?i+a:2-i-a,o*=60):c=u>0&&u<1?0:o,new He(o,c,u,e.opacity)}function Yo(e,t,n,r){return arguments.length===1?ui(e):new He(e,t,n,r??1)}function He(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(He,Yo,si(rn,{brighter(e){return e=e==null?Fn:Math.pow(Fn,e),new He(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?en:Math.pow(en,e),new He(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Se(Ur(e>=240?e-240:e+120,a,r),Ur(e,a,r),Ur(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new He(Fa(this.h),Mn(this.s),Mn(this.l),Pn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pn(this.opacity);return`${e===1?"hsl(":"hsla("}${Fa(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fa(e){return e=(e||0)%360,e<0?e+360:e}function Mn(e){return Math.max(0,Math.min(1,e||0))}function Ur(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vr=e=>()=>e;function Oo(e,t){return function(n){return e+n*t}}function Wo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Eo(e){return(e=+e)==1?li:function(t,n){return n-t?Wo(t,n,e):Vr(isNaN(t)?n:t)}}function li(e,t){var n=t-e;return n?Oo(e,n):Vr(isNaN(e)?t:e)}const Ha=(function e(t){var n=Eo(t);function r(a,i){var o=n((a=Hn(a)).r,(i=Hn(i)).r),c=n(a.g,i.g),u=n(a.b,i.b),s=li(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=c(f),a.b=u(f),a.opacity=s(f),a+""}}return r.gamma=e,r})(1);function jo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Go(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qo(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Zr(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(c){for(o=0;o<r;++o)i[o]=a[o](c);return i}}function Io(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Yn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bo(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zr(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$r=new RegExp(Er.source,"g");function Vo(e){return function(){return e}}function Zo(e){return function(t){return e(t)+""}}function Xo(e,t){var n=Er.lastIndex=$r.lastIndex=0,r,a,i,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=Er.exec(e))&&(a=$r.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,u.push({i:o,x:Yn(r,a)})),n=$r.lastIndex;return n<t.length&&(i=t.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?u[0]?Zo(u[0].x):Vo(t):(t=u.length,function(s){for(var f=0,d;f<t;++f)c[(d=u[f]).i]=d.x(s);return c.join("")})}function Zr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vr(t):(n==="number"?Yn:n==="string"?(r=nn(t))?(t=r,Ha):Xo:t instanceof nn?Ha:t instanceof Date?Io:Go(t)?jo:Array.isArray(t)?qo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bo:Yn)(e,t)}function Qo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Jo(e){return function(){return e}}function Ko(e){return+e}var Pa=[0,1];function Ie(e){return e}function jr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jo(isNaN(t)?NaN:.5)}function ec(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function tc(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=jr(a,r),i=n(o,i)):(r=jr(r,a),i=n(i,o)),function(c){return i(r(c))}}function nc(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=jr(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(c){var u=ho(e,c,1,r)-1;return i[u](a[u](c))}}function Xr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fi(){var e=Pa,t=Pa,n=Zr,r,a,i,o=Ie,c,u,s;function f(){var h=Math.min(e.length,t.length);return o!==Ie&&(o=ec(e[0],e[h-1])),c=h>2?nc:tc,u=s=null,d}function d(h){return h==null||isNaN(h=+h)?i:(u||(u=c(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(a((s||(s=c(t,e.map(r),Yn)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Ko),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Qo,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Ie,f()):o!==Ie},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return r=h,a=p,f()}}function di(){return fi()(Ie,Ie)}function rc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function On(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Rt(e){return e=On(Math.abs(e)),e?e[1]:NaN}function ac(e,t){return function(n,r){for(var a=n.length,i=[],o=0,c=e[0],u=0;a>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),i.push(n.substring(a-=c,a+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ic(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wn(e){if(!(t=oc.exec(e)))throw new Error("invalid format: "+e);var t;return new Qr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wn.prototype=Qr.prototype;function Qr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cc(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var gi;function sc(e,t){var n=On(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(gi=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+On(e,Math.max(0,t+i-1))[0]}function Ya(e,t){var n=On(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Oa={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rc,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ya(e*100,t),r:Ya,s:sc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Wa(e){return e}var Ea=Array.prototype.map,ja=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uc(e){var t=e.grouping===void 0||e.thousands===void 0?Wa:ac(Ea.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Wa:ic(Ea.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function s(d){d=Wn(d);var h=d.fill,p=d.align,N=d.sign,A=d.symbol,$=d.zero,ce=d.width,ee=d.comma,E=d.precision,Q=d.trim,Y=d.type;Y==="n"?(ee=!0,Y="g"):Oa[Y]||(E===void 0&&(E=12),Q=!0,Y="g"),($||h==="0"&&p==="=")&&($=!0,h="0",p="=");var M=A==="$"?n:A==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",x=A==="$"?r:/[%p]/.test(Y)?o:"",k=Oa[Y],w=/[defgprs%]/.test(Y);E=E===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(_){var W=M,D=x,S,I,ue;if(Y==="c")D=k(_)+D,_="";else{_=+_;var X=_<0||1/_<0;if(_=isNaN(_)?u:k(Math.abs(_),E),Q&&(_=cc(_)),X&&+_==0&&N!=="+"&&(X=!1),W=(X?N==="("?N:c:N==="-"||N==="("?"":N)+W,D=(Y==="s"?ja[8+gi/3]:"")+D+(X&&N==="("?")":""),w){for(S=-1,I=_.length;++S<I;)if(ue=_.charCodeAt(S),48>ue||ue>57){D=(ue===46?a+_.slice(S+1):_.slice(S))+D,_=_.slice(0,S);break}}}ee&&!$&&(_=t(_,1/0));var K=W.length+_.length+D.length,B=K<ce?new Array(ce-K+1).join(h):"";switch(ee&&$&&(_=t(B+_,B.length?ce-D.length:1/0),B=""),p){case"<":_=W+_+D+B;break;case"=":_=W+B+_+D;break;case"^":_=B.slice(0,K=B.length>>1)+W+_+D+B.slice(K);break;default:_=B+W+_+D;break}return i(_)}return O.toString=function(){return d+""},O}function f(d,h){var p=s((d=Wn(d),d.type="f",d)),N=Math.max(-8,Math.min(8,Math.floor(Rt(h)/3)))*3,A=Math.pow(10,-N),$=ja[8+N/3];return function(ce){return p(A*ce)+$}}return{format:s,formatPrefix:f}}var kn,hi,mi;lc({thousands:",",grouping:[3],currency:["$",""]});function lc(e){return kn=uc(e),hi=kn.format,mi=kn.formatPrefix,kn}function fc(e){return Math.max(0,-Rt(Math.abs(e)))}function dc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rt(t)/3)))*3-Rt(Math.abs(e)))}function gc(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rt(t)-Rt(e))+1}function hc(e,t,n,r){var a=Wr(e,t,n),i;switch(r=Wn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=dc(a,o))&&(r.precision=i),mi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=gc(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=fc(a))&&(r.precision=i-(r.type==="%")*2);break}}return hi(r)}function yi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return hc(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],c=r[i],u,s,f=10;for(c<o&&(s=o,o=c,c=s,s=a,a=i,i=s);f-- >0;){if(s=Or(o,c,n),s===u)return r[a]=o,r[i]=c,t(r);if(s>0)o=Math.floor(o/s)*s,c=Math.ceil(c/s)*s;else if(s<0)o=Math.ceil(o*s)/s,c=Math.floor(c*s)/s;else break;u=s}return e},e}function $n(){var e=di();return e.copy=function(){return Xr(e,$n())},Ir.apply(e,arguments),yi(e)}function mc(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ga(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xc(e){return e<0?-e*e:e*e}function vc(e){var t=e(Ie,Ie),n=1;function r(){return n===1?e(Ie,Ie):n===.5?e(yc,xc):e(Ga(n),Ga(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},yi(t)}function xi(){var e=vc(fi());return e.copy=function(){return Xr(e,xi()).exponent(e.exponent())},Ir.apply(e,arguments),e}function bc(){return xi.apply(null,arguments).exponent(.5)}const Ar=new Date,Lr=new Date;function ve(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const u=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return u;let s;do u.push(s=new Date(+i)),t(i,c),e(i);while(s<i&&i<o);return u},a.filter=i=>ve(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Ar.setTime(+i),Lr.setTime(+o),e(Ar),e(Lr),Math.floor(n(Ar,Lr))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const En=ve(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);En.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ve(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):En);En.range;const tt=1e3,$e=tt*60,nt=$e*60,rt=nt*24,Jr=rt*7,qa=rt*30,Fr=rt*365,Tt=ve(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tt)},(e,t)=>(t-e)/tt,e=>e.getUTCSeconds());Tt.range;const Kr=ve(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tt)},(e,t)=>{e.setTime(+e+t*$e)},(e,t)=>(t-e)/$e,e=>e.getMinutes());Kr.range;const _c=ve(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$e)},(e,t)=>(t-e)/$e,e=>e.getUTCMinutes());_c.range;const ea=ve(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tt-e.getMinutes()*$e)},(e,t)=>{e.setTime(+e+t*nt)},(e,t)=>(t-e)/nt,e=>e.getHours());ea.range;const pc=ve(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*nt)},(e,t)=>(t-e)/nt,e=>e.getUTCHours());pc.range;const an=ve(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$e)/rt,e=>e.getDate()-1);an.range;const ta=ve(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rt,e=>e.getUTCDate()-1);ta.range;const wc=ve(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/rt,e=>Math.floor(e/rt));wc.range;function bt(e){return ve(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$e)/Jr)}const Bn=bt(0),jn=bt(1),Mc=bt(2),kc=bt(3),Nt=bt(4),Dc=bt(5),Sc=bt(6);Bn.range;jn.range;Mc.range;kc.range;Nt.range;Dc.range;Sc.range;function _t(e){return ve(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Jr)}const vi=_t(0),Gn=_t(1),Tc=_t(2),Cc=_t(3),Ut=_t(4),zc=_t(5),Rc=_t(6);vi.range;Gn.range;Tc.range;Cc.range;Ut.range;zc.range;Rc.range;const na=ve(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());na.range;const Nc=ve(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nc.range;const at=ve(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());at.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ve(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});at.range;const xt=ve(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ve(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xt.range;function Uc(e,t,n,r,a,i){const o=[[Tt,1,tt],[Tt,5,5*tt],[Tt,15,15*tt],[Tt,30,30*tt],[i,1,$e],[i,5,5*$e],[i,15,15*$e],[i,30,30*$e],[a,1,nt],[a,3,3*nt],[a,6,6*nt],[a,12,12*nt],[r,1,rt],[r,2,2*rt],[n,1,Jr],[t,1,qa],[t,3,3*qa],[e,1,Fr]];function c(s,f,d){const h=f<s;h&&([s,f]=[f,s]);const p=d&&typeof d.range=="function"?d:u(s,f,d),N=p?p.range(s,+f+1):[];return h?N.reverse():N}function u(s,f,d){const h=Math.abs(f-s)/d,p=In(([,,$])=>$).right(o,h);if(p===o.length)return e.every(Wr(s/Fr,f/Fr,d));if(p===0)return En.every(Math.max(Wr(s,f,d),1));const[N,A]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return N.every(A)}return[c,u]}const[$c,Ac]=Uc(at,na,Bn,an,ea,Kr);function Hr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Pr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Lc(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,s=Vt(a),f=Zt(a),d=Vt(i),h=Zt(i),p=Vt(o),N=Zt(o),A=Vt(c),$=Zt(c),ce=Vt(u),ee=Zt(u),E={a:X,A:K,b:B,B:me,c:null,d:Qa,e:Qa,f:as,g:hs,G:ys,H:ts,I:ns,j:rs,L:bi,m:is,M:os,p:be,q:ne,Q:ei,s:ti,S:cs,u:ss,U:us,V:ls,w:fs,W:ds,x:null,X:null,y:gs,Y:ms,Z:xs,"%":Ka},Q={a:Ae,A:re,b:fe,B:ge,c:null,d:Ja,e:Ja,f:ps,g:Ns,G:$s,H:vs,I:bs,j:_s,L:pi,m:ws,M:Ms,p:ae,q:Ve,Q:ei,s:ti,S:ks,u:Ds,U:Ss,V:Ts,w:Cs,W:zs,x:null,X:null,y:Rs,Y:Us,Z:As,"%":Ka},Y={a:O,A:_,b:W,B:D,c:S,d:Za,e:Za,f:Qc,g:Va,G:Ba,H:Xa,I:Xa,j:Bc,L:Xc,m:Ic,M:Vc,p:w,q:qc,Q:Kc,s:es,S:Zc,u:Oc,U:Wc,V:Ec,w:Yc,W:jc,x:I,X:ue,y:Va,Y:Ba,Z:Gc,"%":Jc};E.x=M(n,E),E.X=M(r,E),E.c=M(t,E),Q.x=M(n,Q),Q.X=M(r,Q),Q.c=M(t,Q);function M(v,z){return function(L){var g=[],F=-1,R=0,ie=v.length,y,se,ye;for(L instanceof Date||(L=new Date(+L));++F<ie;)v.charCodeAt(F)===37&&(g.push(v.slice(R,F)),(se=Ia[y=v.charAt(++F)])!=null?y=v.charAt(++F):se=y==="e"?" ":"0",(ye=z[y])&&(y=ye(L,se)),g.push(y),R=F+1);return g.push(v.slice(R,F)),g.join("")}}function x(v,z){return function(L){var g=Bt(1900,void 0,1),F=k(g,v,L+="",0),R,ie;if(F!=L.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(g.s*1e3+("L"in g?g.L:0));if(z&&!("Z"in g)&&(g.Z=0),"p"in g&&(g.H=g.H%12+g.p*12),g.m===void 0&&(g.m="q"in g?g.q:0),"V"in g){if(g.V<1||g.V>53)return null;"w"in g||(g.w=1),"Z"in g?(R=Pr(Bt(g.y,0,1)),ie=R.getUTCDay(),R=ie>4||ie===0?Gn.ceil(R):Gn(R),R=ta.offset(R,(g.V-1)*7),g.y=R.getUTCFullYear(),g.m=R.getUTCMonth(),g.d=R.getUTCDate()+(g.w+6)%7):(R=Hr(Bt(g.y,0,1)),ie=R.getDay(),R=ie>4||ie===0?jn.ceil(R):jn(R),R=an.offset(R,(g.V-1)*7),g.y=R.getFullYear(),g.m=R.getMonth(),g.d=R.getDate()+(g.w+6)%7)}else("W"in g||"U"in g)&&("w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),ie="Z"in g?Pr(Bt(g.y,0,1)).getUTCDay():Hr(Bt(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+g.W*7-(ie+5)%7:g.w+g.U*7-(ie+6)%7);return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,Pr(g)):Hr(g)}}function k(v,z,L,g){for(var F=0,R=z.length,ie=L.length,y,se;F<R;){if(g>=ie)return-1;if(y=z.charCodeAt(F++),y===37){if(y=z.charAt(F++),se=Y[y in Ia?z.charAt(F++):y],!se||(g=se(v,L,g))<0)return-1}else if(y!=L.charCodeAt(g++))return-1}return g}function w(v,z,L){var g=s.exec(z.slice(L));return g?(v.p=f.get(g[0].toLowerCase()),L+g[0].length):-1}function O(v,z,L){var g=p.exec(z.slice(L));return g?(v.w=N.get(g[0].toLowerCase()),L+g[0].length):-1}function _(v,z,L){var g=d.exec(z.slice(L));return g?(v.w=h.get(g[0].toLowerCase()),L+g[0].length):-1}function W(v,z,L){var g=ce.exec(z.slice(L));return g?(v.m=ee.get(g[0].toLowerCase()),L+g[0].length):-1}function D(v,z,L){var g=A.exec(z.slice(L));return g?(v.m=$.get(g[0].toLowerCase()),L+g[0].length):-1}function S(v,z,L){return k(v,t,z,L)}function I(v,z,L){return k(v,n,z,L)}function ue(v,z,L){return k(v,r,z,L)}function X(v){return o[v.getDay()]}function K(v){return i[v.getDay()]}function B(v){return u[v.getMonth()]}function me(v){return c[v.getMonth()]}function be(v){return a[+(v.getHours()>=12)]}function ne(v){return 1+~~(v.getMonth()/3)}function Ae(v){return o[v.getUTCDay()]}function re(v){return i[v.getUTCDay()]}function fe(v){return u[v.getUTCMonth()]}function ge(v){return c[v.getUTCMonth()]}function ae(v){return a[+(v.getUTCHours()>=12)]}function Ve(v){return 1+~~(v.getUTCMonth()/3)}return{format:function(v){var z=M(v+="",E);return z.toString=function(){return v},z},parse:function(v){var z=x(v+="",!1);return z.toString=function(){return v},z},utcFormat:function(v){var z=M(v+="",Q);return z.toString=function(){return v},z},utcParse:function(v){var z=x(v+="",!0);return z.toString=function(){return v},z}}}var Ia={"-":"",_:" ",0:"0"},_e=/^\s*\d+/,Fc=/^%/,Hc=/[\\^$*+?|[\]().{}]/g;function Z(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Pc(e){return e.replace(Hc,"\\$&")}function Vt(e){return new RegExp("^(?:"+e.map(Pc).join("|")+")","i")}function Zt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Yc(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Oc(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Wc(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ec(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function jc(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ba(e,t,n){var r=_e.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Va(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gc(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qc(e,t,n){var r=_e.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ic(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Za(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Bc(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Xa(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Vc(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Zc(e,t,n){var r=_e.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Xc(e,t,n){var r=_e.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Qc(e,t,n){var r=_e.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Jc(e,t,n){var r=Fc.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Kc(e,t,n){var r=_e.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function es(e,t,n){var r=_e.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qa(e,t){return Z(e.getDate(),t,2)}function ts(e,t){return Z(e.getHours(),t,2)}function ns(e,t){return Z(e.getHours()%12||12,t,2)}function rs(e,t){return Z(1+an.count(at(e),e),t,3)}function bi(e,t){return Z(e.getMilliseconds(),t,3)}function as(e,t){return bi(e,t)+"000"}function is(e,t){return Z(e.getMonth()+1,t,2)}function os(e,t){return Z(e.getMinutes(),t,2)}function cs(e,t){return Z(e.getSeconds(),t,2)}function ss(e){var t=e.getDay();return t===0?7:t}function us(e,t){return Z(Bn.count(at(e)-1,e),t,2)}function _i(e){var t=e.getDay();return t>=4||t===0?Nt(e):Nt.ceil(e)}function ls(e,t){return e=_i(e),Z(Nt.count(at(e),e)+(at(e).getDay()===4),t,2)}function fs(e){return e.getDay()}function ds(e,t){return Z(jn.count(at(e)-1,e),t,2)}function gs(e,t){return Z(e.getFullYear()%100,t,2)}function hs(e,t){return e=_i(e),Z(e.getFullYear()%100,t,2)}function ms(e,t){return Z(e.getFullYear()%1e4,t,4)}function ys(e,t){var n=e.getDay();return e=n>=4||n===0?Nt(e):Nt.ceil(e),Z(e.getFullYear()%1e4,t,4)}function xs(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Z(t/60|0,"0",2)+Z(t%60,"0",2)}function Ja(e,t){return Z(e.getUTCDate(),t,2)}function vs(e,t){return Z(e.getUTCHours(),t,2)}function bs(e,t){return Z(e.getUTCHours()%12||12,t,2)}function _s(e,t){return Z(1+ta.count(xt(e),e),t,3)}function pi(e,t){return Z(e.getUTCMilliseconds(),t,3)}function ps(e,t){return pi(e,t)+"000"}function ws(e,t){return Z(e.getUTCMonth()+1,t,2)}function Ms(e,t){return Z(e.getUTCMinutes(),t,2)}function ks(e,t){return Z(e.getUTCSeconds(),t,2)}function Ds(e){var t=e.getUTCDay();return t===0?7:t}function Ss(e,t){return Z(vi.count(xt(e)-1,e),t,2)}function wi(e){var t=e.getUTCDay();return t>=4||t===0?Ut(e):Ut.ceil(e)}function Ts(e,t){return e=wi(e),Z(Ut.count(xt(e),e)+(xt(e).getUTCDay()===4),t,2)}function Cs(e){return e.getUTCDay()}function zs(e,t){return Z(Gn.count(xt(e)-1,e),t,2)}function Rs(e,t){return Z(e.getUTCFullYear()%100,t,2)}function Ns(e,t){return e=wi(e),Z(e.getUTCFullYear()%100,t,2)}function Us(e,t){return Z(e.getUTCFullYear()%1e4,t,4)}function $s(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ut(e):Ut.ceil(e),Z(e.getUTCFullYear()%1e4,t,4)}function As(){return"+0000"}function Ka(){return"%"}function ei(e){return+e}function ti(e){return Math.floor(+e/1e3)}var St,ra;Ls({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ls(e){return St=Lc(e),ra=St.format,St.parse,St.utcFormat,St.utcParse,St}function Fs(e){return new Date(e)}function Hs(e){return e instanceof Date?+e:+new Date(+e)}function Mi(e,t,n,r,a,i,o,c,u,s){var f=di(),d=f.invert,h=f.domain,p=s(".%L"),N=s(":%S"),A=s("%I:%M"),$=s("%I %p"),ce=s("%a %d"),ee=s("%b %d"),E=s("%B"),Q=s("%Y");function Y(M){return(u(M)<M?p:c(M)<M?N:o(M)<M?A:i(M)<M?$:r(M)<M?a(M)<M?ce:ee:n(M)<M?E:Q)(M)}return f.invert=function(M){return new Date(d(M))},f.domain=function(M){return arguments.length?h(Array.from(M,Hs)):h().map(Fs)},f.ticks=function(M){var x=h();return e(x[0],x[x.length-1],M??10)},f.tickFormat=function(M,x){return x==null?Y:s(x)},f.nice=function(M){var x=h();return(!M||typeof M.range!="function")&&(M=t(x[0],x[x.length-1],M??10)),M?h(mc(x,M)):f},f.copy=function(){return Xr(f,Mi(e,t,n,r,a,i,o,c,u,s))},f}function Ps(){return Ir.apply(Mi($c,Ac,at,na,Bn,an,ea,Kr,Tt,ra).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const Qt={x:$n,y:$n,z:$n,r:bc};function Ys(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function ni(e){return e}function Os(e){return t=>Math.log(e*t)}function Ws(e){return t=>e*Math.exp(t)}function Es(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function js(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Dn(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Gs(e){const t=Ys(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Os(n),ground:Ws(n),scaleType:t}}return t==="pow"?{lift:Dn(1),ground:Dn(1/1),scaleType:t}:t==="sqrt"?{lift:Dn(.5),ground:Dn(1/.5),scaleType:t}:t==="symlog"?{lift:Es(1),ground:js(1),scaleType:t}:{lift:ni,ground:ni,scaleType:t}}function qn(e){return e.replace(/^\w/,t=>t.toUpperCase())}function ke(e,t=""){return`scale${qn(t)}${qn(e)}`}function ki(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?ke("band"):ke("point");if(Xt(Object.keys(e),["domain","range","unknown","copy"]))return ke("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return ke("quantile",t);if(e.thresholds)return ke("quantize",t);if(e.constant)return ke("symlog",t);if(e.base)return ke("log",t);if(e.exponent)return e.exponent()===.5?ke("sqrt",t):ke("pow",t);if(Xt(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return ke("threshold");if(Xt(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return ke("identity");if(Xt(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return ke("radial");if(t)return ke(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),ke(r)}return ke("linear")}const qs=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Is(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||qs.includes(ki(e))||ci(e)===!0)return e.domain();const{lift:n,ground:r}=Gs(e),a=e.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[o,c]=e.domain().map(p=>n(i?p.getTime():p)),[u,s]=e.range(),f=t[0]||0,d=t[1]||0,h=(c-o)/(Math.abs(s-u)-f-d);return[o-f*h,d*h+c].map(p=>r(i?new Date(p):p))}function Bs(e,t,n,r,a){let i,o;return a===!0?(i=0,o=100):(i=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),r===!0?[o,i]:[i,o]}function Vs(e,t,n,r,a,i){return a?typeof a=="function"?a({width:t,height:n}):a:Bs(e,t,n,r,i)}function Sn(e){return function([n,r,a,i,o,c,u,s,f,d]){if(r===null)return null;const h=Vs(e,u,s,c,f,d),p=n===Qt[e]?n():n.copy();return p.domain(a),(!p.interpolator||typeof p.interpolator=="function"&&p.interpolator().name.startsWith("identity"))&&p.range(h),i&&p.domain(Is(p,i)),(o===!0||typeof o=="number")&&(typeof p.nice=="function"?p.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),p}}function Tn([e,t]){return(n,r)=>{const a=e(n,r);return Array.isArray(a)?a.map(i=>t(i)):t(a)}}function Cn([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ue="    ";function Zs(e){const{r:t,g:n,b:r,opacity:a}=Hn(e);return[t,n,r].every(i=>i>=0&&i<=255)?{r:t,g:n,b:r,o:a}:!1}function Xs({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Qs(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Js(e.boundingBox),console.log("Data:"),console.log(Ue,e.data),e.flatData&&(console.log("flatData:"),console.log(Ue,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{Ks(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Js(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Ue}${t}:`,n)})}function Ks(e,t,n){const r=ki(t);console.log(`${Ue}${e}:`),console.log(`${Ue}${Ue}Accessor: "${n.toString()}"`),console.log(`${Ue}${Ue}Type: ${r}`),ri(t,"domain"),ri(t,"range"," ")}function ri(e,t,n=""){const r=e[t](),a=tu(r);a?eu(a,t,r):console.log(`${Ue}${Ue}${qn(t)}:${n}`,r)}function eu(e,t,n){console.log(`${Ue}${Ue}${qn(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function tu(e){const t=[],n=e.map((r,a)=>{const i=Zs(r);if(i!==!1){t.push(i);const o=a===e.length-1?" ":"";return`%c ${r}${o}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${Xs(r)};`)]:null}function zn(e){return!e||typeof e=="function"||Array.isArray(e)&&e.includes(null)?!1:e}var nu=Me('<div class="layercake-container svelte-812kmt"><!></div>');function ru(e,t){lt(t,!1);const n=()=>b(dt,"$_percentRange",y),r=()=>b(Ht,"$_containerWidth",y),a=()=>b(Pt,"$_containerHeight",y),i=()=>b(dr,"$_data",y),o=()=>b(on,"$_flatData",y),c=()=>b(Yt,"$_x",y),u=()=>b(Ot,"$_y",y),s=()=>b(Wt,"$_z",y),f=()=>b(Et,"$_r",y),d=()=>b(cn,"$_xNice",y),h=()=>b(sn,"$_yNice",y),p=()=>b(un,"$_zNice",y),N=()=>b(ln,"$_rNice",y),A=()=>b(fn,"$_xReverse",y),$=()=>b(dn,"$_yReverse",y),ce=()=>b(gn,"$_zReverse",y),ee=()=>b(hn,"$_rReverse",y),E=()=>b(mn,"$_xPadding",y),Q=()=>b(yn,"$_yPadding",y),Y=()=>b(xn,"$_zPadding",y),M=()=>b(vn,"$_rPadding",y),x=()=>b(Sr,"$_custom",y),k=()=>b(Dr,"$_config",y),w=()=>b(zr,"$box_d",y),O=()=>b(Tr,"$activeGetters_d",y),_=()=>b(jt,"$xScale_d",y),W=()=>b(Gt,"$yScale_d",y),D=()=>b(qt,"$zScale_d",y),S=()=>b(It,"$rScale_d",y),I=()=>b(gt,"$width_d",y),ue=()=>b(ht,"$height_d",y),X=()=>b(wa,"$aspectRatio_d",y),K=()=>b(pr,"$_xDomainSort",y),B=()=>b(wr,"$_yDomainSort",y),me=()=>b(Mr,"$_zDomainSort",y),be=()=>b(kr,"$_rDomainSort",y),ne=()=>b(Cr,"$padding_d",y),Ae=()=>b(je,"$extents_d",y),re=()=>b(la,"$xDomain_d",y),fe=()=>b(fa,"$yDomain_d",y),ge=()=>b(da,"$zDomain_d",y),ae=()=>b(ga,"$rDomain_d",y),Ve=()=>b(va,"$xRange_d",y),v=()=>b(ba,"$yRange_d",y),z=()=>b(_a,"$zRange_d",y),L=()=>b(pa,"$rRange_d",y),g=()=>b(ha,"$xGet_d",y),F=()=>b(ma,"$yGet_d",y),R=()=>b(ya,"$zGet_d",y),ie=()=>b(xa,"$rGet_d",y),[y,se]=vt(),ye=ka(),Ze=so(Qs,200);let Pe=m(t,"ssr",8,!1),At=m(t,"pointerEvents",8,!0),Ce=m(t,"position",8,"relative"),Xe=m(t,"percentRange",8,!1),Qe=m(t,"width",8,void 0),Le=m(t,"height",8,void 0),De=m(t,"containerWidth",28,()=>Qe()||100),Ye=m(t,"containerHeight",28,()=>Le()||100),it=m(t,"element",12,void 0),Oe=m(t,"x",8,void 0),ze=m(t,"y",8,void 0),We=m(t,"z",8,void 0),Je=m(t,"r",8,void 0),Ke=m(t,"data",24,()=>[]),ot=m(t,"xDomain",8,void 0),ct=m(t,"yDomain",8,void 0),Ee=m(t,"zDomain",8,void 0),pt=m(t,"rDomain",8,void 0),Vn=m(t,"xNice",8,!1),Zn=m(t,"yNice",8,!1),Xn=m(t,"zNice",8,!1),Qn=m(t,"rNice",8,!1),Jn=m(t,"xPadding",8,void 0),Kn=m(t,"yPadding",8,void 0),er=m(t,"zPadding",8,void 0),tr=m(t,"rPadding",8,void 0),nr=m(t,"xScale",24,()=>Qt.x),Lt=m(t,"yScale",24,()=>Qt.y),rr=m(t,"zScale",24,()=>Qt.z),ar=m(t,"rScale",24,()=>Qt.r),wt=m(t,"xRange",8,void 0),Mt=m(t,"yRange",8,void 0),kt=m(t,"zRange",8,void 0),Dt=m(t,"rRange",8,void 0),ir=m(t,"xReverse",8,!1),or=m(t,"yReverse",8,void 0),cr=m(t,"zReverse",8,!1),sr=m(t,"rReverse",8,!1),Di=m(t,"xDomainSort",8,!1),Si=m(t,"yDomainSort",8,!1),Ti=m(t,"zDomainSort",8,!1),Ci=m(t,"rDomainSort",8,!1),ur=m(t,"padding",24,()=>({})),Ft=m(t,"flatData",8,void 0),lr=m(t,"custom",24,()=>({})),aa=m(t,"debug",8,!1),zi=m(t,"verbose",8,!0),fr=!1;ai(()=>{fr=!0});const V=ka({}),dt=H(Xe()),Ht=H(De()),Pt=H(Ye()),dr=H(Ke()),on=H(Ft()||Ke()),ia=H(ur()),Yt=H(st(Oe())),Ot=H(st(ze())),Wt=H(st(We())),Et=H(st(Je())),gr=H(ot()),hr=H(ct()),mr=H(Ee()),yr=H(pt()),cn=H(Vn()),sn=H(Zn()),un=H(Xn()),ln=H(Qn()),fn=H(ir()),dn=H(l(ye)),gn=H(cr()),hn=H(sr()),mn=H(Jn()),yn=H(Kn()),xn=H(er()),vn=H(tr()),oa=H(wt()),ca=H(Mt()),sa=H(kt()),ua=H(Dt()),xr=H(nr()),vr=H(Lt()),br=H(rr()),_r=H(ar()),pr=H(Di()),wr=H(Si()),Mr=H(Ti()),kr=H(Ci()),Dr=H(l(V)),Sr=H(lr()),Tr=te([Yt,Ot,Wt,Et],([oe,pe,Re,he])=>{const et={};return oe&&(et.x=oe),pe&&(et.y=pe),Re&&(et.z=Re),he&&(et.r=he),et}),Cr=te([ia,Ht,Pt],([oe])=>Object.assign({top:0,right:0,bottom:0,left:0},oe)),zr=te([Ht,Pt,Cr],([oe,pe,Re])=>{const he={};return he.top=Re.top,he.right=oe-Re.right,he.bottom=pe-Re.bottom,he.left=Re.left,he.width=he.right-he.left,he.height=he.bottom-he.top,zi()===!0&&(he.width<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),he.height<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),he}),gt=te([zr],([oe])=>oe.width),ht=te([zr],([oe])=>oe.height),je=te([on,Tr,xr,vr,_r,br,gr,hr,mr,yr,pr,wr,Mr,kr],([oe,pe,Re,he,et,Fi,Hi,Pi,Yi,Oi,Wi,Ei,ji,Gi])=>{const qi={x:{scale:Re,sort:Wi},y:{scale:he,sort:Ei},r:{scale:et,sort:Gi},z:{scale:Fi,sort:ji}},Rr=Object.fromEntries([["x",zn(Hi)],["y",zn(Pi)],["z",zn(Yi)],["r",zn(Oi)]].filter(([bn,Bi])=>Bi!==!1)),Nr=co(pe,Rr),Ii=Object.fromEntries(Object.keys(Nr).map(bn=>[bn,qi[bn]]));return Object.keys(Nr).length>0?{...So(oe,Nr,Ii),...Rr}:Rr}),la=te([je,gr],pn("x")),fa=te([je,hr],pn("y")),da=te([je,mr],pn("z")),ga=te([je,yr],pn("r")),jt=te([xr,je,la,mn,cn,fn,gt,ht,oa,dt],Sn("x")),ha=te([Yt,jt],Tn),Gt=te([vr,je,fa,yn,sn,dn,gt,ht,ca,dt],Sn("y")),ma=te([Ot,Gt],Tn),qt=te([br,je,da,xn,un,gn,gt,ht,sa,dt],Sn("z")),ya=te([Wt,qt],Tn),It=te([_r,je,ga,vn,ln,hn,gt,ht,ua,dt],Sn("r")),xa=te([Et,It],Tn),Ri=te(jt,oe=>oe.domain()),Ni=te(Gt,oe=>oe.domain()),Ui=te(qt,oe=>oe.domain()),$i=te(It,oe=>oe.domain()),va=te([jt],Cn),ba=te([Gt],Cn),_a=te([qt],Cn),pa=te([It],Cn),wa=te([gt,ht],([oe,pe])=>oe/pe);Xi("LayerCake",{activeGetters:Tr,width:gt,height:ht,percentRange:dt,aspectRatio:wa,containerWidth:Ht,containerHeight:Pt,x:Yt,y:Ot,z:Wt,r:Et,custom:Sr,data:dr,xNice:cn,yNice:sn,zNice:un,rNice:ln,xDomainSort:pr,yDomainSort:wr,zDomainSort:Mr,rDomainSort:kr,xReverse:fn,yReverse:dn,zReverse:gn,rReverse:hn,xPadding:mn,yPadding:yn,zPadding:xn,rPadding:vn,padding:Cr,flatData:on,extents:je,xDomain:Ri,yDomain:Ni,zDomain:Ui,rDomain:$i,xRange:va,yRange:ba,zRange:_a,rRange:pa,config:Dr,xScale:jt,xGet:ha,yScale:Gt,yGet:ma,zScale:qt,zGet:ya,rScale:It,rGet:xa}),C(()=>(T(or()),T(Lt())),()=>{de(ye,typeof or()>"u"?typeof Lt().bandwidth!="function":or())}),C(()=>T(Oe()),()=>{Oe()&&Ne(V,l(V).x=Oe())}),C(()=>T(ze()),()=>{ze()&&Ne(V,l(V).y=ze())}),C(()=>T(We()),()=>{We()&&Ne(V,l(V).z=We())}),C(()=>T(Je()),()=>{Je()&&Ne(V,l(V).r=Je())}),C(()=>T(ot()),()=>{ot()&&Ne(V,l(V).xDomain=ot())}),C(()=>T(ct()),()=>{ct()&&Ne(V,l(V).yDomain=ct())}),C(()=>T(Ee()),()=>{Ee()&&Ne(V,l(V).zDomain=Ee())}),C(()=>T(pt()),()=>{pt()&&Ne(V,l(V).rDomain=pt())}),C(()=>T(wt()),()=>{wt()&&Ne(V,l(V).xRange=wt())}),C(()=>T(Mt()),()=>{Mt()&&Ne(V,l(V).yRange=Mt())}),C(()=>T(kt()),()=>{kt()&&Ne(V,l(V).zRange=kt())}),C(()=>T(Dt()),()=>{Dt()&&Ne(V,l(V).rRange=Dt())}),C(()=>T(Xe()),()=>{j(dt,Xe())}),C(()=>T(De()),()=>{j(Ht,De())}),C(()=>T(Ye()),()=>{j(Pt,Ye())}),C(()=>T(Ke()),()=>{j(dr,Ke())}),C(()=>(T(Ft()),T(Ke())),()=>{j(on,Ft()||Ke())}),C(()=>T(ur()),()=>{j(ia,ur())}),C(()=>T(Oe()),()=>{j(Yt,st(Oe()))}),C(()=>T(ze()),()=>{j(Ot,st(ze()))}),C(()=>T(We()),()=>{j(Wt,st(We()))}),C(()=>T(Je()),()=>{j(Et,st(Je()))}),C(()=>T(ot()),()=>{j(gr,ot())}),C(()=>T(ct()),()=>{j(hr,ct())}),C(()=>T(Ee()),()=>{j(mr,Ee())}),C(()=>T(pt()),()=>{j(yr,pt())}),C(()=>T(Vn()),()=>{j(cn,Vn())}),C(()=>T(Zn()),()=>{j(sn,Zn())}),C(()=>T(Xn()),()=>{j(un,Xn())}),C(()=>T(Qn()),()=>{j(ln,Qn())}),C(()=>T(ir()),()=>{j(fn,ir())}),C(()=>l(ye),()=>{j(dn,l(ye))}),C(()=>T(cr()),()=>{j(gn,cr())}),C(()=>T(sr()),()=>{j(hn,sr())}),C(()=>T(Jn()),()=>{j(mn,Jn())}),C(()=>T(Kn()),()=>{j(yn,Kn())}),C(()=>T(er()),()=>{j(xn,er())}),C(()=>T(tr()),()=>{j(vn,tr())}),C(()=>T(wt()),()=>{j(oa,wt())}),C(()=>T(Mt()),()=>{j(ca,Mt())}),C(()=>T(kt()),()=>{j(sa,kt())}),C(()=>T(Dt()),()=>{j(ua,Dt())}),C(()=>T(nr()),()=>{j(xr,nr())}),C(()=>T(Lt()),()=>{j(vr,Lt())}),C(()=>T(rr()),()=>{j(br,rr())}),C(()=>T(ar()),()=>{j(_r,ar())}),C(()=>T(lr()),()=>{j(Sr,lr())}),C(()=>l(V),()=>{j(Dr,l(V))}),C(()=>(w(),T(aa()),T(Pe()),i(),T(Ft()),o(),O(),l(V),_(),W(),D(),S()),()=>{w()&&aa()===!0&&(Pe()===!0||typeof window<"u")&&Ze({data:i(),flatData:typeof Ft()<"u"?o():null,boundingBox:w(),activeGetters:O(),x:l(V).x,y:l(V).y,z:l(V).z,r:l(V).r,xScale:_(),yScale:W(),zScale:D(),rScale:S()})}),Qi(),ao();var Ma=Kt(),Ai=qe(Ma);{var Li=oe=>{var pe=nu();let Re;var he=G(pe);eo(he,t,"default",{get element(){return it()},get width(){return I()},get height(){return ue()},get aspectRatio(){return X()},get containerWidth(){return r()},get containerHeight(){return a()},get activeGetters(){return O()},get percentRange(){return n()},get x(){return c()},get y(){return u()},get z(){return s()},get r(){return f()},get custom(){return x()},get data(){return i()},get xNice(){return d()},get yNice(){return h()},get zNice(){return p()},get rNice(){return N()},get xDomainSort(){return K()},get yDomainSort(){return B()},get zDomainSort(){return me()},get rDomainSort(){return be()},get xReverse(){return A()},get yReverse(){return $()},get zReverse(){return ce()},get rReverse(){return ee()},get xPadding(){return E()},get yPadding(){return Q()},get zPadding(){return Y()},get rPadding(){return M()},get padding(){return ne()},get flatData(){return o()},get extents(){return Ae()},get xDomain(){return re()},get yDomain(){return fe()},get zDomain(){return ge()},get rDomain(){return ae()},get xRange(){return Ve()},get yRange(){return v()},get zRange(){return z()},get rRange(){return L()},get config(){return k()},get xScale(){return _()},get xGet(){return g()},get yScale(){return W()},get yGet(){return F()},get zScale(){return D()},get zGet(){return R()},get rScale(){return S()},get rGet(){return ie()}}),P(pe),Gr(pe,et=>it(et),()=>it()),xe(()=>Re=ut(pe,"",Re,{position:Ce(),top:Ce()==="absolute"?"0":null,right:Ce()==="absolute"?"0":null,bottom:Ce()==="absolute"?"0":null,left:Ce()==="absolute"?"0":null,"pointer-events":At()===!1?"none":null})),Ca(pe,"clientWidth",De),Ca(pe,"clientHeight",Ye),q(oe,pe)};we(Ai,oe=>{(Pe()===!0||typeof window<"u")&&oe(Li)})}q(e,Ma),ft(),se()}var au=Me('<div class="layercake-layout-html svelte-5lwx3b"><!></div>');function iu(e,t){lt(t,!0);const n=()=>b(i,"$padding",r),[r,a]=vt(),{padding:i}=$t("LayerCake");let o=m(t,"element",15,void 0),c=m(t,"zIndex",3,void 0),u=m(t,"pointerEvents",3,void 0),s=m(t,"role",3,void 0),f=m(t,"label",3,void 0),d=m(t,"labelledBy",3,void 0),h=m(t,"describedBy",3,void 0),p=m(t,"overflow",3,"visible"),N=le(()=>s()||(f()||d()||h()?"figure":void 0));var A=au();let $;var ce=G(A);Un(ce,()=>t.children??ii,()=>({element:o()})),P(A),Gr(A,ee=>o(ee),()=>o()),xe(()=>{U(A,"role",l(N)),U(A,"aria-label",f()),U(A,"aria-labelledby",d()),U(A,"aria-describedby",h()),$=ut(A,"",$,{"z-index":c(),"pointer-events":u()===!1?"none":null,top:n().top+"px",right:n().right+"px",bottom:n().bottom+"px",left:n().left+"px",overflow:p()})}),q(e,A),ft(),a()}var ou=Te("<title><!></title>"),cu=Te("<title> </title>"),su=Te("<defs><!></defs>"),uu=Te('<svg class="layercake-layout-svg svelte-vzq0jw"><!><!><!></svg>');function lu(e,t){lt(t,!0);const n=()=>b(ee,"$containerWidth",i),r=()=>b(E,"$containerHeight",i),a=()=>b(Q,"$padding",i),[i,o]=vt();let c=m(t,"element",15,void 0),u=m(t,"zIndex",3,void 0),s=m(t,"pointerEvents",3,void 0),f=m(t,"viewBox",3,void 0),d=m(t,"label",3,void 0),h=m(t,"labelledBy",3,void 0),p=m(t,"describedBy",3,void 0),N=m(t,"titleText",3,void 0),A=m(t,"title",3,void 0),$=m(t,"defs",3,void 0),ce=m(t,"overflow",3,"visible");const{containerWidth:ee,containerHeight:E,padding:Q}=$t("LayerCake");var Y=uu();let M;var x=G(Y);{var k=D=>{var S=ou(),I=G(S);Un(I,A),P(S),q(D,S)},w=D=>{var S=Kt(),I=qe(S);{var ue=X=>{var K=cu(),B=G(K,!0);P(K),xe(()=>Fe(B,N())),q(X,K)};we(I,X=>{N()&&X(ue)},!0)}q(D,S)};we(x,D=>{typeof A()=="function"?D(k):D(w,!1)})}var O=J(x);{var _=D=>{var S=su(),I=G(S);Un(I,$),P(S),q(D,S)};we(O,D=>{typeof $()=="function"&&D(_)})}var W=J(O);Un(W,()=>t.children??ii,()=>({element:c()})),P(Y),Gr(Y,D=>c(D),()=>c()),xe(()=>{U(Y,"viewBox",f()),U(Y,"width",n()),U(Y,"height",r()),U(Y,"aria-label",d()),U(Y,"aria-labelledby",h()),U(Y,"aria-describedby",p()),M=ut(Y,"",M,{"z-index":u(),"pointer-events":s()===!1?"none":null,top:a().top+"px",left:a().left+"px",width:`calc(100% - ${a().left+a().right}px)`,height:`calc(100% - ${a().top+a().bottom}px)`,overflow:ce()})}),q(e,Y),ft(),o()}var fu=Te('<path class="path-line svelte-gmbklp"></path>');function du(e,t){lt(t,!0);const n=()=>b(u,"$data",o),r=()=>b(s,"$xGet",o),a=()=>b(d,"$yScale",o),i=()=>b(f,"$yGet",o),[o,c]=vt(),{data:u,xGet:s,yGet:f,yScale:d}=$t("LayerCake");let h=m(t,"stroke",3,"#ab00d6"),p=m(t,"yAccessorKey",3,null),N=le(()=>"M"+n().filter($=>p()?$[p()]!=null:!0).map($=>{const ce=r()($),ee=p()?a()($[p()]):i()($);return ce+","+ee}).join("L"));var A=fu();xe(()=>{U(A,"d",l(N)),U(A,"stroke",h())}),q(e,A),ft(),c()}var gu=Te('<line class="baseline svelte-4vwzuc" x1="0"></line>'),hu=Te('<line class="gridline svelte-4vwzuc" y2="0"></line>'),mu=Te('<line class="tick-mark svelte-4vwzuc"></line>'),yu=Te('<!><g><!><!><text class="svelte-4vwzuc"> </text></g>',1),xu=Te("<g></g>");function vu(e,t){lt(t,!0);const n=()=>b(f,"$xScale",o),r=()=>b(s,"$height",o),a=()=>b(u,"$width",o),i=()=>b(d,"$yRange",o),[o,c]=vt(),{width:u,height:s,xScale:f,yRange:d}=$t("LayerCake");let h=m(t,"tickMarks",3,!1),p=m(t,"gridlines",3,!0),N=m(t,"tickMarkLength",3,6),A=m(t,"baseline",3,!1),$=m(t,"snapLabels",3,!1),ce=m(t,"format",3,D=>D),ee=m(t,"ticks",3,void 0),E=m(t,"tickGutter",3,0),Q=m(t,"dx",3,0),Y=m(t,"dy",3,0),M=le(()=>h()===!0?N()??6:0),x=le(()=>typeof n().bandwidth=="function"),k=le(()=>Array.isArray(ee())?ee():l(x)?n().domain():typeof ee()=="function"?ee()(n().ticks()):n().ticks(ee())),w=le(()=>l(x)?n().bandwidth()/2:0);function O(D){if($()===!0){if(D===0)return"start";if(D===l(k).length-1)return"end"}return"middle"}var _=xu();let W;Ct(_,22,()=>l(k),D=>D,(D,S,I)=>{var ue=yu(),X=qe(ue);{var K=ge=>{var ae=gu();xe(()=>{U(ae,"y1",r()),U(ae,"y2",r()),U(ae,"x2",a())}),q(ge,ae)};we(X,ge=>{A()===!0&&ge(K)})}var B=J(X),me=G(B);{var be=ge=>{var ae=hu();xe(()=>{U(ae,"x1",l(w)),U(ae,"x2",l(w)),U(ae,"y1",-r())}),q(ge,ae)};we(me,ge=>{p()===!0&&ge(be)})}var ne=J(me);{var Ae=ge=>{var ae=mu();xe(()=>{U(ae,"x1",l(w)),U(ae,"x2",l(w)),U(ae,"y1",E()),U(ae,"y2",E()+l(M))}),q(ge,ae)};we(ne,ge=>{h()===!0&&ge(Ae)})}var re=J(ne),fe=G(re,!0);P(re),P(B),xe((ge,ae,Ve,v)=>{An(B,0,`tick tick-${l(I)??""}`,"svelte-4vwzuc"),U(B,"transform",`translate(${ge??""},${ae??""})`),U(re,"x",l(w)),U(re,"y",E()+l(M)),U(re,"dx",Q()),U(re,"dy",Y()),U(re,"text-anchor",Ve),Fe(fe,v)},[()=>n()(S),()=>Math.max(...i()),()=>O(l(I)),()=>ce()(S)]),q(D,ue)}),P(_),xe(()=>W=An(_,0,"axis x-axis svelte-4vwzuc",null,W,{snapLabels:$()})),q(e,_),ft(),c()}var bu=Te('<line class="gridline svelte-mmstdn"></line>'),_u=Te('<line class="tick-mark svelte-mmstdn"></line>'),pu=Te('<g><!><!><text class="svelte-mmstdn"> </text></g>'),wu=Te('<g class="axis y-axis"></g>');function Mu(e,t){lt(t,!0);const n=()=>b(u,"$yScale",i),r=()=>b(c,"$xRange",i),a=()=>b(s,"$width",i),[i,o]=vt(),{xRange:c,yScale:u,width:s}=$t("LayerCake");let f=m(t,"tickMarks",3,!1),d=m(t,"labelPosition",3,"even"),h=m(t,"snapBaselineLabel",3,!1),p=m(t,"gridlines",3,!0),N=m(t,"tickMarkLength",3,void 0),A=m(t,"format",3,S=>S),$=m(t,"ticks",3,4),ce=m(t,"tickGutter",3,0),ee=m(t,"dx",3,0),E=m(t,"dy",3,0),Q=m(t,"charPixelWidth",3,7.25);function Y(S,I){return I===","||I==="."?S+Q()*.5:S+Q()}let M=le(()=>typeof n().bandwidth=="function"),x=le(()=>Array.isArray($())?$():l(M)?n().domain():typeof $()=="function"?$()(n().ticks()):n().ticks($())),k=le(()=>Math.max(10,Math.max(...l(x).map(S=>A()(S).toString().split("").reduce(Y,0))))),w=le(()=>f()===!0?d()==="above"?N()??l(k):N()??6:0),O=le(()=>-ce()-(d()==="above"?l(k):l(w))),_=le(()=>l(M)?n().bandwidth()/2:0),W=le(()=>Math.max(...l(x).map(n())));var D=wu();Ct(D,20,()=>l(x),S=>S,(S,I)=>{const ue=le(()=>n()(I));var X=pu(),K=G(X);{var B=re=>{var fe=bu();xe(()=>{U(fe,"x1",l(O)),U(fe,"x2",a()),U(fe,"y1",l(_)),U(fe,"y2",l(_))}),q(re,fe)};we(K,re=>{p()===!0&&re(B)})}var me=J(K);{var be=re=>{var fe=_u();xe(()=>{U(fe,"x1",l(O)),U(fe,"x2",l(O)+l(w)),U(fe,"y1",l(_)),U(fe,"y2",l(_))}),q(re,fe)};we(me,re=>{f()===!0&&re(be)})}var ne=J(me),Ae=G(ne,!0);P(ne),P(X),xe(re=>{An(X,0,`tick tick-${I??""}`,"svelte-mmstdn"),U(X,"transform",`translate(${r()[0]??""}, ${l(ue)??""})`),U(ne,"x1",l(O)),U(ne,"y",l(_)),U(ne,"dx",ee()+(d()==="even"?-3:0)),U(ne,"text-anchor",d()==="above"?"start":"end"),U(ne,"dy",E()+(d()==="above"||h()===!0&&l(ue)===l(W)?-3:4)),Fe(Ae,re)},[()=>A()(I)]),q(S,X)}),P(D),q(e,D),ft(),o()}var ku=Me('<div class="flex items-center gap-2"><div class="h-2 w-2 rounded-full"></div> <span> </span> <span class="font-mono"> </span></div>'),Du=Me('<div class="tooltip hidden md:block svelte-b0p9nb"><div class="line svelte-b0p9nb"></div> <div class="content pointer-events-none absolute top-0 z-50 mt-4 -translate-x-1/2 transform rounded border border-gray-200 bg-white p-2 text-xs whitespace-nowrap text-zinc-800 shadow"><div class="mb-1 font-bold"> </div> <!></div></div>'),Su=Me('<div class="tooltip-trigger hidden md:block svelte-b0p9nb"></div> <!>',1);function Tu(e,t){lt(t,!0);const n=()=>b(N,"$xGet",c),r=()=>b(h,"$xScale",c),a=()=>b(s,"$data",c),i=()=>b(f,"$width",c),o=()=>b(d,"$height",c),[c,u]=vt(),{data:s,width:f,height:d,xScale:h,yGet:p,xGet:N,config:A}=$t("LayerCake");let $=m(t,"formatTitle",3,S=>S),ce=m(t,"formatValue",3,S=>S),ee=m(t,"labels",19,()=>({})),E=Ge(!1),Q=Ge(Yr({})),Y=Ge(0);const M=In(S=>n()(S)).right;function x(S){const{left:I,top:ue}=S.currentTarget.getBoundingClientRect(),X=S.clientX-I,K=r().invert(X),B=M(a(),K,1),me=a()[B-1],be=a()[B],ne=!me||!be?me||be:K-n()(me)>n()(be)-K?be:me;ne?(de(Q,ne,!0),de(Y,r()(n()(ne)),!0),de(E,!0)):de(E,!1)}function k(){de(E,!1)}var w=Su(),O=qe(w);O.__mousemove=x;let _;var W=J(O,2);{var D=S=>{var I=Du(),ue=G(I);let X;var K=J(ue,2),B=G(K),me=G(B,!0);P(B);var be=J(B,2);Ct(be,17,()=>Object.entries(ee()),Nn,(ne,Ae)=>{var re=le(()=>Rn(l(Ae),2));let fe=()=>l(re)[0],ge=()=>l(re)[1];var ae=Kt(),Ve=qe(ae);{var v=z=>{var L=ku(),g=G(L);let F;var R=J(g,2),ie=G(R);P(R);var y=J(R,2),se=G(y,!0);P(y),P(L),xe(ye=>{F=ut(g,"",F,{"background-color":ge().color}),Fe(ie,`${ge().text??""}:`),Fe(se,ye)},[()=>ce()(l(Q)[fe()],fe())]),q(z,L)};we(Ve,z=>{l(Q)[fe()]!=null&&z(v)})}q(ne,ae)}),P(K),P(I),xe(ne=>{ut(I,`left:${l(Y)??""}px; top: 0px;`),X=ut(ue,"",X,{height:`${o()??""}px`}),Fe(me,ne)},[()=>$()(n()(l(Q)))]),q(S,I)};we(W,S=>{l(E)&&l(Q)&&S(D)})}xe(()=>_=ut(O,"",_,{width:`${i()??""}px`,height:`${o()??""}px`})),Ki("mouseleave",O,k),q(e,w),ft(),u()}oi(["mousemove"]);var Cu=Me('<div class="flex h-64 items-center justify-center"><!></div>'),zu=Me('<button class="rounded-full border px-3 py-1 text-xs font-medium transition-colors"> </button>'),Ru=Me('<button class="text-xs text-indigo-400 underline hover:text-indigo-300">Reset</button>'),Nu=Me("<!> <!> <!>",1),Uu=Me("<!> <!>",1),$u=Me('<div class="relative h-[400px] w-full rounded-lg bg-zinc-900 p-4 shadow-lg"><!></div>'),Au=Me('<div class="rounded-lg bg-zinc-900 p-8 text-center text-zinc-400 shadow-lg">Not enough data to display chart. Add more entries!</div>'),Lu=Me('<div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg"> </span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300"> </div></div> <div class="text-xl font-bold text-white"> </div></div></div>'),Fu=Me('<div class="space-y-3"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold text-zinc-100">Events</h2> <button> </button></div> <div class="grid grid-cols-2 gap-2"></div></div>'),Hu=Me('<div class="space-y-4"><div class="grid gap-4 lg:grid-cols-3"><div class="space-y-3 lg:col-span-2"><h2 class="text-lg font-semibold text-zinc-100">Timeline</h2> <div class="space-y-3 rounded-lg bg-zinc-900 p-4 shadow-lg"><div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Metrics:</span> <div class="flex flex-wrap gap-2"></div></div> <div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Date Range:</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <span class="text-zinc-500">to</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <!></div></div> <!></div> <!></div></div> <button class="fixed right-8 bottom-8 z-50 rounded-full bg-indigo-600 p-4 text-white shadow-lg transition-transform hover:scale-105 hover:bg-indigo-500" aria-label="Create New Entry"><!></button> <!>',1),Pu=Me('<div class="py-16 text-center"><h2 class="text-2xl font-semibold text-zinc-100">Welcome to CG Tracker</h2> <p class="mt-3 text-zinc-400">Please log in to view your progress and start tracking.</p></div>'),Yu=Me("<div><!></div>");function Ju(e,t){lt(t,!0);let n=Ge(null),r=Ge(!1),a=Ge(!0),i=Ge(Yr([])),o=le(()=>l(i).map(x=>({...x,created_at:new Date(x.created_at)})).sort((x,k)=>x.created_at.getTime()-k.created_at.getTime())),u=Yr({mood:{label:"Mood",color:"#8b5cf6",active:!0},energy:{label:"Energy",color:"#f97316",active:!0},physical:{label:"Physical",color:"#ef4444",active:!0},sleep:{label:"Sleep",color:"#3b82f6",active:!0},meals:{label:"Meals",color:"#22c55e",active:!0},weight:{label:"Weight",color:"#71717a",active:!1}}),s=Ge(""),f=Ge("");Ji(()=>{if(l(o).length>0&&!l(s)&&!l(f)){const x=l(o)[0].created_at,k=new Date,w=O=>{const _=O.getFullYear(),W=String(O.getMonth()+1).padStart(2,"0"),D=String(O.getDate()).padStart(2,"0");return`${_}-${W}-${D}`};de(s,w(x),!0),de(f,w(k),!0)}});let d=le(()=>{let x=l(o);if(l(s)){const[k,w,O]=l(s).split("-").map(Number),_=new Date(k,w-1,O);x=x.filter(W=>W.created_at>=_)}if(l(f)){const[k,w,O]=l(f).split("-").map(Number),_=new Date(k,w-1,O);_.setHours(23,59,59,999),x=x.filter(W=>W.created_at<=_)}return x}),h=le(()=>{const x=Object.keys(u).filter(w=>u[w].active);if(x.length===0)return[0,10];let k=0;for(const w of l(d))for(const O of x){const _=w[O];typeof _=="number"&&_>k&&(k=_)}return[0,k*1.1]});const p=ra("%m/%d");let N=Ge(!1),A=le(()=>{const x={exercise:{label:"Exercise",count:0,icon:"🏃"},ihana:{label:"Ihana",count:0,icon:"💜"},calvin_day:{label:"Calvin Day",count:0,icon:"✨"},sickness:{label:"Sick Days",count:0,icon:"🤒"},work:{label:"Work",count:0,icon:"💼"},study:{label:"Study",count:0,icon:"📚"},culture:{label:"Culture",count:0,icon:"🎭"},art:{label:"Art",count:0,icon:"🎨"},music:{label:"Music",count:0,icon:"🎵"},leisure:{label:"Leisure",count:0,icon:"🎮"},call_family:{label:"Family Calls",count:0,icon:"📞"}};let k=l(d);if(l(N)){const w=new Date,O=w.getMonth(),_=w.getFullYear();k=l(d).filter(W=>{const D=W.created_at;return D.getMonth()===O&&D.getFullYear()===_})}for(const w of k)w.exercise_type&&w.exercise_type.trim()&&x.exercise.count++,w.ihana===!0&&x.ihana.count++,w.calvin_day===!0&&x.calvin_day.count++,w.sickness===!0&&x.sickness.count++,w.work_type&&w.work_type.trim()&&x.work.count++,w.study_type&&w.study_type.trim()&&x.study.count++,w.culture_type&&w.culture_type.trim()&&x.culture.count++,w.art_type&&w.art_type.trim()&&x.art.count++,w.music_type&&w.music_type.trim()&&x.music.count++,w.leisure_type&&w.leisure_type.trim()&&x.leisure.count++,w.call_family===!0&&x.call_family.count++;return x});ai(()=>{_n.auth.getSession().then(({data:{session:k}})=>{de(n,k,!0),k?$():de(a,!1)});const{data:{subscription:x}}=_n.auth.onAuthStateChange((k,w)=>{de(n,w,!0),w?$():de(a,!1)});return()=>x.unsubscribe()});async function $(){de(a,!0);const{data:x,error:k}=await _n.from("dailyTracking").select("created_at, mood, energy, physical, sleep, meals, weight, exercise_type, ihana, calvin_day, sickness, work_type, study_type, culture_type, art_type, music_type, leisure_type, call_family").order("created_at",{ascending:!0});!k&&x?de(i,x,!0):k&&console.error("Error fetching data:",k),de(a,!1)}async function ce(x){const{error:k}=await _n.from("dailyTracking").insert(x);k?(console.error("Error saving entry:",k),Sa("Error saving entry: "+k.message,"Error")):(de(r,!1),Sa("Entry saved successfully!","Success"),$())}function ee(x){const k=x;u[k].active=!u[k].active}var E=Yu(),Q=G(E);{var Y=x=>{var k=Cu(),w=G(k);to(w,{class:"h-8 w-8 animate-spin text-indigo-500"}),P(k),q(x,k)},M=x=>{var k=Kt(),w=qe(k);{var O=W=>{var D=Hu(),S=qe(D),I=G(S),ue=G(I),X=J(G(ue),2),K=G(X),B=J(G(K),2);Ct(B,21,()=>Object.entries(u),Nn,(F,R)=>{var ie=le(()=>Rn(l(R),2));let y=()=>l(ie)[0],se=()=>l(ie)[1];var ye=zu();ye.__click=()=>ee(y());let Ze;var Pe=G(ye,!0);P(ye),xe(()=>{Ze=ut(ye,"",Ze,{"background-color":se().active?se().color+"20":"transparent","border-color":se().active?se().color:"#3f3f46",color:se().active?se().color:"#a1a1aa"}),Fe(Pe,se().label)}),q(F,ye)}),P(B),P(K);var me=J(K,2),be=J(G(me),2);Da(be);var ne=J(be,4);Da(ne);var Ae=J(ne,2);{var re=F=>{var R=Ru();R.__click=()=>{de(s,""),de(f,"")},q(F,R)};we(Ae,F=>{(l(s)||l(f))&&F(re)})}P(me),P(X);var fe=J(X,2);{var ge=F=>{var R=$u(),ie=G(R);{let y=le(Ps);ru(ie,{padding:{top:20,right:15,bottom:32,left:30},x:se=>se.created_at,get yDomain(){return l(h)},get data(){return l(d)},get xScale(){return l(y)},children:(se,ye)=>{var Ze=Uu(),Pe=qe(Ze);lu(Pe,{children:(Ce,Xe)=>{var Qe=Nu(),Le=qe(Qe);vu(Le,{gridlines:!1,ticks:5,get format(){return p},dy:12});var De=J(Le,2);Mu(De,{ticks:4,gridlines:!0});var Ye=J(De,2);Ct(Ye,17,()=>Object.entries(u),Nn,(it,Oe)=>{var ze=le(()=>Rn(l(Oe),2));let We=()=>l(ze)[0],Je=()=>l(ze)[1];var Ke=Kt(),ot=qe(Ke);{var ct=Ee=>{du(Ee,{get stroke(){return Je().color},get yAccessorKey(){return We()}})};we(ot,Ee=>{Je().active&&Ee(ct)})}q(it,Ke)}),q(Ce,Qe)},$$slots:{default:!0}});var At=J(Pe,2);iu(At,{children:(Ce,Xe)=>{{let Qe=le(()=>Object.fromEntries(Object.entries(u).filter(([Le,De])=>De.active).map(([Le,De])=>[Le,{text:De.label,color:De.color}])));Tu(Ce,{get labels(){return l(Qe)},get formatTitle(){return p}})}},$$slots:{default:!0}}),q(se,Ze)},$$slots:{default:!0}})}P(R),q(F,R)},ae=F=>{var R=Au();q(F,R)};we(fe,F=>{l(d).length>1?F(ge):F(ae,!1)})}P(ue);var Ve=J(ue,2);{var v=F=>{var R=Fu(),ie=G(R),y=J(G(ie),2);y.__click=()=>de(N,!l(N));var se=G(y,!0);P(y),P(ie);var ye=J(ie,2);Ct(ye,21,()=>Object.entries(l(A)),Nn,(Ze,Pe)=>{var At=le(()=>Rn(l(Pe),2));let Ce=()=>l(At)[1];var Xe=Lu(),Qe=G(Xe),Le=G(Qe),De=G(Le,!0);P(Le);var Ye=J(Le,2),it=G(Ye),Oe=G(it,!0);P(it),P(Ye);var ze=J(Ye,2),We=G(ze,!0);P(ze),P(Qe),P(Xe),xe(()=>{Fe(De,Ce().icon),Fe(Oe,Ce().label),Fe(We,Ce().count)}),q(Ze,Xe)}),P(ye),P(R),xe(()=>{An(y,1,`flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium transition-colors ${l(N)?"bg-indigo-500/20 text-indigo-400":"bg-zinc-700 text-zinc-400 hover:bg-zinc-600"}`),Fe(se,l(N)?"This Month":"All Time")}),q(F,R)};we(Ve,F=>{l(d).length>0&&F(v)})}P(I),P(S);var z=J(S,2);z.__click=()=>de(r,!0);var L=G(z);no(L,{class:"h-6 w-6"}),P(z);var g=J(z,2);ro(g,{get isOpen(){return l(r)},entry:null,onClose:()=>de(r,!1),onSave:ce}),Ta(be,()=>l(s),F=>de(s,F)),Ta(ne,()=>l(f),F=>de(f,F)),q(W,D)},_=W=>{var D=Pu();q(W,D)};we(w,W=>{l(n)?W(O):W(_,!1)},!0)}q(x,k)};we(Q,x=>{l(a)&&l(n)!==null?x(Y):x(M,!1)})}P(E),q(e,E),ft()}oi(["click"]);export{Ju as component};
