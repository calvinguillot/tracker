import{c as ge,a as v,f as p}from"../chunks/BqEl5C80.js";import{f as O,p as tt,s as R,c as rt,d as _t,g as x,a as at,h as o,i as r,j as i,t as y,k as e,l as mt,n as xt,o as ht,m as Ze,v as ce}from"../chunks/DVg-wcBP.js";import{d as ot,s as j,e as zt}from"../chunks/Bj2CMk_O.js";import{l as st,s as it,i as h}from"../chunks/C66CeOwb.js";import{I as nt,s as lt,r as Qe,e as be,i as fe,a as ue,b as Ae,c as et,g as A,d as kt,f as de,h as yt,j as wt,m as Ct}from"../chunks/DZ1IOtyI.js";import{s as ve}from"../chunks/Bkout0r_.js";import{b as Be,P as ct,L as Tt}from"../chunks/CX2Dg3vE.js";import{A as dt,a as vt}from"../chunks/DEyrxmCn.js";import{T as St}from"../chunks/BWQHzTPj.js";import{S as Dt}from"../chunks/BhKNGBf3.js";import"../chunks/DyB6Jsl2.js";function At(X,u){const t=st(u,["children","$$slots","$$events","$$legacy"]);const E=[["path",{d:"M13 5h8"}],["path",{d:"M13 12h8"}],["path",{d:"M13 19h8"}],["path",{d:"m3 17 2 2 4-4"}],["path",{d:"m3 7 2 2 4-4"}]];nt(X,it({name:"list-checks"},()=>t,{get iconNode(){return E},children:(I,M)=>{var C=ge(),k=O(C);lt(k,u,"default",{}),v(I,C)},$$slots:{default:!0}}))}function jt(X,u){const t=st(u,["children","$$slots","$$events","$$legacy"]);const E=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];nt(X,it({name:"square"},()=>t,{get iconNode(){return E},children:(I,M)=>{var C=ge(),k=O(C);lt(k,u,"default",{}),v(I,C)},$$slots:{default:!0}}))}var Et=p("<option> </option>"),It=p("<div></div>"),Mt=p("<option> </option>"),Lt=p('<button type="button" class="text-xs transition-colors hover:brightness-125">+ Create Checklist</button>'),Nt=p('<div class="flex items-center gap-2"><button type="button" class="text-zinc-400 hover:text-zinc-200"><!></button> <input type="text" placeholder="Checklist item..."/> <div class="flex items-center gap-1"><button type="button" class="p-1 text-zinc-500 hover:text-zinc-300 disabled:opacity-30"><!></button> <button type="button" class="p-1 text-zinc-500 hover:text-zinc-300 disabled:opacity-30"><!></button> <button type="button" class="p-1 text-red-500 hover:text-red-400"><!></button></div></div>'),Bt=p('<div class="space-y-2"><!> <button type="button" class="mt-2 flex items-center gap-1 text-sm text-zinc-400 hover:text-zinc-200"><!> Add Item</button></div>'),Ot=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-2 backdrop-blur-sm md:p-4" role="dialog" aria-modal="true" tabindex="-1"><div class="flex max-h-[95vh] w-full max-w-2xl flex-col overflow-y-auto rounded-xl border border-zinc-800 bg-zinc-900 shadow-xl md:max-h-[90vh]"><div class="sticky top-0 z-10 flex items-center justify-between border-b border-zinc-800 bg-zinc-900 p-4 md:p-6"><h2 class="text-xl font-bold text-zinc-100"> </h2> <button class="text-zinc-400 transition-colors hover:text-zinc-200" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="space-y-6 p-4 md:p-6"><div><label for="title" class="mb-1 block text-sm font-medium text-zinc-400">Title</label> <input type="text" id="title" required class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"/></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2"><div><label for="type" class="mb-1 block text-sm font-medium text-zinc-400">Type</label> <div class="flex items-center gap-2"><select id="type" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"><option>Select Type</option><!></select> <!></div></div> <div><label for="status" class="mb-1 block text-sm font-medium text-zinc-400">Status</label> <select id="status" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></select></div></div> <div><label for="body" class="mb-1 block text-sm font-medium text-zinc-400">Description</label> <textarea id="body" rows="3" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></textarea></div> <div><div class="mb-2 flex items-center justify-between"><span class="block text-sm font-medium text-zinc-400">Checklist</span> <!></div> <!></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2"><div><label for="deadline_at" class="mb-1 block text-sm font-medium text-zinc-400">Deadline</label> <input type="date" id="deadline_at" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"/></div></div> <div class="sticky bottom-0 mt-6 flex justify-end gap-3 border-t border-zinc-800 bg-zinc-900 pt-4"><button type="button" class="rounded-md bg-zinc-800 px-3.5 py-2.5 text-sm font-semibold text-zinc-200 shadow-sm ring-1 ring-zinc-700 ring-inset hover:bg-zinc-700">Cancel</button> <button type="submit" class="rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:brightness-110 focus-visible:outline-2 focus-visible:outline-offset-2">Save</button></div></form></div></div>');function qt(X,u){tt(u,!0);let t=R(rt({title:"",type:"",status:"todo",body:"",deadline_at:"",completed_at:null,color:"#000000",checklist:null}));const E=[{value:"todo",label:"To Do"},{value:"in_progress",label:"In Progress"},{value:"done",label:"Done"}];_t(()=>{u.isOpen&&(u.entry?x(t,{title:u.entry.title||"",type:u.entry.type||"",status:u.entry.status||"todo",body:u.entry.body||"",deadline_at:u.entry.deadline_at||"",completed_at:u.entry.completed_at||null,color:u.entry.color||"#000000",checklist:u.entry.checklist||null},!0):x(t,{title:"",type:"",status:"todo",body:"",deadline_at:"",completed_at:null,color:"#000000",checklist:null},!0))});function I(g){g.preventDefault(),e(t).status==="done"?e(t).completed_at||(e(t).completed_at=new Date().toISOString()):e(t).completed_at=null;const S={...e(t),deadline_at:e(t).deadline_at||null};u.onSave(S)}function M(g){g.target===g.currentTarget&&u.onClose()}function C(g){g.key==="Escape"&&u.onClose()}function k(){e(t).checklist=[]}function Y(){e(t).checklist||(e(t).checklist=[]),e(t).checklist=[...e(t).checklist,{text:"",completed:!1}]}function je(g){e(t).checklist&&(e(t).checklist=e(t).checklist.filter((S,q)=>q!==g),e(t).checklist.length===0&&(e(t).checklist=null))}function Oe(g){e(t).checklist&&(e(t).checklist[g].completed=!e(t).checklist[g].completed)}function pe(g,S){if(!e(t).checklist)return;const q=S==="up"?g-1:g+1;if(q<0||q>=e(t).checklist.length)return;const V=e(t).checklist[g],F=[...e(t).checklist];F.splice(g,1),F.splice(q,0,V),e(t).checklist=F}function qe(){if(e(t).type){const g=ue.getTaskType(e(t).type);g&&g.color&&(e(t).color=g.color)}}var Ee=ge(),Z=O(Ee);{var He=g=>{var S=Ot();S.__click=M,S.__keydown=C;var q=o(S),V=o(q),F=o(V),Pe=o(F,!0);r(F);var Ie=i(F,2);Ie.__click=function(...l){u.onClose?.apply(this,l)},r(V);var ae=i(V,2),oe=o(ae),se=i(o(oe),2);Qe(se),r(oe);var _e=i(oe,2),me=o(_e),Me=i(o(me),2),ee=o(Me);ee.__change=qe;var xe=o(ee);xe.value=xe.__value="";var s=i(xe);be(s,17,()=>ue.settings.task_types,fe,(l,c)=>{var a=Et(),d=o(a,!0);r(a);var z={};y(()=>{j(d,e(c).label),z!==(z=e(c).id)&&(a.value=(a.__value=e(c).id)??"")}),v(l,a)}),r(ee);var n=i(ee,2);{var b=l=>{var c=It();let a;y(d=>{a=A(c,1,"h-8 w-8 shrink-0 rounded-full border border-zinc-600 shadow-sm",null,a,{"bg-zinc-500":e(t).color==="bg-zinc-500","bg-red-600":e(t).color==="bg-red-600","bg-orange-600":e(t).color==="bg-orange-600","bg-amber-500":e(t).color==="bg-amber-500","bg-green-600":e(t).color==="bg-green-600","bg-emerald-500":e(t).color==="bg-emerald-500","bg-teal-500":e(t).color==="bg-teal-500","bg-cyan-500":e(t).color==="bg-cyan-500","bg-blue-600":e(t).color==="bg-blue-600","bg-indigo-600":e(t).color==="bg-indigo-600","bg-violet-600":e(t).color==="bg-violet-600","bg-purple-600":e(t).color==="bg-purple-600","bg-fuchsia-600":e(t).color==="bg-fuchsia-600","bg-pink-600":e(t).color==="bg-pink-600","bg-rose-600":e(t).color==="bg-rose-600"}),Ae(c,d)},[()=>e(t).color.startsWith("#")?`background-color: ${e(t).color}`:""]),v(l,c)};h(n,l=>{e(t).color&&l(b)})}r(Me),r(me);var _=i(me,2),L=i(o(_),2);be(L,21,()=>E,fe,(l,c)=>{var a=Mt(),d=o(a,!0);r(a);var z={};y(()=>{j(d,e(c).label),z!==(z=e(c).value)&&(a.value=(a.__value=e(c).value)??"")}),v(l,a)}),r(L),r(_),r(_e);var H=i(_e,2),te=i(o(H),2);mt(te),r(H);var he=i(H,2),ze=o(he),$e=i(o(ze),2);{var G=l=>{var c=Lt();c.__click=k,y(a=>Ae(c,`color: ${a??""}`),[()=>ue.getAccentLightHex()]),v(l,c)};h($e,l=>{e(t).checklist||l(G)})}r(ze);var ie=i(ze,2);{var Le=l=>{var c=Bt(),a=o(c);be(a,17,()=>e(t).checklist,fe,(P,U,D)=>{var $=Nt(),N=o($);N.__click=()=>Oe(D);var le=o(N);{var we=B=>{Dt(B,{class:"h-5 w-5 text-emerald-500"})},J=B=>{jt(B,{class:"h-5 w-5"})};h(le,B=>{e(U).completed?B(we):B(J,!1)})}r(N);var T=i(N,2);Qe(T);var Ce=i(T,2),W=o(Ce);W.__click=()=>pe(D,"up"),W.disabled=D===0;var Fe=o(W);dt(Fe,{class:"h-4 w-4"}),r(W);var Q=i(W,2);Q.__click=()=>pe(D,"down");var Ue=o(Q);vt(Ue,{class:"h-4 w-4"}),r(Q);var Te=i(Q,2);Te.__click=()=>je(D);var Ke=o(Te);St(Ke,{class:"h-4 w-4"}),r(Te),r(Ce),r($),y(()=>{A(T,1,`w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 ${e(U).completed?"text-zinc-500 line-through":""}`),Q.disabled=D===(e(t).checklist?.length??0)-1}),Be(T,()=>e(U).text,B=>e(U).text=B),v(P,$)});var d=i(a,2);d.__click=Y;var z=o(d);ct(z,{class:"h-4 w-4"}),xt(),r(d),r(c),v(l,c)};h(ie,l=>{e(t).checklist&&l(Le)})}r(he);var re=i(he,2),ke=o(re),ye=i(o(ke),2);Qe(ye),r(ke),r(re);var Ne=i(re,2),ne=o(Ne);ne.__click=function(...l){u.onClose?.apply(this,l)};var We=i(ne,2);r(Ne),r(ae),r(q),r(S),y(l=>{j(Pe,u.entry?"Edit Task":"New Task"),Ae(We,`background-color: ${l??""}`)},[()=>ue.getAccentHex()]),zt("submit",ae,I),Be(se,()=>e(t).title,l=>e(t).title=l),et(ee,()=>e(t).type,l=>e(t).type=l),et(L,()=>e(t).status,l=>e(t).status=l),Be(te,()=>e(t).body,l=>e(t).body=l),Be(ye,()=>e(t).deadline_at,l=>e(t).deadline_at=l),v(g,S)};h(Z,g=>{u.isOpen&&g(He)})}v(X,Ee),at()}ot(["click","keydown","change"]);var Ht=p('<button class="fixed right-8 bottom-8 z-50 rounded-full p-4 text-white shadow-lg transition-all hover:scale-105 hover:brightness-110" aria-label="New Task"><!></button>'),Pt=p('<div class="flex h-48 items-center justify-center"><!></div>'),$t=p('<div class="rounded-lg border border-zinc-800 bg-zinc-900/60 p-6 text-zinc-400">Sign in to view tasks.</div>'),Wt=p('<div class="rounded-lg border border-zinc-800 bg-zinc-900/60 p-6 text-zinc-400">No tasks yet.</div>'),Ft=p('<div title="Task Color"></div>'),Ut=p('<span class="text-zinc-500">•</span> <span> </span>',1),Kt=p('<span class="text-zinc-500">•</span> <!> <span> </span>',1),Vt=p("<p> </p>"),Gt=p('<div class="flex flex-col gap-0.5"><span class="text-[10px] font-bold tracking-wider text-zinc-500 uppercase">Completed</span> <span> </span></div>'),Jt=p('<li><div class="flex flex-col gap-3"><div class="flex items-start justify-between gap-3"><div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-2"><!> <h3> </h3></div> <div class="mt-1 flex items-center gap-2 text-xs"><div> </div> <!> <!></div></div></div> <!> <div class="mt-2 flex items-center justify-between gap-4 border-t border-zinc-800/50 pt-3"><div class="flex gap-4"><div class="flex flex-col gap-0.5"><span class="text-[10px] font-bold tracking-wider text-zinc-500 uppercase">Deadline</span> <span> </span></div> <!></div> <div class="flex items-center gap-2"><button class="rounded-md p-2 text-indigo-400 transition-colors hover:bg-zinc-800 hover:text-indigo-300" aria-label="Edit"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button class="rounded-md p-2 text-red-400 transition-colors hover:bg-zinc-800 hover:text-red-300" aria-label="Delete"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></li>'),Qt=p('<button><span class="capitalize"> </span> <!></button>'),Rt=p('<div class="my-8 flex items-center gap-4"><div class="h-px flex-1 bg-zinc-800"></div> <span class="text-sm font-medium tracking-wider text-zinc-500 uppercase">Archived</span> <div class="h-px flex-1 bg-zinc-800"></div></div> <ul class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"></ul>',1),Xt=p('<div class="mb-4 flex flex-wrap items-center gap-4 text-sm"><span class="text-zinc-500">Sort by:</span> <!> <span class="ml-auto text-xs text-zinc-500"> </span></div> <ul class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"></ul> <!>',1),Yt=p('<!> <section class="space-y-6"><div class="flex flex-wrap items-center justify-between gap-4"><h2 class="text-lg font-bold text-zinc-100">Tasks</h2> <!></div> <!></section>',1);function dr(X,u){tt(u,!0);let t=R(null),E=R(!0),I=R(rt([])),M=R(!1),C=R(null),k=R("deadline"),Y=R("asc"),je=ce(()=>[...e(I)].sort((s,n)=>{const b=e(Y)==="asc"?1:-1;if(e(k)==="title")return(s.title||"").localeCompare(n.title||"")*b;if(e(k)==="deadline"){const _=s.deadline_at?new Date(s.deadline_at).getTime():b===1?1/0:-1/0,L=n.deadline_at?new Date(n.deadline_at).getTime():b===1?1/0:-1/0;return(_-L)*b}else if(e(k)==="completed"){const _=s.completed_at?new Date(s.completed_at).getTime():0,L=n.completed_at?new Date(n.completed_at).getTime():0;return(_-L)*b}else if(e(k)==="created"){const _=new Date(s.created_at).getTime(),L=new Date(n.created_at).getTime();return(_-L)*b}else if(e(k)==="status")return(s.status||"").localeCompare(n.status||"")*b;return 0})),Oe=ce(()=>e(je).filter(s=>s.status!=="done")),pe=ce(()=>e(je).filter(s=>s.status==="done")),qe=ce(()=>e(I).filter(s=>s.status==="done").length);function Ee(s){e(k)===s?x(Y,e(Y)==="asc"?"desc":"asc",!0):(x(k,s,!0),x(Y,"asc"))}ht(()=>{ve.auth.getSession().then(({data:{session:n}})=>{x(t,n,!0),n?Z():x(E,!1)});const{data:{subscription:s}}=ve.auth.onAuthStateChange((n,b)=>{x(t,b,!0),b?Z():x(E,!1)});return()=>s.unsubscribe()});async function Z(){x(E,!0),console.log("Fetching tasks...");const{data:s,error:n}=await ve.from("tasks").select("*").order("deadline_at",{ascending:!0});!n&&s?x(I,s,!0):n&&console.error("Error fetching tasks:",n),x(E,!1)}function He(){x(C,null),x(M,!0)}function g(s){x(C,s,!0),x(M,!0)}async function S(s){if(!await wt("Are you sure you want to delete this task?","Delete Task",{confirmText:"Delete",isDestructive:!0}))return;const{error:b}=await ve.from("tasks").delete().eq("id",s);b?(console.error("Error deleting task:",b),de("Error deleting: "+b.message,"Error")):(de("Task deleted successfully!","Success"),Z())}async function q(s){const{id:n,...b}=s;if(e(C)){const{error:_}=await ve.from("tasks").update(b).eq("id",e(C).id);_?(console.error("Error updating task:",_),de("Error updating: "+_.message,"Error")):(de("Task updated successfully!","Success"),x(M,!1),Z())}else{const{error:_}=await ve.from("tasks").insert(b);_?(console.error("Error saving task:",_),de("Error saving: "+_.message,"Error")):(de("Task saved successfully!","Success"),x(M,!1),Z())}}const V=s=>s?new Date(s).toLocaleDateString():"—";function F(s){switch(s){case"todo":return{bg:"bg-zinc-500/10",text:"text-zinc-400",border:"border-zinc-500/20"};case"in_progress":return{bg:"bg-indigo-500/10",text:"text-indigo-400",border:"border-indigo-500/20"};case"done":return{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20"};case"archived":return{bg:"bg-zinc-800",text:"text-zinc-500",border:"border-zinc-700"};default:return{bg:"bg-zinc-500/10",text:"text-zinc-400",border:"border-zinc-500/20"}}}function Pe(s){return s?s.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "):"Unknown"}var Ie=Yt(),ae=O(Ie);qt(ae,{get isOpen(){return e(M)},get entry(){return e(C)},onClose:()=>x(M,!1),onSave:q});var oe=i(ae,2),se=o(oe),_e=i(o(se),2);{var me=s=>{var n=Ht();n.__click=He;var b=o(n);ct(b,{class:"h-6 w-6"}),r(n),y(_=>Ae(n,`background-color: ${_??""}`),[()=>ue.getAccentHex()]),v(s,n)};h(_e,s=>{e(t)&&!e(M)&&!kt.isOpen&&s(me)})}r(se);var Me=i(se,2);{var ee=s=>{var n=Pt(),b=o(n);Tt(b,{class:"h-6 w-6 animate-spin text-indigo-400"}),r(n),v(s,n)},xe=s=>{var n=ge(),b=O(n);{var _=H=>{var te=$t();v(H,te)},L=H=>{var te=ge(),he=O(te);{var ze=G=>{var ie=Wt();v(G,ie)},$e=G=>{var ie=Xt();const Le=(c,a=Ze,d=Ze)=>{const z=ce(()=>F(a().status));var P=Jt(),U=o(P),D=o(U),$=o(D),N=o($),le=o(N);{var we=f=>{var m=Ft();y((w,K)=>{A(m,1,w),Ae(m,K)},[()=>`h-3 w-3 rounded-full ${d()?"opacity-50":""} ${a().color.startsWith("bg-")?a().color:""}`,()=>a().color.startsWith("bg-")?"":`background-color: ${a().color}`]),v(f,m)};h(le,f=>{a().color&&f(we)})}var J=i(le,2),T=o(J,!0);r(J),r(N);var Ce=i(N,2),W=o(Ce),Fe=o(W,!0);r(W);var Q=i(W,2);{var Ue=f=>{var m=Ut(),w=i(O(m),2),K=o(w,!0);r(w),y(Se=>{A(w,1,Ct(d()?"text-zinc-600":"text-zinc-400")),j(K,Se)},[()=>ue.getTaskType(a().type)?.label??a().type]),v(f,m)};h(Q,f=>{a().type&&f(Ue)})}var Te=i(Q,2);{var Ke=f=>{var m=Kt(),w=i(O(m),2);{let De=ce(()=>`h-4 w-4 ${d()?"text-zinc-600":"text-zinc-400"}`);At(w,{get class(){return e(De)}})}var K=i(w,2),Se=o(K);r(K),y(De=>{A(K,1,`text-xs ${d()?"text-zinc-600":"text-zinc-500"}`),j(Se,`${De??""}/${a().checklist.length??""}`)},[()=>a().checklist.filter(De=>De.completed).length]),v(f,m)};h(Te,f=>{a().checklist&&a().checklist.length>0&&f(Ke)})}r(Ce),r($),r(D);var B=i(D,2);{var ut=f=>{var m=Vt(),w=o(m,!0);r(m),y(()=>{A(m,1,`line-clamp-3 text-sm ${d()?"text-zinc-600":"text-zinc-400"}`),j(w,a().body)}),v(f,m)};h(B,f=>{a().body&&f(ut)})}var Re=i(B,2),Ve=o(Re),Ge=o(Ve),Je=i(o(Ge),2),gt=o(Je,!0);r(Je),r(Ge);var bt=i(Ge,2);{var ft=f=>{var m=Gt(),w=i(o(m),2),K=o(w,!0);r(w),r(m),y(Se=>{A(w,1,`text-xs ${d()?"text-zinc-500":"text-emerald-400"}`),j(K,Se)},[()=>V(a().completed_at)]),v(f,m)};h(bt,f=>{a().completed_at&&f(ft)})}r(Ve);var Xe=i(Ve,2),Ye=o(Xe);Ye.__click=()=>g(a());var pt=i(Ye,2);pt.__click=()=>S(a().id),r(Xe),r(Re),r(U),r(P),y((f,m)=>{A(P,1,`group relative flex flex-col justify-between rounded-lg border p-4 transition-all ${d()?"border-zinc-800/60 bg-zinc-900/30 text-zinc-500 hover:border-zinc-700/60 hover:bg-zinc-900/40":"border-zinc-800 bg-zinc-900/60 hover:border-zinc-700 hover:bg-zinc-900/80"}`),A(J,1,`truncate text-base font-bold ${d()?"text-zinc-500":"text-zinc-100"}`),yt(J,"title",a().title),j(T,a().title),A(W,1,`shrink-0 rounded-full px-2 py-0.5 font-medium ${e(z).bg} ${e(z).text}`),j(Fe,f),A(Je,1,`text-xs ${d()?"text-zinc-500":"text-zinc-300"}`),j(gt,m)},[()=>Pe(a().status),()=>V(a().deadline_at)]),v(c,P)};var re=O(ie),ke=i(o(re),2);be(ke,16,()=>["title","deadline","created","status","completed"],fe,(c,a)=>{var d=Qt();d.__click=()=>Ee(a);var z=o(d),P=o(z,!0);r(z);var U=i(z,2);{var D=$=>{var N=ge(),le=O(N);{var we=T=>{dt(T,{class:"h-3 w-3"})},J=T=>{vt(T,{class:"h-3 w-3"})};h(le,T=>{e(Y)==="asc"?T(we):T(J,!1)})}v($,N)};h(U,$=>{e(k)===a&&$(D)})}r(d),y(()=>{A(d,1,`flex items-center gap-1 rounded-md px-3 py-1.5 transition-colors ${e(k)===a?"bg-indigo-500/20 text-indigo-300":"bg-zinc-800/50 text-zinc-400 hover:bg-zinc-800"}`),j(P,a)}),v(c,d)});var ye=i(ke,2),Ne=o(ye);r(ye),r(re);var ne=i(re,2);be(ne,21,()=>e(Oe),fe,(c,a)=>{Le(c,()=>e(a),()=>!1)}),r(ne);var We=i(ne,2);{var l=c=>{var a=Rt(),d=i(O(a),2);be(d,21,()=>e(pe),fe,(z,P)=>{Le(z,()=>e(P),()=>!0)}),r(d),v(c,a)};h(We,c=>{e(pe).length>0&&c(l)})}y(()=>j(Ne,`Completed ${e(qe)??""} / ${e(I).length??""}`)),v(G,ie)};h(he,G=>{e(I).length===0?G(ze):G($e,!1)},!0)}v(H,te)};h(b,H=>{e(t)?H(L,!1):H(_)},!0)}v(s,n)};h(Me,s=>{e(E)&&e(t)!==null?s(ee):s(xe,!1)})}r(oe),v(X,Ie),at()}ot(["click"]);export{dr as component};
