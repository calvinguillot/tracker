import{c as sn,a as H,f as _e,d as Re}from"../chunks/o5v50Yvo.js";import{e as Vi,u as Zi,p as gt,o as ai,bb as P,k as u,Y as ka,bc as ne,bd as Xi,be as S,bf as Qi,g as et,a as ht,h as N,i as C,t as xe,f as re,z as D,bg as je,bh as Ot,X as ii,m as le,j as I,s as Ue,c as Yr,ba as Fn,d as Ji}from"../chunks/5_FoE8hS.js";import{s as $e,d as oi,e as Ki}from"../chunks/vZxgl7By.js";import{p as m,i as pe,a as wt,b,c as E}from"../chunks/CRVHY2kJ.js";import{g as eo,h as dt,s as U,e as Lt,d as jn,i as Hn,r as Da,a as to,c as Sa}from"../chunks/BJLCFyu5.js";import{L as no,b as Ta,P as ro}from"../chunks/CcyWMRgG.js";import{s as Ut}from"../chunks/Bkout0r_.js";import{E as ao}from"../chunks/BZdWFnwL.js";import{i as io}from"../chunks/D6_EmqJP.js";import{b as Gr}from"../chunks/Ci--bUff.js";import{s as Yn}from"../chunks/BkDoV1FM.js";class qr{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var a=this.#e.get(t);a.delete(n),a.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){qr.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var oo=new qr({box:"border-box"});function Ca(e,t,n){var r=oo.observe(e,()=>n(e[t]));Vi(()=>(Zi(()=>n(e[t])),r))}function co(e){return e===0?!0:e}function ft(e){return co(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function so(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}const uo=(e,t=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(void 0,r)},t)}};function cn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Kn(e){let t,n,r;e.length!==2?(t=cn,n=(c,l)=>cn(e(c),l),r=(c,l)=>e(c)-l):(t=e===cn||e===lo?e:fo,n=e,r=e);function a(c,l,s=0,y=c.length){if(s<y){if(t(l,l)!==0)return y;do{const d=s+y>>>1;n(c[d],l)<0?s=d+1:y=d}while(s<y)}return s}function i(c,l,s=0,y=c.length){if(s<y){if(t(l,l)!==0)return y;do{const d=s+y>>>1;n(c[d],l)<=0?s=d+1:y=d}while(s<y)}return s}function o(c,l,s=0,y=c.length){const d=a(c,l,s,y-1);return d>s&&r(c[d-1],l)>-r(c[d],l)?d-1:d}return{left:a,center:o,right:i}}function fo(){return 0}function go(e){return e===null?NaN:+e}const ho=Kn(cn),mo=ho.right;Kn(go).center;class yo extends Set{constructor(t,n=po){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(xo(this,t))}add(t){return super.add(vo(this,t))}delete(t){return super.delete(bo(this,t))}}function xo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function bo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function po(e){return e!==null&&typeof e=="object"?e.valueOf():e}const _o=Math.sqrt(50),wo=Math.sqrt(10),Mo=Math.sqrt(2);function En(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=_o?10:i>=wo?5:i>=Mo?2:1;let c,l,s;return a<0?(s=Math.pow(10,-a)/o,c=Math.round(e*s),l=Math.round(t*s),c/s<e&&++c,l/s>t&&--l,s=-s):(s=Math.pow(10,a)*o,c=Math.round(e/s),l=Math.round(t/s),c*s<e&&++c,l*s>t&&--l),l<c&&.5<=n&&n<2?En(e,t,n*2):[c,l,s]}function ko(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?En(t,e,n):En(e,t,n);if(!(i>=a))return[];const c=i-a+1,l=new Array(c);if(r)if(o<0)for(let s=0;s<c;++s)l[s]=(i-s)/-o;else for(let s=0;s<c;++s)l[s]=(i-s)*o;else if(o<0)for(let s=0;s<c;++s)l[s]=(a+s)/-o;else for(let s=0;s<c;++s)l[s]=(a+s)*o;return l}function Or(e,t,n){return t=+t,e=+e,n=+n,En(e,t,n)[2]}function jr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Or(t,e,n):Or(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Do(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(t),i=a.length;let o,c,l,s,y,d,g;const _=e.length;for(o=0;o<i;o+=1){for(g=new yo,s=a[o],y=t[s],c=0;c<_;c+=1)if(d=y(e[c]),Array.isArray(d)){const $=d.length;for(l=0;l<$;l+=1)g.add(d[l])}else g.add(d);const T=Array.from(g);(n.sort===!0||n[s]===!0)&&T.sort(cn),r[s]=T}return r}function So(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,c,l,s,y,d,g;const _=e.length;for(i=0;i<a;i+=1){for(l=r[i],d=t[l],s=null,y=null,o=0;o<_;o+=1)if(g=d(e[o],o),Array.isArray(g)){const T=g.length;for(c=0;c<T;c+=1)g[c]!==!1&&g[c]!==void 0&&g[c]!==null&&Number.isNaN(g[c])===!1&&((s===null||g[c]<s)&&(s=g[c]),(y===null||g[c]>y)&&(y=g[c]))}else g!==!1&&g!==void 0&&g!==null&&Number.isNaN(g)===!1&&((s===null||g<s)&&(s=g),(y===null||g>y)&&(y=g));n[l]=[s,y]}return n}function an(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function ci(e){return!!(typeof e.bandwidth=="function"||an(Object.keys(e),["domain","range","unknown","copy"]))}function To(e,t,n){const r=Object.entries(n).reduce((i,[o,c])=>{const l=ci(c.scale)===!0?"ordinal":"other";return i[l]||(i[l]={}),i[l][o]=t[o],i},{ordinal:!1,other:!1});let a={};if(r.ordinal){const i=Object.fromEntries(Object.entries(n).map(([o,c])=>[o,c.sort]));a=Do(e,r.ordinal,i)}return r.other&&(a={...a,...So(e,r.other)}),a}function Co(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function Cn(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?Co(n[e],r):r}}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function si(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dn(){}var un=.7,Wn=1/un,Pt="\\s*([+-]?\\d+)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zo=/^#([0-9a-f]{3,8})$/,Ro=new RegExp(`^rgb\\(${Pt},${Pt},${Pt}\\)$`),No=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Uo=new RegExp(`^rgba\\(${Pt},${Pt},${Pt},${ln}\\)$`),$o=new RegExp(`^rgba\\(${nt},${nt},${nt},${ln}\\)$`),Ao=new RegExp(`^hsl\\(${ln},${nt},${nt}\\)$`),Lo=new RegExp(`^hsla\\(${ln},${nt},${nt},${ln}\\)$`),za={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br(dn,fn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ra,formatHex:Ra,formatHex8:Po,formatHsl:Fo,formatRgb:Na,toString:Na});function Ra(){return this.rgb().formatHex()}function Po(){return this.rgb().formatHex8()}function Fo(){return ui(this).formatHsl()}function Na(){return this.rgb().formatRgb()}function fn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ua(t):n===3?new ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?zn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?zn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ro.exec(e))?new ze(t[1],t[2],t[3],1):(t=No.exec(e))?new ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Uo.exec(e))?zn(t[1],t[2],t[3],t[4]):(t=$o.exec(e))?zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ao.exec(e))?La(t[1],t[2]/100,t[3]/100,1):(t=Lo.exec(e))?La(t[1],t[2]/100,t[3]/100,t[4]):za.hasOwnProperty(e)?Ua(za[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function Ua(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function zn(e,t,n,r){return r<=0&&(e=t=n=NaN),new ze(e,t,n,r)}function Ho(e){return e instanceof dn||(e=fn(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function Gn(e,t,n,r){return arguments.length===1?Ho(e):new ze(e,t,n,r??1)}function ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Br(ze,Gn,si(dn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?un:Math.pow(un,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(pt(this.r),pt(this.g),pt(this.b),qn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$a,formatHex:$a,formatHex8:Yo,formatRgb:Aa,toString:Aa}));function $a(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}`}function Yo(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}${bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Aa(){const e=qn(this.opacity);return`${e===1?"rgb(":"rgba("}${pt(this.r)}, ${pt(this.g)}, ${pt(this.b)}${e===1?")":`, ${e})`}`}function qn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bt(e){return e=pt(e),(e<16?"0":"")+e.toString(16)}function La(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ve(e,t,n,r)}function ui(e){if(e instanceof Ve)return new Ve(e.h,e.s,e.l,e.opacity);if(e instanceof dn||(e=fn(e)),!e)return new Ve;if(e instanceof Ve)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,c=i-a,l=(i+a)/2;return c?(t===i?o=(n-r)/c+(n<r)*6:n===i?o=(r-t)/c+2:o=(t-n)/c+4,c/=l<.5?i+a:2-i-a,o*=60):c=l>0&&l<1?0:o,new Ve(o,c,l,e.opacity)}function Oo(e,t,n,r){return arguments.length===1?ui(e):new Ve(e,t,n,r??1)}function Ve(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(Ve,Oo,si(dn,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Ve(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?un:Math.pow(un,e),new Ve(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ze(Ur(e>=240?e-240:e+120,a,r),Ur(e,a,r),Ur(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ve(Pa(this.h),Rn(this.s),Rn(this.l),qn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qn(this.opacity);return`${e===1?"hsl(":"hsla("}${Pa(this.h)}, ${Rn(this.s)*100}%, ${Rn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pa(e){return e=(e||0)%360,e<0?e+360:e}function Rn(e){return Math.max(0,Math.min(1,e||0))}function Ur(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vr=e=>()=>e;function jo(e,t){return function(n){return e+n*t}}function Eo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Wo(e){return(e=+e)==1?li:function(t,n){return n-t?Eo(t,n,e):Vr(isNaN(t)?n:t)}}function li(e,t){var n=t-e;return n?jo(e,n):Vr(isNaN(e)?t:e)}const Fa=(function e(t){var n=Wo(t);function r(a,i){var o=n((a=Gn(a)).r,(i=Gn(i)).r),c=n(a.g,i.g),l=n(a.b,i.b),s=li(a.opacity,i.opacity);return function(y){return a.r=o(y),a.g=c(y),a.b=l(y),a.opacity=s(y),a+""}}return r.gamma=e,r})(1);function Go(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function qo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Io(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Zr(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(c){for(o=0;o<r;++o)i[o]=a[o](c);return i}}function Bo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function In(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Vo(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zr(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Er=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$r=new RegExp(Er.source,"g");function Zo(e){return function(){return e}}function Xo(e){return function(t){return e(t)+""}}function Qo(e,t){var n=Er.lastIndex=$r.lastIndex=0,r,a,i,o=-1,c=[],l=[];for(e=e+"",t=t+"";(r=Er.exec(e))&&(a=$r.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,l.push({i:o,x:In(r,a)})),n=$r.lastIndex;return n<t.length&&(i=t.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?l[0]?Xo(l[0].x):Zo(t):(t=l.length,function(s){for(var y=0,d;y<t;++y)c[(d=l[y]).i]=d.x(s);return c.join("")})}function Zr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vr(t):(n==="number"?In:n==="string"?(r=fn(t))?(t=r,Fa):Qo:t instanceof fn?Fa:t instanceof Date?Bo:qo(t)?Go:Array.isArray(t)?Io:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vo:In)(e,t)}function Jo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ko(e){return function(){return e}}function ec(e){return+e}var Ha=[0,1];function tt(e){return e}function Wr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ko(isNaN(t)?NaN:.5)}function tc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nc(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Wr(a,r),i=n(o,i)):(r=Wr(r,a),i=n(i,o)),function(c){return i(r(c))}}function rc(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Wr(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(c){var l=mo(e,c,1,r)-1;return i[l](a[l](c))}}function Xr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fi(){var e=Ha,t=Ha,n=Zr,r,a,i,o=tt,c,l,s;function y(){var g=Math.min(e.length,t.length);return o!==tt&&(o=tc(e[0],e[g-1])),c=g>2?rc:nc,l=s=null,d}function d(g){return g==null||isNaN(g=+g)?i:(l||(l=c(e.map(r),t,n)))(r(o(g)))}return d.invert=function(g){return o(a((s||(s=c(t,e.map(r),In)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,ec),y()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),y()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=Jo,y()},d.clamp=function(g){return arguments.length?(o=g?!0:tt,y()):o!==tt},d.interpolate=function(g){return arguments.length?(n=g,y()):n},d.unknown=function(g){return arguments.length?(i=g,d):i},function(g,_){return r=g,a=_,y()}}function di(){return fi()(tt,tt)}function ac(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ft(e){return e=Bn(Math.abs(e)),e?e[1]:NaN}function ic(e,t){return function(n,r){for(var a=n.length,i=[],o=0,c=e[0],l=0;a>0&&c>0&&(l+c+1>r&&(c=Math.max(1,r-l)),i.push(n.substring(a-=c,a+c)),!((l+=c+1)>r));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function oc(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var cc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vn(e){if(!(t=cc.exec(e)))throw new Error("invalid format: "+e);var t;return new Qr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vn.prototype=Qr.prototype;function Qr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sc(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var gi;function uc(e,t){var n=Bn(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(gi=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Bn(e,Math.max(0,t+i-1))[0]}function Ya(e,t){var n=Bn(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Oa={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ac,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ya(e*100,t),r:Ya,s:uc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ja(e){return e}var Ea=Array.prototype.map,Wa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lc(e){var t=e.grouping===void 0||e.thousands===void 0?ja:ic(Ea.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ja:oc(Ea.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function s(d){d=Vn(d);var g=d.fill,_=d.align,T=d.sign,$=d.symbol,A=d.zero,Q=d.width,ee=d.comma,Y=d.precision,X=d.trim,F=d.type;F==="n"?(ee=!0,F="g"):Oa[F]||(Y===void 0&&(Y=12),X=!0,F="g"),(A||g==="0"&&_==="=")&&(A=!0,g="0",_="=");var k=$==="$"?n:$==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",q=$==="$"?r:/[%p]/.test(F)?o:"",de=Oa[F],fe=/[defgprs%]/.test(F);Y=Y===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,Y)):Math.max(0,Math.min(20,Y));function ce(f){var M=k,x=q,w,z,W;if(F==="c")x=de(f)+x,f="";else{f=+f;var O=f<0||1/f<0;if(f=isNaN(f)?l:de(Math.abs(f),Y),X&&(f=sc(f)),O&&+f==0&&T!=="+"&&(O=!1),M=(O?T==="("?T:c:T==="-"||T==="("?"":T)+M,x=(F==="s"?Wa[8+gi/3]:"")+x+(O&&T==="("?")":""),fe){for(w=-1,z=f.length;++w<z;)if(W=f.charCodeAt(w),48>W||W>57){x=(W===46?a+f.slice(w+1):f.slice(w))+x,f=f.slice(0,w);break}}}ee&&!A&&(f=t(f,1/0));var K=M.length+f.length+x.length,B=K<Q?new Array(Q-K+1).join(g):"";switch(ee&&A&&(f=t(B+f,B.length?Q-x.length:1/0),B=""),_){case"<":f=M+f+x+B;break;case"=":f=M+B+f+x;break;case"^":f=B.slice(0,K=B.length>>1)+M+f+x+B.slice(K);break;default:f=B+M+f+x;break}return i(f)}return ce.toString=function(){return d+""},ce}function y(d,g){var _=s((d=Vn(d),d.type="f",d)),T=Math.max(-8,Math.min(8,Math.floor(Ft(g)/3)))*3,$=Math.pow(10,-T),A=Wa[8+T/3];return function(Q){return _($*Q)+A}}return{format:s,formatPrefix:y}}var Nn,hi,mi;fc({thousands:",",grouping:[3],currency:["$",""]});function fc(e){return Nn=lc(e),hi=Nn.format,mi=Nn.formatPrefix,Nn}function dc(e){return Math.max(0,-Ft(Math.abs(e)))}function gc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ft(t)/3)))*3-Ft(Math.abs(e)))}function hc(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ft(t)-Ft(e))+1}function mc(e,t,n,r){var a=jr(e,t,n),i;switch(r=Vn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=gc(a,o))&&(r.precision=i),mi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=hc(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=dc(a))&&(r.precision=i-(r.type==="%")*2);break}}return hi(r)}function yi(e){var t=e.domain;return e.ticks=function(n){var r=t();return ko(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return mc(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],c=r[i],l,s,y=10;for(c<o&&(s=o,o=c,c=s,s=a,a=i,i=s);y-- >0;){if(s=Or(o,c,n),s===l)return r[a]=o,r[i]=c,t(r);if(s>0)o=Math.floor(o/s)*s,c=Math.ceil(c/s)*s;else if(s<0)o=Math.ceil(o*s)/s,c=Math.floor(c*s)/s;else break;l=s}return e},e}function On(){var e=di();return e.copy=function(){return Xr(e,On())},Ir.apply(e,arguments),yi(e)}function yc(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ga(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vc(e){return e<0?-e*e:e*e}function bc(e){var t=e(tt,tt),n=1;function r(){return n===1?e(tt,tt):n===.5?e(xc,vc):e(Ga(n),Ga(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},yi(t)}function xi(){var e=bc(fi());return e.copy=function(){return Xr(e,xi()).exponent(e.exponent())},Ir.apply(e,arguments),e}function pc(){return xi.apply(null,arguments).exponent(.5)}const Ar=new Date,Lr=new Date;function ve(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const l=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return l;let s;do l.push(s=new Date(+i)),t(i,c),e(i);while(s<i&&i<o);return l},a.filter=i=>ve(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Ar.setTime(+i),Lr.setTime(+o),e(Ar),e(Lr),Math.floor(n(Ar,Lr))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Zn=ve(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ve(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Zn);Zn.range;const ot=1e3,We=ot*60,ct=We*60,st=ct*24,Jr=st*7,qa=st*30,Pr=st*365,At=ve(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ot)},(e,t)=>(t-e)/ot,e=>e.getUTCSeconds());At.range;const Kr=ve(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ot)},(e,t)=>{e.setTime(+e+t*We)},(e,t)=>(t-e)/We,e=>e.getMinutes());Kr.range;const _c=ve(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*We)},(e,t)=>(t-e)/We,e=>e.getUTCMinutes());_c.range;const ea=ve(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ot-e.getMinutes()*We)},(e,t)=>{e.setTime(+e+t*ct)},(e,t)=>(t-e)/ct,e=>e.getHours());ea.range;const wc=ve(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ct)},(e,t)=>(t-e)/ct,e=>e.getUTCHours());wc.range;const gn=ve(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*We)/st,e=>e.getDate()-1);gn.range;const ta=ve(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/st,e=>e.getUTCDate()-1);ta.range;const Mc=ve(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/st,e=>Math.floor(e/st));Mc.range;function Mt(e){return ve(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*We)/Jr)}const er=Mt(0),Xn=Mt(1),kc=Mt(2),Dc=Mt(3),Ht=Mt(4),Sc=Mt(5),Tc=Mt(6);er.range;Xn.range;kc.range;Dc.range;Ht.range;Sc.range;Tc.range;function kt(e){return ve(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Jr)}const vi=kt(0),Qn=kt(1),Cc=kt(2),zc=kt(3),Yt=kt(4),Rc=kt(5),Nc=kt(6);vi.range;Qn.range;Cc.range;zc.range;Yt.range;Rc.range;Nc.range;const na=ve(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());na.range;const Uc=ve(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Uc.range;const ut=ve(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ut.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ve(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ut.range;const _t=ve(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_t.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ve(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});_t.range;function $c(e,t,n,r,a,i){const o=[[At,1,ot],[At,5,5*ot],[At,15,15*ot],[At,30,30*ot],[i,1,We],[i,5,5*We],[i,15,15*We],[i,30,30*We],[a,1,ct],[a,3,3*ct],[a,6,6*ct],[a,12,12*ct],[r,1,st],[r,2,2*st],[n,1,Jr],[t,1,qa],[t,3,3*qa],[e,1,Pr]];function c(s,y,d){const g=y<s;g&&([s,y]=[y,s]);const _=d&&typeof d.range=="function"?d:l(s,y,d),T=_?_.range(s,+y+1):[];return g?T.reverse():T}function l(s,y,d){const g=Math.abs(y-s)/d,_=Kn(([,,A])=>A).right(o,g);if(_===o.length)return e.every(jr(s/Pr,y/Pr,d));if(_===0)return Zn.every(Math.max(jr(s,y,d),1));const[T,$]=o[g/o[_-1][2]<o[_][2]/g?_-1:_];return T.every($)}return[c,l]}const[Ac,Lc]=$c(ut,na,er,gn,ea,Kr);function Fr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tn(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Pc(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,l=e.shortMonths,s=nn(a),y=rn(a),d=nn(i),g=rn(i),_=nn(o),T=rn(o),$=nn(c),A=rn(c),Q=nn(l),ee=rn(l),Y={a:O,A:K,b:B,B:he,c:null,d:Qa,e:Qa,f:is,g:ms,G:xs,H:ns,I:rs,j:as,L:bi,m:os,M:cs,p:be,q:ae,Q:ei,s:ti,S:ss,u:us,U:ls,V:fs,w:ds,W:gs,x:null,X:null,y:hs,Y:ys,Z:vs,"%":Ka},X={a:Ae,A:te,b:se,B:ue,c:null,d:Ja,e:Ja,f:ws,g:Us,G:As,H:bs,I:ps,j:_s,L:_i,m:Ms,M:ks,p:ie,q:rt,Q:ei,s:ti,S:Ds,u:Ss,U:Ts,V:Cs,w:zs,W:Rs,x:null,X:null,y:Ns,Y:$s,Z:Ls,"%":Ka},F={a:ce,A:f,b:M,B:x,c:w,d:Za,e:Za,f:Jc,g:Va,G:Ba,H:Xa,I:Xa,j:Vc,L:Qc,m:Bc,M:Zc,p:fe,q:Ic,Q:es,s:ts,S:Xc,u:jc,U:Ec,V:Wc,w:Oc,W:Gc,x:z,X:W,y:Va,Y:Ba,Z:qc,"%":Kc};Y.x=k(n,Y),Y.X=k(r,Y),Y.c=k(t,Y),X.x=k(n,X),X.X=k(r,X),X.c=k(t,X);function k(v,R){return function(L){var h=[],ge=-1,G=0,ye=v.length,p,j,J;for(L instanceof Date||(L=new Date(+L));++ge<ye;)v.charCodeAt(ge)===37&&(h.push(v.slice(G,ge)),(j=Ia[p=v.charAt(++ge)])!=null?p=v.charAt(++ge):j=p==="e"?" ":"0",(J=R[p])&&(p=J(L,j)),h.push(p),G=ge+1);return h.push(v.slice(G,ge)),h.join("")}}function q(v,R){return function(L){var h=tn(1900,void 0,1),ge=de(h,v,L+="",0),G,ye;if(ge!=L.length)return null;if("Q"in h)return new Date(h.Q);if("s"in h)return new Date(h.s*1e3+("L"in h?h.L:0));if(R&&!("Z"in h)&&(h.Z=0),"p"in h&&(h.H=h.H%12+h.p*12),h.m===void 0&&(h.m="q"in h?h.q:0),"V"in h){if(h.V<1||h.V>53)return null;"w"in h||(h.w=1),"Z"in h?(G=Hr(tn(h.y,0,1)),ye=G.getUTCDay(),G=ye>4||ye===0?Qn.ceil(G):Qn(G),G=ta.offset(G,(h.V-1)*7),h.y=G.getUTCFullYear(),h.m=G.getUTCMonth(),h.d=G.getUTCDate()+(h.w+6)%7):(G=Fr(tn(h.y,0,1)),ye=G.getDay(),G=ye>4||ye===0?Xn.ceil(G):Xn(G),G=gn.offset(G,(h.V-1)*7),h.y=G.getFullYear(),h.m=G.getMonth(),h.d=G.getDate()+(h.w+6)%7)}else("W"in h||"U"in h)&&("w"in h||(h.w="u"in h?h.u%7:"W"in h?1:0),ye="Z"in h?Hr(tn(h.y,0,1)).getUTCDay():Fr(tn(h.y,0,1)).getDay(),h.m=0,h.d="W"in h?(h.w+6)%7+h.W*7-(ye+5)%7:h.w+h.U*7-(ye+6)%7);return"Z"in h?(h.H+=h.Z/100|0,h.M+=h.Z%100,Hr(h)):Fr(h)}}function de(v,R,L,h){for(var ge=0,G=R.length,ye=L.length,p,j;ge<G;){if(h>=ye)return-1;if(p=R.charCodeAt(ge++),p===37){if(p=R.charAt(ge++),j=F[p in Ia?R.charAt(ge++):p],!j||(h=j(v,L,h))<0)return-1}else if(p!=L.charCodeAt(h++))return-1}return h}function fe(v,R,L){var h=s.exec(R.slice(L));return h?(v.p=y.get(h[0].toLowerCase()),L+h[0].length):-1}function ce(v,R,L){var h=_.exec(R.slice(L));return h?(v.w=T.get(h[0].toLowerCase()),L+h[0].length):-1}function f(v,R,L){var h=d.exec(R.slice(L));return h?(v.w=g.get(h[0].toLowerCase()),L+h[0].length):-1}function M(v,R,L){var h=Q.exec(R.slice(L));return h?(v.m=ee.get(h[0].toLowerCase()),L+h[0].length):-1}function x(v,R,L){var h=$.exec(R.slice(L));return h?(v.m=A.get(h[0].toLowerCase()),L+h[0].length):-1}function w(v,R,L){return de(v,t,R,L)}function z(v,R,L){return de(v,n,R,L)}function W(v,R,L){return de(v,r,R,L)}function O(v){return o[v.getDay()]}function K(v){return i[v.getDay()]}function B(v){return l[v.getMonth()]}function he(v){return c[v.getMonth()]}function be(v){return a[+(v.getHours()>=12)]}function ae(v){return 1+~~(v.getMonth()/3)}function Ae(v){return o[v.getUTCDay()]}function te(v){return i[v.getUTCDay()]}function se(v){return l[v.getUTCMonth()]}function ue(v){return c[v.getUTCMonth()]}function ie(v){return a[+(v.getUTCHours()>=12)]}function rt(v){return 1+~~(v.getUTCMonth()/3)}return{format:function(v){var R=k(v+="",Y);return R.toString=function(){return v},R},parse:function(v){var R=q(v+="",!1);return R.toString=function(){return v},R},utcFormat:function(v){var R=k(v+="",X);return R.toString=function(){return v},R},utcParse:function(v){var R=q(v+="",!0);return R.toString=function(){return v},R}}}var Ia={"-":"",_:" ",0:"0"},we=/^\s*\d+/,Fc=/^%/,Hc=/[\\^$*+?|[\]().{}]/g;function Z(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Yc(e){return e.replace(Hc,"\\$&")}function nn(e){return new RegExp("^(?:"+e.map(Yc).join("|")+")","i")}function rn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Oc(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jc(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ec(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wc(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Gc(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ba(e,t,n){var r=we.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Va(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function qc(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ic(e,t,n){var r=we.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Bc(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Za(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Vc(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Xa(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Zc(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Xc(e,t,n){var r=we.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Qc(e,t,n){var r=we.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Jc(e,t,n){var r=we.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kc(e,t,n){var r=Fc.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function es(e,t,n){var r=we.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function ts(e,t,n){var r=we.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qa(e,t){return Z(e.getDate(),t,2)}function ns(e,t){return Z(e.getHours(),t,2)}function rs(e,t){return Z(e.getHours()%12||12,t,2)}function as(e,t){return Z(1+gn.count(ut(e),e),t,3)}function bi(e,t){return Z(e.getMilliseconds(),t,3)}function is(e,t){return bi(e,t)+"000"}function os(e,t){return Z(e.getMonth()+1,t,2)}function cs(e,t){return Z(e.getMinutes(),t,2)}function ss(e,t){return Z(e.getSeconds(),t,2)}function us(e){var t=e.getDay();return t===0?7:t}function ls(e,t){return Z(er.count(ut(e)-1,e),t,2)}function pi(e){var t=e.getDay();return t>=4||t===0?Ht(e):Ht.ceil(e)}function fs(e,t){return e=pi(e),Z(Ht.count(ut(e),e)+(ut(e).getDay()===4),t,2)}function ds(e){return e.getDay()}function gs(e,t){return Z(Xn.count(ut(e)-1,e),t,2)}function hs(e,t){return Z(e.getFullYear()%100,t,2)}function ms(e,t){return e=pi(e),Z(e.getFullYear()%100,t,2)}function ys(e,t){return Z(e.getFullYear()%1e4,t,4)}function xs(e,t){var n=e.getDay();return e=n>=4||n===0?Ht(e):Ht.ceil(e),Z(e.getFullYear()%1e4,t,4)}function vs(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Z(t/60|0,"0",2)+Z(t%60,"0",2)}function Ja(e,t){return Z(e.getUTCDate(),t,2)}function bs(e,t){return Z(e.getUTCHours(),t,2)}function ps(e,t){return Z(e.getUTCHours()%12||12,t,2)}function _s(e,t){return Z(1+ta.count(_t(e),e),t,3)}function _i(e,t){return Z(e.getUTCMilliseconds(),t,3)}function ws(e,t){return _i(e,t)+"000"}function Ms(e,t){return Z(e.getUTCMonth()+1,t,2)}function ks(e,t){return Z(e.getUTCMinutes(),t,2)}function Ds(e,t){return Z(e.getUTCSeconds(),t,2)}function Ss(e){var t=e.getUTCDay();return t===0?7:t}function Ts(e,t){return Z(vi.count(_t(e)-1,e),t,2)}function wi(e){var t=e.getUTCDay();return t>=4||t===0?Yt(e):Yt.ceil(e)}function Cs(e,t){return e=wi(e),Z(Yt.count(_t(e),e)+(_t(e).getUTCDay()===4),t,2)}function zs(e){return e.getUTCDay()}function Rs(e,t){return Z(Qn.count(_t(e)-1,e),t,2)}function Ns(e,t){return Z(e.getUTCFullYear()%100,t,2)}function Us(e,t){return e=wi(e),Z(e.getUTCFullYear()%100,t,2)}function $s(e,t){return Z(e.getUTCFullYear()%1e4,t,4)}function As(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Yt(e):Yt.ceil(e),Z(e.getUTCFullYear()%1e4,t,4)}function Ls(){return"+0000"}function Ka(){return"%"}function ei(e){return+e}function ti(e){return Math.floor(+e/1e3)}var $t,ra;Ps({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ps(e){return $t=Pc(e),ra=$t.format,$t.parse,$t.utcFormat,$t.utcParse,$t}function Fs(e){return new Date(e)}function Hs(e){return e instanceof Date?+e:+new Date(+e)}function Mi(e,t,n,r,a,i,o,c,l,s){var y=di(),d=y.invert,g=y.domain,_=s(".%L"),T=s(":%S"),$=s("%I:%M"),A=s("%I %p"),Q=s("%a %d"),ee=s("%b %d"),Y=s("%B"),X=s("%Y");function F(k){return(l(k)<k?_:c(k)<k?T:o(k)<k?$:i(k)<k?A:r(k)<k?a(k)<k?Q:ee:n(k)<k?Y:X)(k)}return y.invert=function(k){return new Date(d(k))},y.domain=function(k){return arguments.length?g(Array.from(k,Hs)):g().map(Fs)},y.ticks=function(k){var q=g();return e(q[0],q[q.length-1],k??10)},y.tickFormat=function(k,q){return q==null?F:s(q)},y.nice=function(k){var q=g();return(!k||typeof k.range!="function")&&(k=t(q[0],q[q.length-1],k??10)),k?g(yc(q,k)):y},y.copy=function(){return Xr(y,Mi(e,t,n,r,a,i,o,c,l,s))},y}function Ys(){return Ir.apply(Mi(Ac,Lc,ut,na,er,gn,ea,Kr,At,ra).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const on={x:On,y:On,z:On,r:pc};function Os(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function ni(e){return e}function js(e){return t=>Math.log(e*t)}function Es(e){return t=>e*Math.exp(t)}function Ws(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Gs(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Un(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function qs(e){const t=Os(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:js(n),ground:Es(n),scaleType:t}}return t==="pow"?{lift:Un(1),ground:Un(1/1),scaleType:t}:t==="sqrt"?{lift:Un(.5),ground:Un(1/.5),scaleType:t}:t==="symlog"?{lift:Ws(1),ground:Gs(1),scaleType:t}:{lift:ni,ground:ni,scaleType:t}}function Jn(e){return e.replace(/^\w/,t=>t.toUpperCase())}function Ce(e,t=""){return`scale${Jn(t)}${Jn(e)}`}function ki(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?Ce("band"):Ce("point");if(an(Object.keys(e),["domain","range","unknown","copy"]))return Ce("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return Ce("quantile",t);if(e.thresholds)return Ce("quantize",t);if(e.constant)return Ce("symlog",t);if(e.base)return Ce("log",t);if(e.exponent)return e.exponent()===.5?Ce("sqrt",t):Ce("pow",t);if(an(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return Ce("threshold");if(an(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Ce("identity");if(an(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Ce("radial");if(t)return Ce(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),Ce(r)}return Ce("linear")}const Is=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Bs(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Is.includes(ki(e))||ci(e)===!0)return e.domain();const{lift:n,ground:r}=qs(e),a=e.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[o,c]=e.domain().map(_=>n(i?_.getTime():_)),[l,s]=e.range(),y=t[0]||0,d=t[1]||0,g=(c-o)/(Math.abs(s-l)-y-d);return[o-y*g,d*g+c].map(_=>r(i?new Date(_):_))}function Vs(e,t,n,r,a){let i,o;return a===!0?(i=0,o=100):(i=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),r===!0?[o,i]:[i,o]}function Zs(e,t,n,r,a,i){return a?typeof a=="function"?a({width:t,height:n}):a:Vs(e,t,n,r,i)}function $n(e){return function([n,r,a,i,o,c,l,s,y,d]){if(r===null)return null;const g=Zs(e,l,s,c,y,d),_=n===on[e]?n():n.copy();return _.domain(a),(!_.interpolator||typeof _.interpolator=="function"&&_.interpolator().name.startsWith("identity"))&&_.range(g),i&&_.domain(Bs(_,i)),(o===!0||typeof o=="number")&&(typeof _.nice=="function"?_.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),_}}function An([e,t]){return(n,r)=>{const a=e(n,r);return Array.isArray(a)?a.map(i=>t(i)):t(a)}}function Ln([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ee="    ";function Xs(e){const{r:t,g:n,b:r,opacity:a}=Gn(e);return[t,n,r].every(i=>i>=0&&i<=255)?{r:t,g:n,b:r,o:a}:!1}function Qs({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Js(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Ks(e.boundingBox),console.log("Data:"),console.log(Ee,e.data),e.flatData&&(console.log("flatData:"),console.log(Ee,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{eu(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Ks(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Ee}${t}:`,n)})}function eu(e,t,n){const r=ki(t);console.log(`${Ee}${e}:`),console.log(`${Ee}${Ee}Accessor: "${n.toString()}"`),console.log(`${Ee}${Ee}Type: ${r}`),ri(t,"domain"),ri(t,"range"," ")}function ri(e,t,n=""){const r=e[t](),a=nu(r);a?tu(a,t,r):console.log(`${Ee}${Ee}${Jn(t)}:${n}`,r)}function tu(e,t,n){console.log(`${Ee}${Ee}${Jn(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function nu(e){const t=[],n=e.map((r,a)=>{const i=Xs(r);if(i!==!1){t.push(i);const o=a===e.length-1?" ":"";return`%c ${r}${o}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${Qs(r)};`)]:null}function Pn(e){return!e||typeof e=="function"||Array.isArray(e)&&e.includes(null)?!1:e}var ru=_e('<div class="layercake-container svelte-812kmt"><!></div>');function au(e,t){gt(t,!1);const n=()=>b(yt,"$_percentRange",p),r=()=>b(qt,"$_containerWidth",p),a=()=>b(It,"$_containerHeight",p),i=()=>b(dr,"$_data",p),o=()=>b(hn,"$_flatData",p),c=()=>b(Bt,"$_x",p),l=()=>b(Vt,"$_y",p),s=()=>b(Zt,"$_z",p),y=()=>b(Xt,"$_r",p),d=()=>b(mn,"$_xNice",p),g=()=>b(yn,"$_yNice",p),_=()=>b(xn,"$_zNice",p),T=()=>b(vn,"$_rNice",p),$=()=>b(bn,"$_xReverse",p),A=()=>b(pn,"$_yReverse",p),Q=()=>b(_n,"$_zReverse",p),ee=()=>b(wn,"$_rReverse",p),Y=()=>b(Mn,"$_xPadding",p),X=()=>b(kn,"$_yPadding",p),F=()=>b(Dn,"$_zPadding",p),k=()=>b(Sn,"$_rPadding",p),q=()=>b(Sr,"$_custom",p),de=()=>b(Dr,"$_config",p),fe=()=>b(zr,"$box_d",p),ce=()=>b(Tr,"$activeGetters_d",p),f=()=>b(Qt,"$xScale_d",p),M=()=>b(Jt,"$yScale_d",p),x=()=>b(Kt,"$zScale_d",p),w=()=>b(en,"$rScale_d",p),z=()=>b(xt,"$width_d",p),W=()=>b(vt,"$height_d",p),O=()=>b(wa,"$aspectRatio_d",p),K=()=>b(_r,"$_xDomainSort",p),B=()=>b(wr,"$_yDomainSort",p),he=()=>b(Mr,"$_zDomainSort",p),be=()=>b(kr,"$_rDomainSort",p),ae=()=>b(Cr,"$padding_d",p),Ae=()=>b(Ke,"$extents_d",p),te=()=>b(la,"$xDomain_d",p),se=()=>b(fa,"$yDomain_d",p),ue=()=>b(da,"$zDomain_d",p),ie=()=>b(ga,"$rDomain_d",p),rt=()=>b(va,"$xRange_d",p),v=()=>b(ba,"$yRange_d",p),R=()=>b(pa,"$zRange_d",p),L=()=>b(_a,"$rRange_d",p),h=()=>b(ha,"$xGet_d",p),ge=()=>b(ma,"$yGet_d",p),G=()=>b(ya,"$zGet_d",p),ye=()=>b(xa,"$rGet_d",p),[p,j]=wt(),J=ka(),Le=uo(Js,200);let Pe=m(t,"ssr",8,!1),Se=m(t,"pointerEvents",8,!0),De=m(t,"position",8,"relative"),Fe=m(t,"percentRange",8,!1),Ze=m(t,"width",8,void 0),Dt=m(t,"height",8,void 0),Ge=m(t,"containerWidth",28,()=>Ze()||100),lt=m(t,"containerHeight",28,()=>Dt()||100),qe=m(t,"element",12,void 0),Te=m(t,"x",8,void 0),Me=m(t,"y",8,void 0),Xe=m(t,"z",8,void 0),Qe=m(t,"r",8,void 0),Je=m(t,"data",24,()=>[]),Ie=m(t,"xDomain",8,void 0),He=m(t,"yDomain",8,void 0),Ne=m(t,"zDomain",8,void 0),Ye=m(t,"rDomain",8,void 0),at=m(t,"xNice",8,!1),mt=m(t,"yNice",8,!1),Be=m(t,"zNice",8,!1),St=m(t,"rNice",8,!1),jt=m(t,"xPadding",8,void 0),Tt=m(t,"yPadding",8,void 0),Et=m(t,"zPadding",8,void 0),tr=m(t,"rPadding",8,void 0),nr=m(t,"xScale",24,()=>on.x),Wt=m(t,"yScale",24,()=>on.y),rr=m(t,"zScale",24,()=>on.z),ar=m(t,"rScale",24,()=>on.r),Ct=m(t,"xRange",8,void 0),zt=m(t,"yRange",8,void 0),Rt=m(t,"zRange",8,void 0),Nt=m(t,"rRange",8,void 0),ir=m(t,"xReverse",8,!1),or=m(t,"yReverse",8,void 0),cr=m(t,"zReverse",8,!1),sr=m(t,"rReverse",8,!1),Di=m(t,"xDomainSort",8,!1),Si=m(t,"yDomainSort",8,!1),Ti=m(t,"zDomainSort",8,!1),Ci=m(t,"rDomainSort",8,!1),ur=m(t,"padding",24,()=>({})),Gt=m(t,"flatData",8,void 0),lr=m(t,"custom",24,()=>({})),aa=m(t,"debug",8,!1),zi=m(t,"verbose",8,!0),fr=!1;ai(()=>{fr=!0});const V=ka({}),yt=P(Fe()),qt=P(Ge()),It=P(lt()),dr=P(Je()),hn=P(Gt()||Je()),ia=P(ur()),Bt=P(ft(Te())),Vt=P(ft(Me())),Zt=P(ft(Xe())),Xt=P(ft(Qe())),gr=P(Ie()),hr=P(He()),mr=P(Ne()),yr=P(Ye()),mn=P(at()),yn=P(mt()),xn=P(Be()),vn=P(St()),bn=P(ir()),pn=P(u(J)),_n=P(cr()),wn=P(sr()),Mn=P(jt()),kn=P(Tt()),Dn=P(Et()),Sn=P(tr()),oa=P(Ct()),ca=P(zt()),sa=P(Rt()),ua=P(Nt()),xr=P(nr()),vr=P(Wt()),br=P(rr()),pr=P(ar()),_r=P(Di()),wr=P(Si()),Mr=P(Ti()),kr=P(Ci()),Dr=P(u(V)),Sr=P(lr()),Tr=ne([Bt,Vt,Zt,Xt],([oe,ke,Oe,me])=>{const it={};return oe&&(it.x=oe),ke&&(it.y=ke),Oe&&(it.z=Oe),me&&(it.r=me),it}),Cr=ne([ia,qt,It],([oe])=>Object.assign({top:0,right:0,bottom:0,left:0},oe)),zr=ne([qt,It,Cr],([oe,ke,Oe])=>{const me={};return me.top=Oe.top,me.right=oe-Oe.right,me.bottom=ke-Oe.bottom,me.left=Oe.left,me.width=me.right-me.left,me.height=me.bottom-me.top,zi()===!0&&(me.width<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),me.height<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),me}),xt=ne([zr],([oe])=>oe.width),vt=ne([zr],([oe])=>oe.height),Ke=ne([hn,Tr,xr,vr,pr,br,gr,hr,mr,yr,_r,wr,Mr,kr],([oe,ke,Oe,me,it,Pi,Fi,Hi,Yi,Oi,ji,Ei,Wi,Gi])=>{const qi={x:{scale:Oe,sort:ji},y:{scale:me,sort:Ei},r:{scale:it,sort:Gi},z:{scale:Pi,sort:Wi}},Rr=Object.fromEntries([["x",Pn(Fi)],["y",Pn(Hi)],["z",Pn(Yi)],["r",Pn(Oi)]].filter(([Tn,Bi])=>Bi!==!1)),Nr=so(ke,Rr),Ii=Object.fromEntries(Object.keys(Nr).map(Tn=>[Tn,qi[Tn]]));return Object.keys(Nr).length>0?{...To(oe,Nr,Ii),...Rr}:Rr}),la=ne([Ke,gr],Cn("x")),fa=ne([Ke,hr],Cn("y")),da=ne([Ke,mr],Cn("z")),ga=ne([Ke,yr],Cn("r")),Qt=ne([xr,Ke,la,Mn,mn,bn,xt,vt,oa,yt],$n("x")),ha=ne([Bt,Qt],An),Jt=ne([vr,Ke,fa,kn,yn,pn,xt,vt,ca,yt],$n("y")),ma=ne([Vt,Jt],An),Kt=ne([br,Ke,da,Dn,xn,_n,xt,vt,sa,yt],$n("z")),ya=ne([Zt,Kt],An),en=ne([pr,Ke,ga,Sn,vn,wn,xt,vt,ua,yt],$n("r")),xa=ne([Xt,en],An),Ri=ne(Qt,oe=>oe.domain()),Ni=ne(Jt,oe=>oe.domain()),Ui=ne(Kt,oe=>oe.domain()),$i=ne(en,oe=>oe.domain()),va=ne([Qt],Ln),ba=ne([Jt],Ln),pa=ne([Kt],Ln),_a=ne([en],Ln),wa=ne([xt,vt],([oe,ke])=>oe/ke);Xi("LayerCake",{activeGetters:Tr,width:xt,height:vt,percentRange:yt,aspectRatio:wa,containerWidth:qt,containerHeight:It,x:Bt,y:Vt,z:Zt,r:Xt,custom:Sr,data:dr,xNice:mn,yNice:yn,zNice:xn,rNice:vn,xDomainSort:_r,yDomainSort:wr,zDomainSort:Mr,rDomainSort:kr,xReverse:bn,yReverse:pn,zReverse:_n,rReverse:wn,xPadding:Mn,yPadding:kn,zPadding:Dn,rPadding:Sn,padding:Cr,flatData:hn,extents:Ke,xDomain:Ri,yDomain:Ni,zDomain:Ui,rDomain:$i,xRange:va,yRange:ba,zRange:pa,rRange:_a,config:Dr,xScale:Qt,xGet:ha,yScale:Jt,yGet:ma,zScale:Kt,zGet:ya,rScale:en,rGet:xa}),S(()=>(D(or()),D(Wt())),()=>{re(J,typeof or()>"u"?typeof Wt().bandwidth!="function":or())}),S(()=>D(Te()),()=>{Te()&&je(V,u(V).x=Te())}),S(()=>D(Me()),()=>{Me()&&je(V,u(V).y=Me())}),S(()=>D(Xe()),()=>{Xe()&&je(V,u(V).z=Xe())}),S(()=>D(Qe()),()=>{Qe()&&je(V,u(V).r=Qe())}),S(()=>D(Ie()),()=>{Ie()&&je(V,u(V).xDomain=Ie())}),S(()=>D(He()),()=>{He()&&je(V,u(V).yDomain=He())}),S(()=>D(Ne()),()=>{Ne()&&je(V,u(V).zDomain=Ne())}),S(()=>D(Ye()),()=>{Ye()&&je(V,u(V).rDomain=Ye())}),S(()=>D(Ct()),()=>{Ct()&&je(V,u(V).xRange=Ct())}),S(()=>D(zt()),()=>{zt()&&je(V,u(V).yRange=zt())}),S(()=>D(Rt()),()=>{Rt()&&je(V,u(V).zRange=Rt())}),S(()=>D(Nt()),()=>{Nt()&&je(V,u(V).rRange=Nt())}),S(()=>D(Fe()),()=>{E(yt,Fe())}),S(()=>D(Ge()),()=>{E(qt,Ge())}),S(()=>D(lt()),()=>{E(It,lt())}),S(()=>D(Je()),()=>{E(dr,Je())}),S(()=>(D(Gt()),D(Je())),()=>{E(hn,Gt()||Je())}),S(()=>D(ur()),()=>{E(ia,ur())}),S(()=>D(Te()),()=>{E(Bt,ft(Te()))}),S(()=>D(Me()),()=>{E(Vt,ft(Me()))}),S(()=>D(Xe()),()=>{E(Zt,ft(Xe()))}),S(()=>D(Qe()),()=>{E(Xt,ft(Qe()))}),S(()=>D(Ie()),()=>{E(gr,Ie())}),S(()=>D(He()),()=>{E(hr,He())}),S(()=>D(Ne()),()=>{E(mr,Ne())}),S(()=>D(Ye()),()=>{E(yr,Ye())}),S(()=>D(at()),()=>{E(mn,at())}),S(()=>D(mt()),()=>{E(yn,mt())}),S(()=>D(Be()),()=>{E(xn,Be())}),S(()=>D(St()),()=>{E(vn,St())}),S(()=>D(ir()),()=>{E(bn,ir())}),S(()=>u(J),()=>{E(pn,u(J))}),S(()=>D(cr()),()=>{E(_n,cr())}),S(()=>D(sr()),()=>{E(wn,sr())}),S(()=>D(jt()),()=>{E(Mn,jt())}),S(()=>D(Tt()),()=>{E(kn,Tt())}),S(()=>D(Et()),()=>{E(Dn,Et())}),S(()=>D(tr()),()=>{E(Sn,tr())}),S(()=>D(Ct()),()=>{E(oa,Ct())}),S(()=>D(zt()),()=>{E(ca,zt())}),S(()=>D(Rt()),()=>{E(sa,Rt())}),S(()=>D(Nt()),()=>{E(ua,Nt())}),S(()=>D(nr()),()=>{E(xr,nr())}),S(()=>D(Wt()),()=>{E(vr,Wt())}),S(()=>D(rr()),()=>{E(br,rr())}),S(()=>D(ar()),()=>{E(pr,ar())}),S(()=>D(lr()),()=>{E(Sr,lr())}),S(()=>u(V),()=>{E(Dr,u(V))}),S(()=>(fe(),D(aa()),D(Pe()),i(),D(Gt()),o(),ce(),u(V),f(),M(),x(),w()),()=>{fe()&&aa()===!0&&(Pe()===!0||typeof window<"u")&&Le({data:i(),flatData:typeof Gt()<"u"?o():null,boundingBox:fe(),activeGetters:ce(),x:u(V).x,y:u(V).y,z:u(V).z,r:u(V).r,xScale:f(),yScale:M(),zScale:x(),rScale:w()})}),Qi(),io();var Ma=sn(),Ai=et(Ma);{var Li=oe=>{var ke=ru();let Oe;var me=N(ke);eo(me,t,"default",{get element(){return qe()},get width(){return z()},get height(){return W()},get aspectRatio(){return O()},get containerWidth(){return r()},get containerHeight(){return a()},get activeGetters(){return ce()},get percentRange(){return n()},get x(){return c()},get y(){return l()},get z(){return s()},get r(){return y()},get custom(){return q()},get data(){return i()},get xNice(){return d()},get yNice(){return g()},get zNice(){return _()},get rNice(){return T()},get xDomainSort(){return K()},get yDomainSort(){return B()},get zDomainSort(){return he()},get rDomainSort(){return be()},get xReverse(){return $()},get yReverse(){return A()},get zReverse(){return Q()},get rReverse(){return ee()},get xPadding(){return Y()},get yPadding(){return X()},get zPadding(){return F()},get rPadding(){return k()},get padding(){return ae()},get flatData(){return o()},get extents(){return Ae()},get xDomain(){return te()},get yDomain(){return se()},get zDomain(){return ue()},get rDomain(){return ie()},get xRange(){return rt()},get yRange(){return v()},get zRange(){return R()},get rRange(){return L()},get config(){return de()},get xScale(){return f()},get xGet(){return h()},get yScale(){return M()},get yGet(){return ge()},get zScale(){return x()},get zGet(){return G()},get rScale(){return w()},get rGet(){return ye()}}),C(ke),Gr(ke,it=>qe(it),()=>qe()),xe(()=>Oe=dt(ke,"",Oe,{position:De(),top:De()==="absolute"?"0":null,right:De()==="absolute"?"0":null,bottom:De()==="absolute"?"0":null,left:De()==="absolute"?"0":null,"pointer-events":Se()===!1?"none":null})),Ca(ke,"clientWidth",Ge),Ca(ke,"clientHeight",lt),H(oe,ke)};pe(Ai,oe=>{(Pe()===!0||typeof window<"u")&&oe(Li)})}H(e,Ma),ht(),j()}var iu=_e('<div class="layercake-layout-html svelte-5lwx3b"><!></div>');function ou(e,t){gt(t,!0);const n=()=>b(i,"$padding",r),[r,a]=wt(),{padding:i}=Ot("LayerCake");let o=m(t,"element",15,void 0),c=m(t,"zIndex",3,void 0),l=m(t,"pointerEvents",3,void 0),s=m(t,"role",3,void 0),y=m(t,"label",3,void 0),d=m(t,"labelledBy",3,void 0),g=m(t,"describedBy",3,void 0),_=m(t,"overflow",3,"visible"),T=le(()=>s()||(y()||d()||g()?"figure":void 0));var $=iu();let A;var Q=N($);Yn(Q,()=>t.children??ii,()=>({element:o()})),C($),Gr($,ee=>o(ee),()=>o()),xe(()=>{U($,"role",u(T)),U($,"aria-label",y()),U($,"aria-labelledby",d()),U($,"aria-describedby",g()),A=dt($,"",A,{"z-index":c(),"pointer-events":l()===!1?"none":null,top:n().top+"px",right:n().right+"px",bottom:n().bottom+"px",left:n().left+"px",overflow:_()})}),H(e,$),ht(),a()}var cu=Re("<title><!></title>"),su=Re("<title> </title>"),uu=Re("<defs><!></defs>"),lu=Re('<svg class="layercake-layout-svg svelte-vzq0jw"><!><!><!></svg>');function fu(e,t){gt(t,!0);const n=()=>b(ee,"$containerWidth",i),r=()=>b(Y,"$containerHeight",i),a=()=>b(X,"$padding",i),[i,o]=wt();let c=m(t,"element",15,void 0),l=m(t,"zIndex",3,void 0),s=m(t,"pointerEvents",3,void 0),y=m(t,"viewBox",3,void 0),d=m(t,"label",3,void 0),g=m(t,"labelledBy",3,void 0),_=m(t,"describedBy",3,void 0),T=m(t,"titleText",3,void 0),$=m(t,"title",3,void 0),A=m(t,"defs",3,void 0),Q=m(t,"overflow",3,"visible");const{containerWidth:ee,containerHeight:Y,padding:X}=Ot("LayerCake");var F=lu();let k;var q=N(F);{var de=x=>{var w=cu(),z=N(w);Yn(z,$),C(w),H(x,w)},fe=x=>{var w=sn(),z=et(w);{var W=O=>{var K=su(),B=N(K,!0);C(K),xe(()=>$e(B,T())),H(O,K)};pe(z,O=>{T()&&O(W)},!0)}H(x,w)};pe(q,x=>{typeof $()=="function"?x(de):x(fe,!1)})}var ce=I(q);{var f=x=>{var w=uu(),z=N(w);Yn(z,A),C(w),H(x,w)};pe(ce,x=>{typeof A()=="function"&&x(f)})}var M=I(ce);Yn(M,()=>t.children??ii,()=>({element:c()})),C(F),Gr(F,x=>c(x),()=>c()),xe(()=>{U(F,"viewBox",y()),U(F,"width",n()),U(F,"height",r()),U(F,"aria-label",d()),U(F,"aria-labelledby",g()),U(F,"aria-describedby",_()),k=dt(F,"",k,{"z-index":l(),"pointer-events":s()===!1?"none":null,top:a().top+"px",left:a().left+"px",width:`calc(100% - ${a().left+a().right}px)`,height:`calc(100% - ${a().top+a().bottom}px)`,overflow:Q()})}),H(e,F),ht(),o()}var du=Re('<path class="path-line svelte-gmbklp"></path>');function gu(e,t){gt(t,!0);const n=()=>b(l,"$data",o),r=()=>b(s,"$xGet",o),a=()=>b(d,"$yScale",o),i=()=>b(y,"$yGet",o),[o,c]=wt(),{data:l,xGet:s,yGet:y,yScale:d}=Ot("LayerCake");let g=m(t,"stroke",3,"#ab00d6"),_=m(t,"yAccessorKey",3,null),T=le(()=>"M"+n().filter(A=>_()?A[_()]!=null:!0).map(A=>{const Q=r()(A),ee=_()?a()(A[_()]):i()(A);return Q+","+ee}).join("L"));var $=du();xe(()=>{U($,"d",u(T)),U($,"stroke",g())}),H(e,$),ht(),c()}var hu=Re('<line class="baseline svelte-4vwzuc" x1="0"></line>'),mu=Re('<line class="gridline svelte-4vwzuc" y2="0"></line>'),yu=Re('<line class="tick-mark svelte-4vwzuc"></line>'),xu=Re('<!><g><!><!><text class="svelte-4vwzuc"> </text></g>',1),vu=Re("<g></g>");function bu(e,t){gt(t,!0);const n=()=>b(y,"$xScale",o),r=()=>b(s,"$height",o),a=()=>b(l,"$width",o),i=()=>b(d,"$yRange",o),[o,c]=wt(),{width:l,height:s,xScale:y,yRange:d}=Ot("LayerCake");let g=m(t,"tickMarks",3,!1),_=m(t,"gridlines",3,!0),T=m(t,"tickMarkLength",3,6),$=m(t,"baseline",3,!1),A=m(t,"snapLabels",3,!1),Q=m(t,"format",3,x=>x),ee=m(t,"ticks",3,void 0),Y=m(t,"tickGutter",3,0),X=m(t,"dx",3,0),F=m(t,"dy",3,0),k=le(()=>g()===!0?T()??6:0),q=le(()=>typeof n().bandwidth=="function"),de=le(()=>Array.isArray(ee())?ee():u(q)?n().domain():typeof ee()=="function"?ee()(n().ticks()):n().ticks(ee())),fe=le(()=>u(q)?n().bandwidth()/2:0);function ce(x){if(A()===!0){if(x===0)return"start";if(x===u(de).length-1)return"end"}return"middle"}var f=vu();let M;Lt(f,22,()=>u(de),x=>x,(x,w,z)=>{var W=xu(),O=et(W);{var K=ue=>{var ie=hu();xe(()=>{U(ie,"y1",r()),U(ie,"y2",r()),U(ie,"x2",a())}),H(ue,ie)};pe(O,ue=>{$()===!0&&ue(K)})}var B=I(O),he=N(B);{var be=ue=>{var ie=mu();xe(()=>{U(ie,"x1",u(fe)),U(ie,"x2",u(fe)),U(ie,"y1",-r())}),H(ue,ie)};pe(he,ue=>{_()===!0&&ue(be)})}var ae=I(he);{var Ae=ue=>{var ie=yu();xe(()=>{U(ie,"x1",u(fe)),U(ie,"x2",u(fe)),U(ie,"y1",Y()),U(ie,"y2",Y()+u(k))}),H(ue,ie)};pe(ae,ue=>{g()===!0&&ue(Ae)})}var te=I(ae),se=N(te,!0);C(te),C(B),xe((ue,ie,rt,v)=>{jn(B,0,`tick tick-${u(z)??""}`,"svelte-4vwzuc"),U(B,"transform",`translate(${ue??""},${ie??""})`),U(te,"x",u(fe)),U(te,"y",Y()+u(k)),U(te,"dx",X()),U(te,"dy",F()),U(te,"text-anchor",rt),$e(se,v)},[()=>n()(w),()=>Math.max(...i()),()=>ce(u(z)),()=>Q()(w)]),H(x,W)}),C(f),xe(()=>M=jn(f,0,"axis x-axis svelte-4vwzuc",null,M,{snapLabels:A()})),H(e,f),ht(),c()}var pu=Re('<line class="gridline svelte-mmstdn"></line>'),_u=Re('<line class="tick-mark svelte-mmstdn"></line>'),wu=Re('<g><!><!><text class="svelte-mmstdn"> </text></g>'),Mu=Re('<g class="axis y-axis"></g>');function ku(e,t){gt(t,!0);const n=()=>b(l,"$yScale",i),r=()=>b(c,"$xRange",i),a=()=>b(s,"$width",i),[i,o]=wt(),{xRange:c,yScale:l,width:s}=Ot("LayerCake");let y=m(t,"tickMarks",3,!1),d=m(t,"labelPosition",3,"even"),g=m(t,"snapBaselineLabel",3,!1),_=m(t,"gridlines",3,!0),T=m(t,"tickMarkLength",3,void 0),$=m(t,"format",3,w=>w),A=m(t,"ticks",3,4),Q=m(t,"tickGutter",3,0),ee=m(t,"dx",3,0),Y=m(t,"dy",3,0),X=m(t,"charPixelWidth",3,7.25);function F(w,z){return z===","||z==="."?w+X()*.5:w+X()}let k=le(()=>typeof n().bandwidth=="function"),q=le(()=>Array.isArray(A())?A():u(k)?n().domain():typeof A()=="function"?A()(n().ticks()):n().ticks(A())),de=le(()=>Math.max(10,Math.max(...u(q).map(w=>$()(w).toString().split("").reduce(F,0))))),fe=le(()=>y()===!0?d()==="above"?T()??u(de):T()??6:0),ce=le(()=>-Q()-(d()==="above"?u(de):u(fe))),f=le(()=>u(k)?n().bandwidth()/2:0),M=le(()=>Math.max(...u(q).map(n())));var x=Mu();Lt(x,20,()=>u(q),w=>w,(w,z)=>{const W=le(()=>n()(z));var O=wu(),K=N(O);{var B=te=>{var se=pu();xe(()=>{U(se,"x1",u(ce)),U(se,"x2",a()),U(se,"y1",u(f)),U(se,"y2",u(f))}),H(te,se)};pe(K,te=>{_()===!0&&te(B)})}var he=I(K);{var be=te=>{var se=_u();xe(()=>{U(se,"x1",u(ce)),U(se,"x2",u(ce)+u(fe)),U(se,"y1",u(f)),U(se,"y2",u(f))}),H(te,se)};pe(he,te=>{y()===!0&&te(be)})}var ae=I(he),Ae=N(ae,!0);C(ae),C(O),xe(te=>{jn(O,0,`tick tick-${z??""}`,"svelte-mmstdn"),U(O,"transform",`translate(${r()[0]??""}, ${u(W)??""})`),U(ae,"x1",u(ce)),U(ae,"y",u(f)),U(ae,"dx",ee()+(d()==="even"?-3:0)),U(ae,"text-anchor",d()==="above"?"start":"end"),U(ae,"dy",Y()+(d()==="above"||g()===!0&&u(W)===u(M)?-3:4)),$e(Ae,te)},[()=>$()(z)]),H(w,O)}),C(x),H(e,x),ht(),o()}var Du=_e('<div class="flex items-center gap-2"><div class="h-2 w-2 rounded-full"></div> <span> </span> <span class="font-mono"> </span></div>'),Su=_e('<div class="tooltip hidden md:block svelte-b0p9nb"><div class="line svelte-b0p9nb"></div> <div class="content pointer-events-none absolute top-0 z-50 mt-4 -translate-x-1/2 transform rounded border border-gray-200 bg-white p-2 text-xs whitespace-nowrap text-zinc-800 shadow"><div class="mb-1 font-bold"> </div> <!></div></div>'),Tu=_e('<div class="tooltip-trigger hidden md:block svelte-b0p9nb"></div> <!>',1);function Cu(e,t){gt(t,!0);const n=()=>b(T,"$xGet",c),r=()=>b(g,"$xScale",c),a=()=>b(s,"$data",c),i=()=>b(y,"$width",c),o=()=>b(d,"$height",c),[c,l]=wt(),{data:s,width:y,height:d,xScale:g,yGet:_,xGet:T,config:$}=Ot("LayerCake");let A=m(t,"formatTitle",3,w=>w),Q=m(t,"formatValue",3,w=>w),ee=m(t,"labels",19,()=>({})),Y=Ue(!1),X=Ue(Yr({})),F=Ue(0);const k=Kn(w=>n()(w)).right;function q(w){const{left:z,top:W}=w.currentTarget.getBoundingClientRect(),O=w.clientX-z,K=r().invert(O),B=k(a(),K,1),he=a()[B-1],be=a()[B],ae=!he||!be?he||be:K-n()(he)>n()(be)-K?be:he;ae?(re(X,ae,!0),re(F,r()(n()(ae)),!0),re(Y,!0)):re(Y,!1)}function de(){re(Y,!1)}var fe=Tu(),ce=et(fe);ce.__mousemove=q;let f;var M=I(ce,2);{var x=w=>{var z=Su(),W=N(z);let O;var K=I(W,2),B=N(K),he=N(B,!0);C(B);var be=I(B,2);Lt(be,17,()=>Object.entries(ee()),Hn,(ae,Ae)=>{var te=le(()=>Fn(u(Ae),2));let se=()=>u(te)[0],ue=()=>u(te)[1];var ie=sn(),rt=et(ie);{var v=R=>{var L=Du(),h=N(L);let ge;var G=I(h,2),ye=N(G);C(G);var p=I(G,2),j=N(p,!0);C(p),C(L),xe(J=>{ge=dt(h,"",ge,{"background-color":ue().color}),$e(ye,`${ue().text??""}:`),$e(j,J)},[()=>Q()(u(X)[se()],se())]),H(R,L)};pe(rt,R=>{u(X)[se()]!=null&&R(v)})}H(ae,ie)}),C(K),C(z),xe(ae=>{dt(z,`left:${u(F)??""}px; top: 0px;`),O=dt(W,"",O,{height:`${o()??""}px`}),$e(he,ae)},[()=>A()(n()(u(X)))]),H(w,z)};pe(M,w=>{u(Y)&&u(X)&&w(x)})}xe(()=>f=dt(ce,"",f,{width:`${i()??""}px`,height:`${o()??""}px`})),Ki("mouseleave",ce,de),H(e,fe),ht(),l()}oi(["mousemove"]);var zu=_e('<div class="flex h-64 items-center justify-center"><!></div>'),Ru=_e('<button class="rounded-full border px-3 py-1 text-xs font-medium transition-colors"> </button>'),Nu=_e('<button class="text-xs text-indigo-400 underline hover:text-indigo-300">Reset</button>'),Uu=_e("<!> <!> <!>",1),$u=_e("<!> <!>",1),Au=_e('<div class="relative h-[400px] w-full rounded-lg bg-zinc-900 p-4 shadow-lg"><!></div>'),Lu=_e('<div class="rounded-lg bg-zinc-900 p-8 text-center text-zinc-400 shadow-lg">Not enough data to display chart. Add more entries!</div>'),Pu=_e('<div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg"> </span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300"> </div></div> <div class="text-xl font-bold text-white"> </div></div></div>'),Fu=_e('<div class="space-y-3"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold text-zinc-100">Events</h2> <button> </button></div> <div class="grid grid-cols-2 gap-2"></div> <div class="pt-2"><h2 class="text-lg font-semibold text-zinc-100">Projects</h2></div> <div class="grid grid-cols-2 gap-2"><div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">📝</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Applied Art Calls</div></div> <div class="text-xl font-bold text-white"> </div></div></div> <div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">✅</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Completed Projects</div></div> <div class="text-xl font-bold text-white"> </div></div></div></div></div>'),Hu=_e('<button class="fixed right-8 bottom-8 z-50 rounded-full bg-indigo-600 p-4 text-white shadow-lg transition-transform hover:scale-105 hover:bg-indigo-500" aria-label="Create New Entry"><!></button>'),Yu=_e('<div class="space-y-4"><div class="grid gap-4 lg:grid-cols-3"><div class="space-y-3 lg:col-span-2"><h2 class="text-lg font-semibold text-zinc-100">Timeline</h2> <div class="space-y-3 rounded-lg bg-zinc-900 p-4 shadow-lg"><div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Metrics:</span> <div class="flex flex-wrap gap-2"></div></div> <div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Date Range:</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <span class="text-zinc-500">to</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <!></div></div> <!></div> <!></div></div> <!> <!>',1),Ou=_e('<div class="py-16 text-center"><h2 class="text-2xl font-semibold text-zinc-100">Welcome to CG Tracker</h2> <p class="mt-3 text-zinc-400">Please log in to view your progress and start tracking.</p></div>'),ju=_e("<div><!></div>");function el(e,t){gt(t,!0);let n=Ue(null),r=Ue(!1),a=Ue(!0),i=Ue(!1),o=Ue(Yr([])),c=Ue(0),l=Ue(0),s=le(()=>u(o).map(f=>({...f,created_at:new Date(f.created_at)})).sort((f,M)=>f.created_at.getTime()-M.created_at.getTime())),d=Yr({mood:{label:"Mood",color:"#8b5cf6",active:!0},energy:{label:"Energy",color:"#f97316",active:!0},physical:{label:"Physical",color:"#ef4444",active:!0},sleep:{label:"Sleep",color:"#3b82f6",active:!0},meals:{label:"Meals",color:"#22c55e",active:!0},weight:{label:"Weight",color:"#71717a",active:!1}}),g=Ue(""),_=Ue("");Ji(()=>{if(u(s).length>0&&!u(g)&&!u(_)){const f=u(s)[0].created_at,M=new Date,x=w=>{const z=w.getFullYear(),W=String(w.getMonth()+1).padStart(2,"0"),O=String(w.getDate()).padStart(2,"0");return`${z}-${W}-${O}`};re(g,x(f),!0),re(_,x(M),!0)}});let T=le(()=>{let f=u(s);if(u(g)){const[M,x,w]=u(g).split("-").map(Number),z=new Date(M,x-1,w);f=f.filter(W=>W.created_at>=z)}if(u(_)){const[M,x,w]=u(_).split("-").map(Number),z=new Date(M,x-1,w);z.setHours(23,59,59,999),f=f.filter(W=>W.created_at<=z)}return f}),$=le(()=>{const f=Object.keys(d).filter(x=>d[x].active);if(f.length===0)return[0,10];let M=0;for(const x of u(T))for(const w of f){const z=x[w];typeof z=="number"&&z>M&&(M=z)}return[0,M*1.1]});const A=ra("%m/%d");let Q=Ue(!1),ee=le(()=>{const f={exercise:{label:"Exercise",count:0,icon:"🏃"},ihana:{label:"Ihana",count:0,icon:"💜"},calvin_day:{label:"Calvin Day",count:0,icon:"✨"},sickness:{label:"Sick Days",count:0,icon:"🤒"},work:{label:"Work",count:0,icon:"💼"},study:{label:"Study",count:0,icon:"📚"},culture:{label:"Culture",count:0,icon:"🎭"},art:{label:"Art",count:0,icon:"🎨"},music:{label:"Music",count:0,icon:"🎵"},leisure:{label:"Leisure",count:0,icon:"🎮"},call_family:{label:"Family Calls",count:0,icon:"📞"}};let M=u(T);if(u(Q)){const x=new Date,w=x.getMonth(),z=x.getFullYear();M=u(T).filter(W=>{const O=W.created_at;return O.getMonth()===w&&O.getFullYear()===z})}for(const x of M)x.exercise_type&&x.exercise_type.trim()&&f.exercise.count++,x.ihana===!0&&f.ihana.count++,x.calvin_day===!0&&f.calvin_day.count++,x.sickness===!0&&f.sickness.count++,x.work_type&&x.work_type.trim()&&f.work.count++,x.study_type&&x.study_type.trim()&&f.study.count++,x.culture_type&&x.culture_type.trim()&&f.culture.count++,x.art_type&&x.art_type.trim()&&f.art.count++,x.music_type&&x.music_type.trim()&&f.music.count++,x.leisure_type&&x.leisure_type.trim()&&f.leisure.count++,x.call_family===!0&&f.call_family.count++;return f});ai(()=>{Ut.auth.getSession().then(({data:{session:M}})=>{re(n,M,!0),M?(Y(),X()):re(a,!1)});const{data:{subscription:f}}=Ut.auth.onAuthStateChange((M,x)=>{re(n,x,!0),x?(Y(),X()):re(a,!1)});return()=>f.unsubscribe()});async function Y(){re(a,!0);const{data:f,error:M}=await Ut.from("dailyTracking").select("created_at, mood, energy, physical, sleep, meals, weight, exercise_type, ihana, calvin_day, sickness, work_type, study_type, culture_type, art_type, music_type, leisure_type, call_family").order("created_at",{ascending:!0});!M&&f?re(o,f,!0):M&&console.error("Error fetching data:",M),re(a,!1)}async function X(){re(i,!0);const[{count:f,error:M},{count:x,error:w}]=await Promise.all([Ut.from("artCalls").select("id",{count:"exact",head:!0}).eq("applied",!0),Ut.from("projects").select("id",{count:"exact",head:!0}).eq("status",3)]);M?console.error("Error fetching applied art calls count:",M):re(c,f??0,!0),w?console.error("Error fetching completed projects count:",w):re(l,x??0,!0),re(i,!1)}async function F(f){const{error:M}=await Ut.from("dailyTracking").insert(f);M?(console.error("Error saving entry:",M),Sa("Error saving entry: "+M.message,"Error")):(re(r,!1),Sa("Entry saved successfully!","Success"),Y())}function k(f){const M=f;d[M].active=!d[M].active}var q=ju(),de=N(q);{var fe=f=>{var M=zu(),x=N(M);no(x,{class:"h-8 w-8 animate-spin text-indigo-500"}),C(M),H(f,M)},ce=f=>{var M=sn(),x=et(M);{var w=W=>{var O=Yu(),K=et(O),B=N(K),he=N(B),be=I(N(he),2),ae=N(be),Ae=I(N(ae),2);Lt(Ae,21,()=>Object.entries(d),Hn,(j,J)=>{var Le=le(()=>Fn(u(J),2));let Pe=()=>u(Le)[0],Se=()=>u(Le)[1];var De=Ru();De.__click=()=>k(Pe());let Fe;var Ze=N(De,!0);C(De),xe(()=>{Fe=dt(De,"",Fe,{"background-color":Se().active?Se().color+"20":"transparent","border-color":Se().active?Se().color:"#3f3f46",color:Se().active?Se().color:"#a1a1aa"}),$e(Ze,Se().label)}),H(j,De)}),C(Ae),C(ae);var te=I(ae,2),se=I(N(te),2);Da(se);var ue=I(se,4);Da(ue);var ie=I(ue,2);{var rt=j=>{var J=Nu();J.__click=()=>{re(g,""),re(_,"")},H(j,J)};pe(ie,j=>{(u(g)||u(_))&&j(rt)})}C(te),C(be);var v=I(be,2);{var R=j=>{var J=Au(),Le=N(J);{let Pe=le(Ys);au(Le,{padding:{top:20,right:15,bottom:32,left:30},x:Se=>Se.created_at,get yDomain(){return u($)},get data(){return u(T)},get xScale(){return u(Pe)},children:(Se,De)=>{var Fe=$u(),Ze=et(Fe);fu(Ze,{children:(Ge,lt)=>{var qe=Uu(),Te=et(qe);bu(Te,{gridlines:!1,ticks:5,get format(){return A},dy:12});var Me=I(Te,2);ku(Me,{ticks:4,gridlines:!0});var Xe=I(Me,2);Lt(Xe,17,()=>Object.entries(d),Hn,(Qe,Je)=>{var Ie=le(()=>Fn(u(Je),2));let He=()=>u(Ie)[0],Ne=()=>u(Ie)[1];var Ye=sn(),at=et(Ye);{var mt=Be=>{gu(Be,{get stroke(){return Ne().color},get yAccessorKey(){return He()}})};pe(at,Be=>{Ne().active&&Be(mt)})}H(Qe,Ye)}),H(Ge,qe)},$$slots:{default:!0}});var Dt=I(Ze,2);ou(Dt,{children:(Ge,lt)=>{{let qe=le(()=>Object.fromEntries(Object.entries(d).filter(([Te,Me])=>Me.active).map(([Te,Me])=>[Te,{text:Me.label,color:Me.color}])));Cu(Ge,{get labels(){return u(qe)},get formatTitle(){return A}})}},$$slots:{default:!0}}),H(Se,Fe)},$$slots:{default:!0}})}C(J),H(j,J)},L=j=>{var J=Lu();H(j,J)};pe(v,j=>{u(T).length>1?j(R):j(L,!1)})}C(he);var h=I(he,2);{var ge=j=>{var J=Fu(),Le=N(J),Pe=I(N(Le),2);Pe.__click=()=>re(Q,!u(Q));var Se=N(Pe,!0);C(Pe),C(Le);var De=I(Le,2);Lt(De,21,()=>Object.entries(u(ee)),Hn,(Qe,Je)=>{var Ie=le(()=>Fn(u(Je),2));let He=()=>u(Ie)[1];var Ne=Pu(),Ye=N(Ne),at=N(Ye),mt=N(at,!0);C(at);var Be=I(at,2),St=N(Be),jt=N(St,!0);C(St),C(Be);var Tt=I(Be,2),Et=N(Tt,!0);C(Tt),C(Ye),C(Ne),xe(()=>{$e(mt,He().icon),$e(jt,He().label),$e(Et,He().count)}),H(Qe,Ne)}),C(De);var Fe=I(De,4),Ze=N(Fe),Dt=N(Ze),Ge=I(N(Dt),4),lt=N(Ge,!0);C(Ge),C(Dt),C(Ze);var qe=I(Ze,2),Te=N(qe),Me=I(N(Te),4),Xe=N(Me,!0);C(Me),C(Te),C(qe),C(Fe),C(J),xe(()=>{jn(Pe,1,`flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium transition-colors ${u(Q)?"bg-indigo-500/20 text-indigo-400":"bg-zinc-700 text-zinc-400 hover:bg-zinc-600"}`),$e(Se,u(Q)?"This Month":"All Time"),$e(lt,u(i)?"—":u(c)),$e(Xe,u(i)?"—":u(l))}),H(j,J)};pe(h,j=>{u(T).length>0&&j(ge)})}C(B),C(K);var G=I(K,2);{var ye=j=>{var J=Hu();J.__click=()=>re(r,!0);var Le=N(J);ro(Le,{class:"h-6 w-6"}),C(J),H(j,J)};pe(G,j=>{!u(r)&&!to.isOpen&&j(ye)})}var p=I(G,2);ao(p,{get isOpen(){return u(r)},entry:null,onClose:()=>re(r,!1),onSave:F}),Ta(se,()=>u(g),j=>re(g,j)),Ta(ue,()=>u(_),j=>re(_,j)),H(W,O)},z=W=>{var O=Ou();H(W,O)};pe(x,W=>{u(n)?W(w):W(z,!1)},!0)}H(f,M)};pe(de,f=>{u(a)&&u(n)!==null?f(fe):f(ce,!1)})}C(q),H(e,q),ht()}oi(["click"]);export{el as component};
