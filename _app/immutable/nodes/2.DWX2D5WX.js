import{c as Yt,a as Y,f as we,e as Pe}from"../chunks/BqEl5C80.js";import{e as Zi,u as Qi,f as Ze,p as _t,o as ai,bc as O,k as u,a3 as Da,bd as ie,be as Xi,bf as z,bg as Ji,a as wt,h as $,i as T,t as ve,g as te,A as S,bh as je,bi as qt,m as ii,v as le,j as W,s as Ue,c as Er,bb as En,d as Ki,n as eo}from"../chunks/DVg-wcBP.js";import{s as Ae,d as oi,e as to}from"../chunks/Bj2CMk_O.js";import{l as no,s as ro,p as y,i as _e,a as Ut,b as _,c as j}from"../chunks/C66CeOwb.js";import{I as ao,s as si,b as ct,h as P,e as Ot,g as Gn,i as Yn,r as Sa,d as io,f as $r,a as oo}from"../chunks/DZ1IOtyI.js";import{L as so,b as Ta,P as co}from"../chunks/CX2Dg3vE.js";import{s as bt}from"../chunks/Bkout0r_.js";import{E as uo}from"../chunks/BUXqb3ZE.js";import{i as lo}from"../chunks/DyB6Jsl2.js";import{b as qr}from"../chunks/BciJOTpP.js";import{s as jn}from"../chunks/BHrWdpBd.js";class Ir{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var a=this.#e.get(t);a.delete(n),a.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){Ir.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var fo=new Ir({box:"border-box"});function Ca(e,t,n){var r=fo.observe(e,()=>n(e[t]));Zi(()=>(Qi(()=>n(e[t])),r))}function go(e,t){const n=no(t,["children","$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 15V3"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}],["path",{d:"m7 10 5 5 5-5"}]];ao(e,ro({name:"download"},()=>n,{get iconNode(){return r},children:(a,i)=>{var o=Yt(),s=Ze(o);si(s,t,"default",{}),Y(a,o)},$$slots:{default:!0}}))}function ho(e){return e===0?!0:e}function pt(e){return ho(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function mo(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}const yo=(e,t=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(void 0,r)},t)}};function fn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nr(e){let t,n,r;e.length!==2?(t=fn,n=(s,l)=>fn(e(s),l),r=(s,l)=>e(s)-l):(t=e===fn||e===xo?e:vo,n=e,r=e);function a(s,l,c=0,h=s.length){if(c<h){if(t(l,l)!==0)return h;do{const m=c+h>>>1;n(s[m],l)<0?c=m+1:h=m}while(c<h)}return c}function i(s,l,c=0,h=s.length){if(c<h){if(t(l,l)!==0)return h;do{const m=c+h>>>1;n(s[m],l)<=0?c=m+1:h=m}while(c<h)}return c}function o(s,l,c=0,h=s.length){const m=a(s,l,c,h-1);return m>c&&r(s[m-1],l)>-r(s[m],l)?m-1:m}return{left:a,center:o,right:i}}function vo(){return 0}function bo(e){return e===null?NaN:+e}const po=nr(fn),_o=po.right;nr(bo).center;class wo extends Set{constructor(t,n=So){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Mo(this,t))}add(t){return super.add(ko(this,t))}delete(t){return super.delete(Do(this,t))}}function Mo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ko({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Do({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function So(e){return e!==null&&typeof e=="object"?e.valueOf():e}const To=Math.sqrt(50),Co=Math.sqrt(10),zo=Math.sqrt(2);function qn(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=To?10:i>=Co?5:i>=zo?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?qn(e,t,n*2):[s,l,c]}function Ro(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?qn(t,e,n):qn(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Yr(e,t,n){return t=+t,e=+e,n=+n,qn(e,t,n)[2]}function jr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Yr(t,e,n):Yr(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function No(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(t),i=a.length;let o,s,l,c,h,m,d;const w=e.length;for(o=0;o<i;o+=1){for(d=new wo,c=a[o],h=t[c],s=0;s<w;s+=1)if(m=h(e[s]),Array.isArray(m)){const A=m.length;for(l=0;l<A;l+=1)d.add(m[l])}else d.add(m);const R=Array.from(d);(n.sort===!0||n[c]===!0)&&R.sort(fn),r[c]=R}return r}function $o(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,s,l,c,h,m,d;const w=e.length;for(i=0;i<a;i+=1){for(l=r[i],m=t[l],c=null,h=null,o=0;o<w;o+=1)if(d=m(e[o],o),Array.isArray(d)){const R=d.length;for(s=0;s<R;s+=1)d[s]!==!1&&d[s]!==void 0&&d[s]!==null&&Number.isNaN(d[s])===!1&&((c===null||d[s]<c)&&(c=d[s]),(h===null||d[s]>h)&&(h=d[s]))}else d!==!1&&d!==void 0&&d!==null&&Number.isNaN(d)===!1&&((c===null||d<c)&&(c=d),(h===null||d>h)&&(h=d));n[l]=[c,h]}return n}function un(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function ci(e){return!!(typeof e.bandwidth=="function"||un(Object.keys(e),["domain","range","unknown","copy"]))}function Uo(e,t,n){const r=Object.entries(n).reduce((i,[o,s])=>{const l=ci(s.scale)===!0?"ordinal":"other";return i[l]||(i[l]={}),i[l][o]=t[o],i},{ordinal:!1,other:!1});let a={};if(r.ordinal){const i=Object.fromEntries(Object.entries(n).map(([o,s])=>[o,s.sort]));a=No(e,r.ordinal,i)}return r.other&&(a={...a,...$o(e,r.other)}),a}function Ao(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function Nn(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?Ao(n[e],r):r}}function Br(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Vr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ui(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mn(){}var dn=.7,In=1/dn,Et="\\s*([+-]?\\d+)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lo=/^#([0-9a-f]{3,8})$/,Po=new RegExp(`^rgb\\(${Et},${Et},${Et}\\)$`),Ho=new RegExp(`^rgb\\(${nt},${nt},${nt}\\)$`),Fo=new RegExp(`^rgba\\(${Et},${Et},${Et},${gn}\\)$`),Oo=new RegExp(`^rgba\\(${nt},${nt},${nt},${gn}\\)$`),Eo=new RegExp(`^hsl\\(${gn},${nt},${nt}\\)$`),Yo=new RegExp(`^hsla\\(${gn},${nt},${nt},${gn}\\)$`),za={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vr(mn,hn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ra,formatHex:Ra,formatHex8:jo,formatHsl:Wo,formatRgb:Na,toString:Na});function Ra(){return this.rgb().formatHex()}function jo(){return this.rgb().formatHex8()}function Wo(){return li(this).formatHsl()}function Na(){return this.rgb().formatRgb()}function hn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Lo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$a(t):n===3?new Le(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$n(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$n(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Po.exec(e))?new Le(t[1],t[2],t[3],1):(t=Ho.exec(e))?new Le(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fo.exec(e))?$n(t[1],t[2],t[3],t[4]):(t=Oo.exec(e))?$n(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Eo.exec(e))?La(t[1],t[2]/100,t[3]/100,1):(t=Yo.exec(e))?La(t[1],t[2]/100,t[3]/100,t[4]):za.hasOwnProperty(e)?$a(za[e]):e==="transparent"?new Le(NaN,NaN,NaN,0):null}function $a(e){return new Le(e>>16&255,e>>8&255,e&255,1)}function $n(e,t,n,r){return r<=0&&(e=t=n=NaN),new Le(e,t,n,r)}function Go(e){return e instanceof mn||(e=hn(e)),e?(e=e.rgb(),new Le(e.r,e.g,e.b,e.opacity)):new Le}function Bn(e,t,n,r){return arguments.length===1?Go(e):new Le(e,t,n,r??1)}function Le(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Vr(Le,Bn,ui(mn,{brighter(e){return e=e==null?In:Math.pow(In,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dn:Math.pow(dn,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Le(Nt(this.r),Nt(this.g),Nt(this.b),Vn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ua,formatHex:Ua,formatHex8:qo,formatRgb:Aa,toString:Aa}));function Ua(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}`}function qo(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}${Rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Aa(){const e=Vn(this.opacity);return`${e===1?"rgb(":"rgba("}${Nt(this.r)}, ${Nt(this.g)}, ${Nt(this.b)}${e===1?")":`, ${e})`}`}function Vn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rt(e){return e=Nt(e),(e<16?"0":"")+e.toString(16)}function La(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qe(e,t,n,r)}function li(e){if(e instanceof Qe)return new Qe(e.h,e.s,e.l,e.opacity);if(e instanceof mn||(e=hn(e)),!e)return new Qe;if(e instanceof Qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Qe(o,s,l,e.opacity)}function Io(e,t,n,r){return arguments.length===1?li(e):new Qe(e,t,n,r??1)}function Qe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Vr(Qe,Io,ui(mn,{brighter(e){return e=e==null?In:Math.pow(In,e),new Qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dn:Math.pow(dn,e),new Qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Le(Ur(e>=240?e-240:e+120,a,r),Ur(e,a,r),Ur(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Qe(Pa(this.h),Un(this.s),Un(this.l),Vn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vn(this.opacity);return`${e===1?"hsl(":"hsla("}${Pa(this.h)}, ${Un(this.s)*100}%, ${Un(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pa(e){return e=(e||0)%360,e<0?e+360:e}function Un(e){return Math.max(0,Math.min(1,e||0))}function Ur(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Zr=e=>()=>e;function Bo(e,t){return function(n){return e+n*t}}function Vo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zo(e){return(e=+e)==1?fi:function(t,n){return n-t?Vo(t,n,e):Zr(isNaN(t)?n:t)}}function fi(e,t){var n=t-e;return n?Bo(e,n):Zr(isNaN(e)?t:e)}const Ha=(function e(t){var n=Zo(t);function r(a,i){var o=n((a=Bn(a)).r,(i=Bn(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=fi(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=s(h),a.b=l(h),a.opacity=c(h),a+""}}return r.gamma=e,r})(1);function Qo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Xo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Jo(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Qr(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function Ko(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Zn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function es(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Qr(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Wr.source,"g");function ts(e){return function(){return e}}function ns(e){return function(t){return e(t)+""}}function rs(e,t){var n=Wr.lastIndex=Ar.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Wr.exec(e))&&(a=Ar.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Zn(r,a)})),n=Ar.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?ns(l[0].x):ts(t):(t=l.length,function(c){for(var h=0,m;h<t;++h)s[(m=l[h]).i]=m.x(c);return s.join("")})}function Qr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Zr(t):(n==="number"?Zn:n==="string"?(r=hn(t))?(t=r,Ha):rs:t instanceof hn?Ha:t instanceof Date?Ko:Xo(t)?Qo:Array.isArray(t)?Jo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?es:Zn)(e,t)}function as(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function is(e){return function(){return e}}function os(e){return+e}var Fa=[0,1];function tt(e){return e}function Gr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:is(isNaN(t)?NaN:.5)}function ss(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function cs(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Gr(a,r),i=n(o,i)):(r=Gr(r,a),i=n(i,o)),function(s){return i(r(s))}}function us(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Gr(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=_o(e,s,1,r)-1;return i[l](a[l](s))}}function Xr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function di(){var e=Fa,t=Fa,n=Qr,r,a,i,o=tt,s,l,c;function h(){var d=Math.min(e.length,t.length);return o!==tt&&(o=ss(e[0],e[d-1])),s=d>2?us:cs,l=c=null,m}function m(d){return d==null||isNaN(d=+d)?i:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return m.invert=function(d){return o(a((c||(c=s(t,e.map(r),Zn)))(d)))},m.domain=function(d){return arguments.length?(e=Array.from(d,os),h()):e.slice()},m.range=function(d){return arguments.length?(t=Array.from(d),h()):t.slice()},m.rangeRound=function(d){return t=Array.from(d),n=as,h()},m.clamp=function(d){return arguments.length?(o=d?!0:tt,h()):o!==tt},m.interpolate=function(d){return arguments.length?(n=d,h()):n},m.unknown=function(d){return arguments.length?(i=d,m):i},function(d,w){return r=d,a=w,h()}}function gi(){return di()(tt,tt)}function ls(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function jt(e){return e=Qn(Math.abs(e)),e?e[1]:NaN}function fs(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ds(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xn(e){if(!(t=gs.exec(e)))throw new Error("invalid format: "+e);var t;return new Jr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xn.prototype=Jr.prototype;function Jr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hs(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var hi;function ms(e,t){var n=Qn(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(hi=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Qn(e,Math.max(0,t+i-1))[0]}function Oa(e,t){var n=Qn(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ea={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ls,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Oa(e*100,t),r:Oa,s:ms,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ya(e){return e}var ja=Array.prototype.map,Wa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ys(e){var t=e.grouping===void 0||e.thousands===void 0?Ya:fs(ja.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ya:ds(ja.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(m){m=Xn(m);var d=m.fill,w=m.align,R=m.sign,A=m.symbol,E=m.zero,oe=m.width,X=m.comma,I=m.precision,J=m.trim,H=m.type;H==="n"?(X=!0,H="g"):Ea[H]||(I===void 0&&(I=12),J=!0,H="g"),(E||d==="0"&&w==="=")&&(E=!0,d="0",w="=");var M=A==="$"?n:A==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",V=A==="$"?r:/[%p]/.test(H)?o:"",he=Ea[H],fe=/[defgprs%]/.test(H);I=I===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function ne(k){var ue=M,N=V,f,x,b;if(H==="c")N=he(k)+N,k="";else{k=+k;var C=k<0||1/k<0;if(k=isNaN(k)?l:he(Math.abs(k),I),J&&(k=hs(k)),C&&+k==0&&R!=="+"&&(C=!1),ue=(C?R==="("?R:s:R==="-"||R==="("?"":R)+ue,N=(H==="s"?Wa[8+hi/3]:"")+N+(C&&R==="("?")":""),fe){for(f=-1,x=k.length;++f<x;)if(b=k.charCodeAt(f),48>b||b>57){N=(b===46?a+k.slice(f+1):k.slice(f))+N,k=k.slice(0,f);break}}}X&&!E&&(k=t(k,1/0));var U=ue.length+k.length+N.length,D=U<oe?new Array(oe-U+1).join(d):"";switch(X&&E&&(k=t(D+k,D.length?oe-N.length:1/0),D=""),w){case"<":k=ue+k+N+D;break;case"=":k=ue+D+k+N;break;case"^":k=D.slice(0,U=D.length>>1)+ue+k+N+D.slice(U);break;default:k=D+ue+k+N;break}return i(k)}return ne.toString=function(){return m+""},ne}function h(m,d){var w=c((m=Xn(m),m.type="f",m)),R=Math.max(-8,Math.min(8,Math.floor(jt(d)/3)))*3,A=Math.pow(10,-R),E=Wa[8+R/3];return function(oe){return w(A*oe)+E}}return{format:c,formatPrefix:h}}var An,mi,yi;xs({thousands:",",grouping:[3],currency:["$",""]});function xs(e){return An=ys(e),mi=An.format,yi=An.formatPrefix,An}function vs(e){return Math.max(0,-jt(Math.abs(e)))}function bs(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(jt(t)/3)))*3-jt(Math.abs(e)))}function ps(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,jt(t)-jt(e))+1}function _s(e,t,n,r){var a=jr(e,t,n),i;switch(r=Xn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=bs(a,o))&&(r.precision=i),yi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ps(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=vs(a))&&(r.precision=i-(r.type==="%")*2);break}}return mi(r)}function xi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ro(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return _s(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,h=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);h-- >0;){if(c=Yr(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function Wn(){var e=gi();return e.copy=function(){return Xr(e,Wn())},Br.apply(e,arguments),xi(e)}function ws(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ga(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ms(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ks(e){return e<0?-e*e:e*e}function Ds(e){var t=e(tt,tt),n=1;function r(){return n===1?e(tt,tt):n===.5?e(Ms,ks):e(Ga(n),Ga(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},xi(t)}function vi(){var e=Ds(di());return e.copy=function(){return Xr(e,vi()).exponent(e.exponent())},Br.apply(e,arguments),e}function Ss(){return vi.apply(null,arguments).exponent(.5)}const Lr=new Date,Pr=new Date;function be(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>be(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Lr.setTime(+i),Pr.setTime(+o),e(Lr),e(Pr),Math.floor(n(Lr,Pr))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Jn=be(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?be(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jn);Jn.range;const ut=1e3,Ge=ut*60,lt=Ge*60,ft=lt*24,Kr=ft*7,qa=ft*30,Hr=ft*365,Ft=be(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ut)},(e,t)=>(t-e)/ut,e=>e.getUTCSeconds());Ft.range;const ea=be(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ut)},(e,t)=>{e.setTime(+e+t*Ge)},(e,t)=>(t-e)/Ge,e=>e.getMinutes());ea.range;const Ts=be(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ge)},(e,t)=>(t-e)/Ge,e=>e.getUTCMinutes());Ts.range;const ta=be(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ut-e.getMinutes()*Ge)},(e,t)=>{e.setTime(+e+t*lt)},(e,t)=>(t-e)/lt,e=>e.getHours());ta.range;const Cs=be(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*lt)},(e,t)=>(t-e)/lt,e=>e.getUTCHours());Cs.range;const yn=be(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ge)/ft,e=>e.getDate()-1);yn.range;const na=be(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ft,e=>e.getUTCDate()-1);na.range;const zs=be(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ft,e=>Math.floor(e/ft));zs.range;function At(e){return be(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ge)/Kr)}const rr=At(0),Kn=At(1),Rs=At(2),Ns=At(3),Wt=At(4),$s=At(5),Us=At(6);rr.range;Kn.range;Rs.range;Ns.range;Wt.range;$s.range;Us.range;function Lt(e){return be(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Kr)}const bi=Lt(0),er=Lt(1),As=Lt(2),Ls=Lt(3),Gt=Lt(4),Ps=Lt(5),Hs=Lt(6);bi.range;er.range;As.range;Ls.range;Gt.range;Ps.range;Hs.range;const ra=be(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ra.range;const Fs=be(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Fs.range;const dt=be(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());dt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:be(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});dt.range;const $t=be(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$t.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:be(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$t.range;function Os(e,t,n,r,a,i){const o=[[Ft,1,ut],[Ft,5,5*ut],[Ft,15,15*ut],[Ft,30,30*ut],[i,1,Ge],[i,5,5*Ge],[i,15,15*Ge],[i,30,30*Ge],[a,1,lt],[a,3,3*lt],[a,6,6*lt],[a,12,12*lt],[r,1,ft],[r,2,2*ft],[n,1,Kr],[t,1,qa],[t,3,3*qa],[e,1,Hr]];function s(c,h,m){const d=h<c;d&&([c,h]=[h,c]);const w=m&&typeof m.range=="function"?m:l(c,h,m),R=w?w.range(c,+h+1):[];return d?R.reverse():R}function l(c,h,m){const d=Math.abs(h-c)/m,w=nr(([,,E])=>E).right(o,d);if(w===o.length)return e.every(jr(c/Hr,h/Hr,m));if(w===0)return Jn.every(Math.max(jr(c,h,m),1));const[R,A]=o[d/o[w-1][2]<o[w][2]/d?w-1:w];return R.every(A)}return[s,l]}const[Es,Ys]=Os(dt,ra,rr,yn,ta,ea);function Fr(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Or(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function on(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function js(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=sn(a),h=cn(a),m=sn(i),d=cn(i),w=sn(o),R=cn(o),A=sn(s),E=cn(s),oe=sn(l),X=cn(l),I={a:C,A:U,b:D,B:G,c:null,d:Xa,e:Xa,f:fc,g:_c,G:Mc,H:cc,I:uc,j:lc,L:pi,m:dc,M:gc,p:q,q:re,Q:ei,s:ti,S:hc,u:mc,U:yc,V:xc,w:vc,W:bc,x:null,X:null,y:pc,Y:wc,Z:kc,"%":Ka},J={a:He,A:K,b:ce,B:de,c:null,d:Ja,e:Ja,f:Cc,g:Fc,G:Ec,H:Dc,I:Sc,j:Tc,L:wi,m:zc,M:Rc,p:ae,q:qe,Q:ei,s:ti,S:Nc,u:$c,U:Uc,V:Ac,w:Lc,W:Pc,x:null,X:null,y:Hc,Y:Oc,Z:Yc,"%":Ka},H={a:ne,A:k,b:ue,B:N,c:f,d:Za,e:Za,f:ac,g:Va,G:Ba,H:Qa,I:Qa,j:ec,L:rc,m:Ks,M:tc,p:fe,q:Js,Q:oc,s:sc,S:nc,u:Bs,U:Vs,V:Zs,w:Is,W:Qs,x,X:b,y:Va,Y:Ba,Z:Xs,"%":ic};I.x=M(n,I),I.X=M(r,I),I.c=M(t,I),J.x=M(n,J),J.X=M(r,J),J.c=M(t,J);function M(v,L){return function(F){var g=[],me=-1,B=0,ye=v.length,p,Fe,Ie;for(F instanceof Date||(F=new Date(+F));++me<ye;)v.charCodeAt(me)===37&&(g.push(v.slice(B,me)),(Fe=Ia[p=v.charAt(++me)])!=null?p=v.charAt(++me):Fe=p==="e"?" ":"0",(Ie=L[p])&&(p=Ie(F,Fe)),g.push(p),B=me+1);return g.push(v.slice(B,me)),g.join("")}}function V(v,L){return function(F){var g=on(1900,void 0,1),me=he(g,v,F+="",0),B,ye;if(me!=F.length)return null;if("Q"in g)return new Date(g.Q);if("s"in g)return new Date(g.s*1e3+("L"in g?g.L:0));if(L&&!("Z"in g)&&(g.Z=0),"p"in g&&(g.H=g.H%12+g.p*12),g.m===void 0&&(g.m="q"in g?g.q:0),"V"in g){if(g.V<1||g.V>53)return null;"w"in g||(g.w=1),"Z"in g?(B=Or(on(g.y,0,1)),ye=B.getUTCDay(),B=ye>4||ye===0?er.ceil(B):er(B),B=na.offset(B,(g.V-1)*7),g.y=B.getUTCFullYear(),g.m=B.getUTCMonth(),g.d=B.getUTCDate()+(g.w+6)%7):(B=Fr(on(g.y,0,1)),ye=B.getDay(),B=ye>4||ye===0?Kn.ceil(B):Kn(B),B=yn.offset(B,(g.V-1)*7),g.y=B.getFullYear(),g.m=B.getMonth(),g.d=B.getDate()+(g.w+6)%7)}else("W"in g||"U"in g)&&("w"in g||(g.w="u"in g?g.u%7:"W"in g?1:0),ye="Z"in g?Or(on(g.y,0,1)).getUTCDay():Fr(on(g.y,0,1)).getDay(),g.m=0,g.d="W"in g?(g.w+6)%7+g.W*7-(ye+5)%7:g.w+g.U*7-(ye+6)%7);return"Z"in g?(g.H+=g.Z/100|0,g.M+=g.Z%100,Or(g)):Fr(g)}}function he(v,L,F,g){for(var me=0,B=L.length,ye=F.length,p,Fe;me<B;){if(g>=ye)return-1;if(p=L.charCodeAt(me++),p===37){if(p=L.charAt(me++),Fe=H[p in Ia?L.charAt(me++):p],!Fe||(g=Fe(v,F,g))<0)return-1}else if(p!=F.charCodeAt(g++))return-1}return g}function fe(v,L,F){var g=c.exec(L.slice(F));return g?(v.p=h.get(g[0].toLowerCase()),F+g[0].length):-1}function ne(v,L,F){var g=w.exec(L.slice(F));return g?(v.w=R.get(g[0].toLowerCase()),F+g[0].length):-1}function k(v,L,F){var g=m.exec(L.slice(F));return g?(v.w=d.get(g[0].toLowerCase()),F+g[0].length):-1}function ue(v,L,F){var g=oe.exec(L.slice(F));return g?(v.m=X.get(g[0].toLowerCase()),F+g[0].length):-1}function N(v,L,F){var g=A.exec(L.slice(F));return g?(v.m=E.get(g[0].toLowerCase()),F+g[0].length):-1}function f(v,L,F){return he(v,t,L,F)}function x(v,L,F){return he(v,n,L,F)}function b(v,L,F){return he(v,r,L,F)}function C(v){return o[v.getDay()]}function U(v){return i[v.getDay()]}function D(v){return l[v.getMonth()]}function G(v){return s[v.getMonth()]}function q(v){return a[+(v.getHours()>=12)]}function re(v){return 1+~~(v.getMonth()/3)}function He(v){return o[v.getUTCDay()]}function K(v){return i[v.getUTCDay()]}function ce(v){return l[v.getUTCMonth()]}function de(v){return s[v.getUTCMonth()]}function ae(v){return a[+(v.getUTCHours()>=12)]}function qe(v){return 1+~~(v.getUTCMonth()/3)}return{format:function(v){var L=M(v+="",I);return L.toString=function(){return v},L},parse:function(v){var L=V(v+="",!1);return L.toString=function(){return v},L},utcFormat:function(v){var L=M(v+="",J);return L.toString=function(){return v},L},utcParse:function(v){var L=V(v+="",!0);return L.toString=function(){return v},L}}}var Ia={"-":"",_:" ",0:"0"},Me=/^\s*\d+/,Ws=/^%/,Gs=/[\\^$*+?|[\]().{}]/g;function Q(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function qs(e){return e.replace(Gs,"\\$&")}function sn(e){return new RegExp("^(?:"+e.map(qs).join("|")+")","i")}function cn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Is(e,t,n){var r=Me.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Bs(e,t,n){var r=Me.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Vs(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Zs(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Qs(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ba(e,t,n){var r=Me.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Va(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xs(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Js(e,t,n){var r=Me.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ks(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Za(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ec(e,t,n){var r=Me.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Qa(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function tc(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function nc(e,t,n){var r=Me.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function rc(e,t,n){var r=Me.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ac(e,t,n){var r=Me.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ic(e,t,n){var r=Ws.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function oc(e,t,n){var r=Me.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sc(e,t,n){var r=Me.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Xa(e,t){return Q(e.getDate(),t,2)}function cc(e,t){return Q(e.getHours(),t,2)}function uc(e,t){return Q(e.getHours()%12||12,t,2)}function lc(e,t){return Q(1+yn.count(dt(e),e),t,3)}function pi(e,t){return Q(e.getMilliseconds(),t,3)}function fc(e,t){return pi(e,t)+"000"}function dc(e,t){return Q(e.getMonth()+1,t,2)}function gc(e,t){return Q(e.getMinutes(),t,2)}function hc(e,t){return Q(e.getSeconds(),t,2)}function mc(e){var t=e.getDay();return t===0?7:t}function yc(e,t){return Q(rr.count(dt(e)-1,e),t,2)}function _i(e){var t=e.getDay();return t>=4||t===0?Wt(e):Wt.ceil(e)}function xc(e,t){return e=_i(e),Q(Wt.count(dt(e),e)+(dt(e).getDay()===4),t,2)}function vc(e){return e.getDay()}function bc(e,t){return Q(Kn.count(dt(e)-1,e),t,2)}function pc(e,t){return Q(e.getFullYear()%100,t,2)}function _c(e,t){return e=_i(e),Q(e.getFullYear()%100,t,2)}function wc(e,t){return Q(e.getFullYear()%1e4,t,4)}function Mc(e,t){var n=e.getDay();return e=n>=4||n===0?Wt(e):Wt.ceil(e),Q(e.getFullYear()%1e4,t,4)}function kc(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Q(t/60|0,"0",2)+Q(t%60,"0",2)}function Ja(e,t){return Q(e.getUTCDate(),t,2)}function Dc(e,t){return Q(e.getUTCHours(),t,2)}function Sc(e,t){return Q(e.getUTCHours()%12||12,t,2)}function Tc(e,t){return Q(1+na.count($t(e),e),t,3)}function wi(e,t){return Q(e.getUTCMilliseconds(),t,3)}function Cc(e,t){return wi(e,t)+"000"}function zc(e,t){return Q(e.getUTCMonth()+1,t,2)}function Rc(e,t){return Q(e.getUTCMinutes(),t,2)}function Nc(e,t){return Q(e.getUTCSeconds(),t,2)}function $c(e){var t=e.getUTCDay();return t===0?7:t}function Uc(e,t){return Q(bi.count($t(e)-1,e),t,2)}function Mi(e){var t=e.getUTCDay();return t>=4||t===0?Gt(e):Gt.ceil(e)}function Ac(e,t){return e=Mi(e),Q(Gt.count($t(e),e)+($t(e).getUTCDay()===4),t,2)}function Lc(e){return e.getUTCDay()}function Pc(e,t){return Q(er.count($t(e)-1,e),t,2)}function Hc(e,t){return Q(e.getUTCFullYear()%100,t,2)}function Fc(e,t){return e=Mi(e),Q(e.getUTCFullYear()%100,t,2)}function Oc(e,t){return Q(e.getUTCFullYear()%1e4,t,4)}function Ec(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Gt(e):Gt.ceil(e),Q(e.getUTCFullYear()%1e4,t,4)}function Yc(){return"+0000"}function Ka(){return"%"}function ei(e){return+e}function ti(e){return Math.floor(+e/1e3)}var Ht,aa;jc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jc(e){return Ht=js(e),aa=Ht.format,Ht.parse,Ht.utcFormat,Ht.utcParse,Ht}function Wc(e){return new Date(e)}function Gc(e){return e instanceof Date?+e:+new Date(+e)}function ki(e,t,n,r,a,i,o,s,l,c){var h=gi(),m=h.invert,d=h.domain,w=c(".%L"),R=c(":%S"),A=c("%I:%M"),E=c("%I %p"),oe=c("%a %d"),X=c("%b %d"),I=c("%B"),J=c("%Y");function H(M){return(l(M)<M?w:s(M)<M?R:o(M)<M?A:i(M)<M?E:r(M)<M?a(M)<M?oe:X:n(M)<M?I:J)(M)}return h.invert=function(M){return new Date(m(M))},h.domain=function(M){return arguments.length?d(Array.from(M,Gc)):d().map(Wc)},h.ticks=function(M){var V=d();return e(V[0],V[V.length-1],M??10)},h.tickFormat=function(M,V){return V==null?H:c(V)},h.nice=function(M){var V=d();return(!M||typeof M.range!="function")&&(M=t(V[0],V[V.length-1],M??10)),M?d(ws(V,M)):h},h.copy=function(){return Xr(h,ki(e,t,n,r,a,i,o,s,l,c))},h}function qc(){return Br.apply(ki(Es,Ys,dt,ra,rr,yn,ta,ea,Ft,aa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const ln={x:Wn,y:Wn,z:Wn,r:Ss};function Ic(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function ni(e){return e}function Bc(e){return t=>Math.log(e*t)}function Vc(e){return t=>e*Math.exp(t)}function Zc(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function Qc(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Ln(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Xc(e){const t=Ic(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Bc(n),ground:Vc(n),scaleType:t}}return t==="pow"?{lift:Ln(1),ground:Ln(1/1),scaleType:t}:t==="sqrt"?{lift:Ln(.5),ground:Ln(1/.5),scaleType:t}:t==="symlog"?{lift:Zc(1),ground:Qc(1),scaleType:t}:{lift:ni,ground:ni,scaleType:t}}function tr(e){return e.replace(/^\w/,t=>t.toUpperCase())}function Ne(e,t=""){return`scale${tr(t)}${tr(e)}`}function Di(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?Ne("band"):Ne("point");if(un(Object.keys(e),["domain","range","unknown","copy"]))return Ne("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return Ne("quantile",t);if(e.thresholds)return Ne("quantize",t);if(e.constant)return Ne("symlog",t);if(e.base)return Ne("log",t);if(e.exponent)return e.exponent()===.5?Ne("sqrt",t):Ne("pow",t);if(un(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return Ne("threshold");if(un(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Ne("identity");if(un(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Ne("radial");if(t)return Ne(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),Ne(r)}return Ne("linear")}const Jc=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Kc(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Jc.includes(Di(e))||ci(e)===!0)return e.domain();const{lift:n,ground:r}=Xc(e),a=e.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[o,s]=e.domain().map(w=>n(i?w.getTime():w)),[l,c]=e.range(),h=t[0]||0,m=t[1]||0,d=(s-o)/(Math.abs(c-l)-h-m);return[o-h*d,m*d+s].map(w=>r(i?new Date(w):w))}function eu(e,t,n,r,a){let i,o;return a===!0?(i=0,o=100):(i=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),r===!0?[o,i]:[i,o]}function tu(e,t,n,r,a,i){return a?typeof a=="function"?a({width:t,height:n}):a:eu(e,t,n,r,i)}function Pn(e){return function([n,r,a,i,o,s,l,c,h,m]){if(r===null)return null;const d=tu(e,l,c,s,h,m),w=n===ln[e]?n():n.copy();return w.domain(a),(!w.interpolator||typeof w.interpolator=="function"&&w.interpolator().name.startsWith("identity"))&&w.range(d),i&&w.domain(Kc(w,i)),(o===!0||typeof o=="number")&&(typeof w.nice=="function"?w.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),w}}function Hn([e,t]){return(n,r)=>{const a=e(n,r);return Array.isArray(a)?a.map(i=>t(i)):t(a)}}function Fn([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const We="    ";function nu(e){const{r:t,g:n,b:r,opacity:a}=Bn(e);return[t,n,r].every(i=>i>=0&&i<=255)?{r:t,g:n,b:r,o:a}:!1}function ru({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function au(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),iu(e.boundingBox),console.log("Data:"),console.log(We,e.data),e.flatData&&(console.log("flatData:"),console.log(We,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{ou(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function iu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${We}${t}:`,n)})}function ou(e,t,n){const r=Di(t);console.log(`${We}${e}:`),console.log(`${We}${We}Accessor: "${n.toString()}"`),console.log(`${We}${We}Type: ${r}`),ri(t,"domain"),ri(t,"range"," ")}function ri(e,t,n=""){const r=e[t](),a=cu(r);a?su(a,t,r):console.log(`${We}${We}${tr(t)}:${n}`,r)}function su(e,t,n){console.log(`${We}${We}${tr(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function cu(e){const t=[],n=e.map((r,a)=>{const i=nu(r);if(i!==!1){t.push(i);const o=a===e.length-1?" ":"";return`%c ${r}${o}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${ru(r)};`)]:null}function On(e){return!e||typeof e=="function"||Array.isArray(e)&&e.includes(null)?!1:e}var uu=we('<div class="layercake-container svelte-812kmt"><!></div>');function lu(e,t){_t(t,!1);const n=()=>_(Tt,"$_percentRange",p),r=()=>_(Zt,"$_containerWidth",p),a=()=>_(Qt,"$_containerHeight",p),i=()=>_(dr,"$_data",p),o=()=>_(xn,"$_flatData",p),s=()=>_(Xt,"$_x",p),l=()=>_(Jt,"$_y",p),c=()=>_(Kt,"$_z",p),h=()=>_(en,"$_r",p),m=()=>_(vn,"$_xNice",p),d=()=>_(bn,"$_yNice",p),w=()=>_(pn,"$_zNice",p),R=()=>_(_n,"$_rNice",p),A=()=>_(wn,"$_xReverse",p),E=()=>_(Mn,"$_yReverse",p),oe=()=>_(kn,"$_zReverse",p),X=()=>_(Dn,"$_rReverse",p),I=()=>_(Sn,"$_xPadding",p),J=()=>_(Tn,"$_yPadding",p),H=()=>_(Cn,"$_zPadding",p),M=()=>_(zn,"$_rPadding",p),V=()=>_(Sr,"$_custom",p),he=()=>_(Dr,"$_config",p),fe=()=>_(zr,"$box_d",p),ne=()=>_(Tr,"$activeGetters_d",p),k=()=>_(tn,"$xScale_d",p),ue=()=>_(nn,"$yScale_d",p),N=()=>_(rn,"$zScale_d",p),f=()=>_(an,"$rScale_d",p),x=()=>_(Ct,"$width_d",p),b=()=>_(zt,"$height_d",p),C=()=>_(Ma,"$aspectRatio_d",p),U=()=>_(_r,"$_xDomainSort",p),D=()=>_(wr,"$_yDomainSort",p),G=()=>_(Mr,"$_zDomainSort",p),q=()=>_(kr,"$_rDomainSort",p),re=()=>_(Cr,"$padding_d",p),He=()=>_(et,"$extents_d",p),K=()=>_(fa,"$xDomain_d",p),ce=()=>_(da,"$yDomain_d",p),de=()=>_(ga,"$zDomain_d",p),ae=()=>_(ha,"$rDomain_d",p),qe=()=>_(ba,"$xRange_d",p),v=()=>_(pa,"$yRange_d",p),L=()=>_(_a,"$zRange_d",p),F=()=>_(wa,"$rRange_d",p),g=()=>_(ma,"$xGet_d",p),me=()=>_(ya,"$yGet_d",p),B=()=>_(xa,"$zGet_d",p),ye=()=>_(va,"$rGet_d",p),[p,Fe]=Ut(),Ie=Da(),ar=yo(au,200);let Pt=y(t,"ssr",8,!1),ir=y(t,"pointerEvents",8,!0),Mt=y(t,"position",8,"relative"),ee=y(t,"percentRange",8,!1),ge=y(t,"width",8,void 0),Ee=y(t,"height",8,void 0),Se=y(t,"containerWidth",28,()=>ge()||100),pe=y(t,"containerHeight",28,()=>Ee()||100),$e=y(t,"element",12,void 0),Te=y(t,"x",8,void 0),Ce=y(t,"y",8,void 0),Be=y(t,"z",8,void 0),Oe=y(t,"r",8,void 0),Xe=y(t,"data",24,()=>[]),ze=y(t,"xDomain",8,void 0),Re=y(t,"yDomain",8,void 0),ke=y(t,"zDomain",8,void 0),Je=y(t,"rDomain",8,void 0),gt=y(t,"xNice",8,!1),ht=y(t,"yNice",8,!1),rt=y(t,"zNice",8,!1),kt=y(t,"rNice",8,!1),mt=y(t,"xPadding",8,void 0),yt=y(t,"yPadding",8,void 0),Dt=y(t,"zPadding",8,void 0),at=y(t,"rPadding",8,void 0),Ve=y(t,"xScale",24,()=>ln.x),xt=y(t,"yScale",24,()=>ln.y),St=y(t,"zScale",24,()=>ln.z),It=y(t,"rScale",24,()=>ln.r),Ke=y(t,"xRange",8,void 0),it=y(t,"yRange",8,void 0),vt=y(t,"zRange",8,void 0),ot=y(t,"rRange",8,void 0),Bt=y(t,"xReverse",8,!1),or=y(t,"yReverse",8,void 0),sr=y(t,"zReverse",8,!1),cr=y(t,"rReverse",8,!1),Si=y(t,"xDomainSort",8,!1),Ti=y(t,"yDomainSort",8,!1),Ci=y(t,"zDomainSort",8,!1),zi=y(t,"rDomainSort",8,!1),ur=y(t,"padding",24,()=>({})),Vt=y(t,"flatData",8,void 0),lr=y(t,"custom",24,()=>({})),ia=y(t,"debug",8,!1),Ri=y(t,"verbose",8,!0),fr=!1;ai(()=>{fr=!0});const Z=Da({}),Tt=O(ee()),Zt=O(Se()),Qt=O(pe()),dr=O(Xe()),xn=O(Vt()||Xe()),oa=O(ur()),Xt=O(pt(Te())),Jt=O(pt(Ce())),Kt=O(pt(Be())),en=O(pt(Oe())),gr=O(ze()),hr=O(Re()),mr=O(ke()),yr=O(Je()),vn=O(gt()),bn=O(ht()),pn=O(rt()),_n=O(kt()),wn=O(Bt()),Mn=O(u(Ie)),kn=O(sr()),Dn=O(cr()),Sn=O(mt()),Tn=O(yt()),Cn=O(Dt()),zn=O(at()),sa=O(Ke()),ca=O(it()),ua=O(vt()),la=O(ot()),xr=O(Ve()),vr=O(xt()),br=O(St()),pr=O(It()),_r=O(Si()),wr=O(Ti()),Mr=O(Ci()),kr=O(zi()),Dr=O(u(Z)),Sr=O(lr()),Tr=ie([Xt,Jt,Kt,en],([se,De,Ye,xe])=>{const st={};return se&&(st.x=se),De&&(st.y=De),Ye&&(st.z=Ye),xe&&(st.r=xe),st}),Cr=ie([oa,Zt,Qt],([se])=>Object.assign({top:0,right:0,bottom:0,left:0},se)),zr=ie([Zt,Qt,Cr],([se,De,Ye])=>{const xe={};return xe.top=Ye.top,xe.right=se-Ye.right,xe.bottom=De-Ye.bottom,xe.left=Ye.left,xe.width=xe.right-xe.left,xe.height=xe.bottom-xe.top,Ri()===!0&&(xe.width<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),xe.height<=0&&fr===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),xe}),Ct=ie([zr],([se])=>se.width),zt=ie([zr],([se])=>se.height),et=ie([xn,Tr,xr,vr,pr,br,gr,hr,mr,yr,_r,wr,Mr,kr],([se,De,Ye,xe,st,Hi,Fi,Oi,Ei,Yi,ji,Wi,Gi,qi])=>{const Ii={x:{scale:Ye,sort:ji},y:{scale:xe,sort:Wi},r:{scale:st,sort:qi},z:{scale:Hi,sort:Gi}},Rr=Object.fromEntries([["x",On(Fi)],["y",On(Oi)],["z",On(Ei)],["r",On(Yi)]].filter(([Rn,Vi])=>Vi!==!1)),Nr=mo(De,Rr),Bi=Object.fromEntries(Object.keys(Nr).map(Rn=>[Rn,Ii[Rn]]));return Object.keys(Nr).length>0?{...Uo(se,Nr,Bi),...Rr}:Rr}),fa=ie([et,gr],Nn("x")),da=ie([et,hr],Nn("y")),ga=ie([et,mr],Nn("z")),ha=ie([et,yr],Nn("r")),tn=ie([xr,et,fa,Sn,vn,wn,Ct,zt,sa,Tt],Pn("x")),ma=ie([Xt,tn],Hn),nn=ie([vr,et,da,Tn,bn,Mn,Ct,zt,ca,Tt],Pn("y")),ya=ie([Jt,nn],Hn),rn=ie([br,et,ga,Cn,pn,kn,Ct,zt,ua,Tt],Pn("z")),xa=ie([Kt,rn],Hn),an=ie([pr,et,ha,zn,_n,Dn,Ct,zt,la,Tt],Pn("r")),va=ie([en,an],Hn),Ni=ie(tn,se=>se.domain()),$i=ie(nn,se=>se.domain()),Ui=ie(rn,se=>se.domain()),Ai=ie(an,se=>se.domain()),ba=ie([tn],Fn),pa=ie([nn],Fn),_a=ie([rn],Fn),wa=ie([an],Fn),Ma=ie([Ct,zt],([se,De])=>se/De);Xi("LayerCake",{activeGetters:Tr,width:Ct,height:zt,percentRange:Tt,aspectRatio:Ma,containerWidth:Zt,containerHeight:Qt,x:Xt,y:Jt,z:Kt,r:en,custom:Sr,data:dr,xNice:vn,yNice:bn,zNice:pn,rNice:_n,xDomainSort:_r,yDomainSort:wr,zDomainSort:Mr,rDomainSort:kr,xReverse:wn,yReverse:Mn,zReverse:kn,rReverse:Dn,xPadding:Sn,yPadding:Tn,zPadding:Cn,rPadding:zn,padding:Cr,flatData:xn,extents:et,xDomain:Ni,yDomain:$i,zDomain:Ui,rDomain:Ai,xRange:ba,yRange:pa,zRange:_a,rRange:wa,config:Dr,xScale:tn,xGet:ma,yScale:nn,yGet:ya,zScale:rn,zGet:xa,rScale:an,rGet:va}),z(()=>(S(or()),S(xt())),()=>{te(Ie,typeof or()>"u"?typeof xt().bandwidth!="function":or())}),z(()=>S(Te()),()=>{Te()&&je(Z,u(Z).x=Te())}),z(()=>S(Ce()),()=>{Ce()&&je(Z,u(Z).y=Ce())}),z(()=>S(Be()),()=>{Be()&&je(Z,u(Z).z=Be())}),z(()=>S(Oe()),()=>{Oe()&&je(Z,u(Z).r=Oe())}),z(()=>S(ze()),()=>{ze()&&je(Z,u(Z).xDomain=ze())}),z(()=>S(Re()),()=>{Re()&&je(Z,u(Z).yDomain=Re())}),z(()=>S(ke()),()=>{ke()&&je(Z,u(Z).zDomain=ke())}),z(()=>S(Je()),()=>{Je()&&je(Z,u(Z).rDomain=Je())}),z(()=>S(Ke()),()=>{Ke()&&je(Z,u(Z).xRange=Ke())}),z(()=>S(it()),()=>{it()&&je(Z,u(Z).yRange=it())}),z(()=>S(vt()),()=>{vt()&&je(Z,u(Z).zRange=vt())}),z(()=>S(ot()),()=>{ot()&&je(Z,u(Z).rRange=ot())}),z(()=>S(ee()),()=>{j(Tt,ee())}),z(()=>S(Se()),()=>{j(Zt,Se())}),z(()=>S(pe()),()=>{j(Qt,pe())}),z(()=>S(Xe()),()=>{j(dr,Xe())}),z(()=>(S(Vt()),S(Xe())),()=>{j(xn,Vt()||Xe())}),z(()=>S(ur()),()=>{j(oa,ur())}),z(()=>S(Te()),()=>{j(Xt,pt(Te()))}),z(()=>S(Ce()),()=>{j(Jt,pt(Ce()))}),z(()=>S(Be()),()=>{j(Kt,pt(Be()))}),z(()=>S(Oe()),()=>{j(en,pt(Oe()))}),z(()=>S(ze()),()=>{j(gr,ze())}),z(()=>S(Re()),()=>{j(hr,Re())}),z(()=>S(ke()),()=>{j(mr,ke())}),z(()=>S(Je()),()=>{j(yr,Je())}),z(()=>S(gt()),()=>{j(vn,gt())}),z(()=>S(ht()),()=>{j(bn,ht())}),z(()=>S(rt()),()=>{j(pn,rt())}),z(()=>S(kt()),()=>{j(_n,kt())}),z(()=>S(Bt()),()=>{j(wn,Bt())}),z(()=>u(Ie),()=>{j(Mn,u(Ie))}),z(()=>S(sr()),()=>{j(kn,sr())}),z(()=>S(cr()),()=>{j(Dn,cr())}),z(()=>S(mt()),()=>{j(Sn,mt())}),z(()=>S(yt()),()=>{j(Tn,yt())}),z(()=>S(Dt()),()=>{j(Cn,Dt())}),z(()=>S(at()),()=>{j(zn,at())}),z(()=>S(Ke()),()=>{j(sa,Ke())}),z(()=>S(it()),()=>{j(ca,it())}),z(()=>S(vt()),()=>{j(ua,vt())}),z(()=>S(ot()),()=>{j(la,ot())}),z(()=>S(Ve()),()=>{j(xr,Ve())}),z(()=>S(xt()),()=>{j(vr,xt())}),z(()=>S(St()),()=>{j(br,St())}),z(()=>S(It()),()=>{j(pr,It())}),z(()=>S(lr()),()=>{j(Sr,lr())}),z(()=>u(Z),()=>{j(Dr,u(Z))}),z(()=>(fe(),S(ia()),S(Pt()),i(),S(Vt()),o(),ne(),u(Z),k(),ue(),N(),f()),()=>{fe()&&ia()===!0&&(Pt()===!0||typeof window<"u")&&ar({data:i(),flatData:typeof Vt()<"u"?o():null,boundingBox:fe(),activeGetters:ne(),x:u(Z).x,y:u(Z).y,z:u(Z).z,r:u(Z).r,xScale:k(),yScale:ue(),zScale:N(),rScale:f()})}),Ji(),lo();var ka=Yt(),Li=Ze(ka);{var Pi=se=>{var De=uu();let Ye;var xe=$(De);si(xe,t,"default",{get element(){return $e()},get width(){return x()},get height(){return b()},get aspectRatio(){return C()},get containerWidth(){return r()},get containerHeight(){return a()},get activeGetters(){return ne()},get percentRange(){return n()},get x(){return s()},get y(){return l()},get z(){return c()},get r(){return h()},get custom(){return V()},get data(){return i()},get xNice(){return m()},get yNice(){return d()},get zNice(){return w()},get rNice(){return R()},get xDomainSort(){return U()},get yDomainSort(){return D()},get zDomainSort(){return G()},get rDomainSort(){return q()},get xReverse(){return A()},get yReverse(){return E()},get zReverse(){return oe()},get rReverse(){return X()},get xPadding(){return I()},get yPadding(){return J()},get zPadding(){return H()},get rPadding(){return M()},get padding(){return re()},get flatData(){return o()},get extents(){return He()},get xDomain(){return K()},get yDomain(){return ce()},get zDomain(){return de()},get rDomain(){return ae()},get xRange(){return qe()},get yRange(){return v()},get zRange(){return L()},get rRange(){return F()},get config(){return he()},get xScale(){return k()},get xGet(){return g()},get yScale(){return ue()},get yGet(){return me()},get zScale(){return N()},get zGet(){return B()},get rScale(){return f()},get rGet(){return ye()}}),T(De),qr(De,st=>$e(st),()=>$e()),ve(()=>Ye=ct(De,"",Ye,{position:Mt(),top:Mt()==="absolute"?"0":null,right:Mt()==="absolute"?"0":null,bottom:Mt()==="absolute"?"0":null,left:Mt()==="absolute"?"0":null,"pointer-events":ir()===!1?"none":null})),Ca(De,"clientWidth",Se),Ca(De,"clientHeight",pe),Y(se,De)};_e(Li,se=>{(Pt()===!0||typeof window<"u")&&se(Pi)})}Y(e,ka),wt(),Fe()}var fu=we('<div class="layercake-layout-html svelte-5lwx3b"><!></div>');function du(e,t){_t(t,!0);const n=()=>_(i,"$padding",r),[r,a]=Ut(),{padding:i}=qt("LayerCake");let o=y(t,"element",15,void 0),s=y(t,"zIndex",3,void 0),l=y(t,"pointerEvents",3,void 0),c=y(t,"role",3,void 0),h=y(t,"label",3,void 0),m=y(t,"labelledBy",3,void 0),d=y(t,"describedBy",3,void 0),w=y(t,"overflow",3,"visible"),R=le(()=>c()||(h()||m()||d()?"figure":void 0));var A=fu();let E;var oe=$(A);jn(oe,()=>t.children??ii,()=>({element:o()})),T(A),qr(A,X=>o(X),()=>o()),ve(()=>{P(A,"role",u(R)),P(A,"aria-label",h()),P(A,"aria-labelledby",m()),P(A,"aria-describedby",d()),E=ct(A,"",E,{"z-index":s(),"pointer-events":l()===!1?"none":null,top:n().top+"px",right:n().right+"px",bottom:n().bottom+"px",left:n().left+"px",overflow:w()})}),Y(e,A),wt(),a()}var gu=Pe("<title><!></title>"),hu=Pe("<title> </title>"),mu=Pe("<defs><!></defs>"),yu=Pe('<svg class="layercake-layout-svg svelte-vzq0jw"><!><!><!></svg>');function xu(e,t){_t(t,!0);const n=()=>_(X,"$containerWidth",i),r=()=>_(I,"$containerHeight",i),a=()=>_(J,"$padding",i),[i,o]=Ut();let s=y(t,"element",15,void 0),l=y(t,"zIndex",3,void 0),c=y(t,"pointerEvents",3,void 0),h=y(t,"viewBox",3,void 0),m=y(t,"label",3,void 0),d=y(t,"labelledBy",3,void 0),w=y(t,"describedBy",3,void 0),R=y(t,"titleText",3,void 0),A=y(t,"title",3,void 0),E=y(t,"defs",3,void 0),oe=y(t,"overflow",3,"visible");const{containerWidth:X,containerHeight:I,padding:J}=qt("LayerCake");var H=yu();let M;var V=$(H);{var he=N=>{var f=gu(),x=$(f);jn(x,A),T(f),Y(N,f)},fe=N=>{var f=Yt(),x=Ze(f);{var b=C=>{var U=hu(),D=$(U,!0);T(U),ve(()=>Ae(D,R())),Y(C,U)};_e(x,C=>{R()&&C(b)},!0)}Y(N,f)};_e(V,N=>{typeof A()=="function"?N(he):N(fe,!1)})}var ne=W(V);{var k=N=>{var f=mu(),x=$(f);jn(x,E),T(f),Y(N,f)};_e(ne,N=>{typeof E()=="function"&&N(k)})}var ue=W(ne);jn(ue,()=>t.children??ii,()=>({element:s()})),T(H),qr(H,N=>s(N),()=>s()),ve(()=>{P(H,"viewBox",h()),P(H,"width",n()),P(H,"height",r()),P(H,"aria-label",m()),P(H,"aria-labelledby",d()),P(H,"aria-describedby",w()),M=ct(H,"",M,{"z-index":l(),"pointer-events":c()===!1?"none":null,top:a().top+"px",left:a().left+"px",width:`calc(100% - ${a().left+a().right}px)`,height:`calc(100% - ${a().top+a().bottom}px)`,overflow:oe()})}),Y(e,H),wt(),o()}var vu=Pe('<path class="path-line svelte-gmbklp"></path>');function bu(e,t){_t(t,!0);const n=()=>_(l,"$data",o),r=()=>_(c,"$xGet",o),a=()=>_(m,"$yScale",o),i=()=>_(h,"$yGet",o),[o,s]=Ut(),{data:l,xGet:c,yGet:h,yScale:m}=qt("LayerCake");let d=y(t,"stroke",3,"#ab00d6"),w=y(t,"yAccessorKey",3,null),R=le(()=>"M"+n().filter(E=>w()?E[w()]!=null:!0).map(E=>{const oe=r()(E),X=w()?a()(E[w()]):i()(E);return oe+","+X}).join("L"));var A=vu();ve(()=>{P(A,"d",u(R)),P(A,"stroke",d())}),Y(e,A),wt(),s()}var pu=Pe('<line class="baseline svelte-4vwzuc" x1="0"></line>'),_u=Pe('<line class="gridline svelte-4vwzuc" y2="0"></line>'),wu=Pe('<line class="tick-mark svelte-4vwzuc"></line>'),Mu=Pe('<!><g><!><!><text class="svelte-4vwzuc"> </text></g>',1),ku=Pe("<g></g>");function Du(e,t){_t(t,!0);const n=()=>_(h,"$xScale",o),r=()=>_(c,"$height",o),a=()=>_(l,"$width",o),i=()=>_(m,"$yRange",o),[o,s]=Ut(),{width:l,height:c,xScale:h,yRange:m}=qt("LayerCake");let d=y(t,"tickMarks",3,!1),w=y(t,"gridlines",3,!0),R=y(t,"tickMarkLength",3,6),A=y(t,"baseline",3,!1),E=y(t,"snapLabels",3,!1),oe=y(t,"format",3,N=>N),X=y(t,"ticks",3,void 0),I=y(t,"tickGutter",3,0),J=y(t,"dx",3,0),H=y(t,"dy",3,0),M=le(()=>d()===!0?R()??6:0),V=le(()=>typeof n().bandwidth=="function"),he=le(()=>Array.isArray(X())?X():u(V)?n().domain():typeof X()=="function"?X()(n().ticks()):n().ticks(X())),fe=le(()=>u(V)?n().bandwidth()/2:0);function ne(N){if(E()===!0){if(N===0)return"start";if(N===u(he).length-1)return"end"}return"middle"}var k=ku();let ue;Ot(k,22,()=>u(he),N=>N,(N,f,x)=>{var b=Mu(),C=Ze(b);{var U=de=>{var ae=pu();ve(()=>{P(ae,"y1",r()),P(ae,"y2",r()),P(ae,"x2",a())}),Y(de,ae)};_e(C,de=>{A()===!0&&de(U)})}var D=W(C),G=$(D);{var q=de=>{var ae=_u();ve(()=>{P(ae,"x1",u(fe)),P(ae,"x2",u(fe)),P(ae,"y1",-r())}),Y(de,ae)};_e(G,de=>{w()===!0&&de(q)})}var re=W(G);{var He=de=>{var ae=wu();ve(()=>{P(ae,"x1",u(fe)),P(ae,"x2",u(fe)),P(ae,"y1",I()),P(ae,"y2",I()+u(M))}),Y(de,ae)};_e(re,de=>{d()===!0&&de(He)})}var K=W(re),ce=$(K,!0);T(K),T(D),ve((de,ae,qe,v)=>{Gn(D,0,`tick tick-${u(x)??""}`,"svelte-4vwzuc"),P(D,"transform",`translate(${de??""},${ae??""})`),P(K,"x",u(fe)),P(K,"y",I()+u(M)),P(K,"dx",J()),P(K,"dy",H()),P(K,"text-anchor",qe),Ae(ce,v)},[()=>n()(f),()=>Math.max(...i()),()=>ne(u(x)),()=>oe()(f)]),Y(N,b)}),T(k),ve(()=>ue=Gn(k,0,"axis x-axis svelte-4vwzuc",null,ue,{snapLabels:E()})),Y(e,k),wt(),s()}var Su=Pe('<line class="gridline svelte-mmstdn"></line>'),Tu=Pe('<line class="tick-mark svelte-mmstdn"></line>'),Cu=Pe('<g><!><!><text class="svelte-mmstdn"> </text></g>'),zu=Pe('<g class="axis y-axis"></g>');function Ru(e,t){_t(t,!0);const n=()=>_(l,"$yScale",i),r=()=>_(s,"$xRange",i),a=()=>_(c,"$width",i),[i,o]=Ut(),{xRange:s,yScale:l,width:c}=qt("LayerCake");let h=y(t,"tickMarks",3,!1),m=y(t,"labelPosition",3,"even"),d=y(t,"snapBaselineLabel",3,!1),w=y(t,"gridlines",3,!0),R=y(t,"tickMarkLength",3,void 0),A=y(t,"format",3,f=>f),E=y(t,"ticks",3,4),oe=y(t,"tickGutter",3,0),X=y(t,"dx",3,0),I=y(t,"dy",3,0),J=y(t,"charPixelWidth",3,7.25);function H(f,x){return x===","||x==="."?f+J()*.5:f+J()}let M=le(()=>typeof n().bandwidth=="function"),V=le(()=>Array.isArray(E())?E():u(M)?n().domain():typeof E()=="function"?E()(n().ticks()):n().ticks(E())),he=le(()=>Math.max(10,Math.max(...u(V).map(f=>A()(f).toString().split("").reduce(H,0))))),fe=le(()=>h()===!0?m()==="above"?R()??u(he):R()??6:0),ne=le(()=>-oe()-(m()==="above"?u(he):u(fe))),k=le(()=>u(M)?n().bandwidth()/2:0),ue=le(()=>Math.max(...u(V).map(n())));var N=zu();Ot(N,20,()=>u(V),f=>f,(f,x)=>{const b=le(()=>n()(x));var C=Cu(),U=$(C);{var D=K=>{var ce=Su();ve(()=>{P(ce,"x1",u(ne)),P(ce,"x2",a()),P(ce,"y1",u(k)),P(ce,"y2",u(k))}),Y(K,ce)};_e(U,K=>{w()===!0&&K(D)})}var G=W(U);{var q=K=>{var ce=Tu();ve(()=>{P(ce,"x1",u(ne)),P(ce,"x2",u(ne)+u(fe)),P(ce,"y1",u(k)),P(ce,"y2",u(k))}),Y(K,ce)};_e(G,K=>{h()===!0&&K(q)})}var re=W(G),He=$(re,!0);T(re),T(C),ve(K=>{Gn(C,0,`tick tick-${x??""}`,"svelte-mmstdn"),P(C,"transform",`translate(${r()[0]??""}, ${u(b)??""})`),P(re,"x1",u(ne)),P(re,"y",u(k)),P(re,"dx",X()+(m()==="even"?-3:0)),P(re,"text-anchor",m()==="above"?"start":"end"),P(re,"dy",I()+(m()==="above"||d()===!0&&u(b)===u(ue)?-3:4)),Ae(He,K)},[()=>A()(x)]),Y(f,C)}),T(N),Y(e,N),wt(),o()}var Nu=we('<div class="flex items-center gap-2"><div class="h-2 w-2 rounded-full"></div> <span> </span> <span class="font-mono"> </span></div>'),$u=we('<div class="tooltip hidden md:block svelte-b0p9nb"><div class="line svelte-b0p9nb"></div> <div class="content pointer-events-none absolute top-0 z-50 mt-4 -translate-x-1/2 transform rounded border border-gray-200 bg-white p-2 text-xs whitespace-nowrap text-zinc-800 shadow"><div class="mb-1 font-bold"> </div> <!></div></div>'),Uu=we('<div class="tooltip-trigger hidden md:block svelte-b0p9nb"></div> <!>',1);function Au(e,t){_t(t,!0);const n=()=>_(R,"$xGet",s),r=()=>_(d,"$xScale",s),a=()=>_(c,"$data",s),i=()=>_(h,"$width",s),o=()=>_(m,"$height",s),[s,l]=Ut(),{data:c,width:h,height:m,xScale:d,yGet:w,xGet:R,config:A}=qt("LayerCake");let E=y(t,"formatTitle",3,f=>f),oe=y(t,"formatValue",3,f=>f),X=y(t,"labels",19,()=>({})),I=Ue(!1),J=Ue(Er({})),H=Ue(0);const M=nr(f=>n()(f)).right;function V(f){const{left:x,top:b}=f.currentTarget.getBoundingClientRect(),C=f.clientX-x,U=r().invert(C),D=M(a(),U,1),G=a()[D-1],q=a()[D],re=!G||!q?G||q:U-n()(G)>n()(q)-U?q:G;re?(te(J,re,!0),te(H,r()(n()(re)),!0),te(I,!0)):te(I,!1)}function he(){te(I,!1)}var fe=Uu(),ne=Ze(fe);ne.__mousemove=V;let k;var ue=W(ne,2);{var N=f=>{var x=$u(),b=$(x);let C;var U=W(b,2),D=$(U),G=$(D,!0);T(D);var q=W(D,2);Ot(q,17,()=>Object.entries(X()),Yn,(re,He)=>{var K=le(()=>En(u(He),2));let ce=()=>u(K)[0],de=()=>u(K)[1];var ae=Yt(),qe=Ze(ae);{var v=L=>{var F=Nu(),g=$(F);let me;var B=W(g,2),ye=$(B);T(B);var p=W(B,2),Fe=$(p,!0);T(p),T(F),ve(Ie=>{me=ct(g,"",me,{"background-color":de().color}),Ae(ye,`${de().text??""}:`),Ae(Fe,Ie)},[()=>oe()(u(J)[ce()],ce())]),Y(L,F)};_e(qe,L=>{u(J)[ce()]!=null&&L(v)})}Y(re,ae)}),T(U),T(x),ve(re=>{ct(x,`left:${u(H)??""}px; top: 0px;`),C=ct(b,"",C,{height:`${o()??""}px`}),Ae(G,re)},[()=>E()(n()(u(J)))]),Y(f,x)};_e(ue,f=>{u(I)&&u(J)&&f(N)})}ve(()=>k=ct(ne,"",k,{width:`${i()??""}px`,height:`${o()??""}px`})),to("mouseleave",ne,he),Y(e,fe),wt(),l()}oi(["mousemove"]);var Lu=we('<div class="flex h-64 items-center justify-center"><!></div>'),Pu=we('<button class="rounded-full border px-3 py-1 text-xs font-medium transition-colors"> </button>'),Hu=we('<button class="text-xs text-indigo-400 underline hover:text-indigo-300">Reset</button>'),Fu=we("<!> <!> <!>",1),Ou=we("<!> <!>",1),Eu=we('<div class="relative h-[400px] w-full rounded-lg bg-zinc-900 p-4 shadow-lg"><!></div>'),Yu=we('<div class="rounded-lg bg-zinc-900 p-8 text-center text-zinc-400 shadow-lg">Not enough data to display chart. Add more entries!</div>'),ju=we('<div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg"> </span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300"> </div></div> <div class="text-xl font-bold text-white"> </div></div></div>'),Wu=we('<div class="space-y-3"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold text-zinc-100">Events</h2> <button> </button></div> <div class="grid grid-cols-2 gap-2"></div> <div class="pt-2"><h2 class="text-lg font-semibold text-zinc-100">Projects</h2></div> <div class="grid grid-cols-2 gap-2"><div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">📝</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Applied Art Calls</div></div> <div class="text-xl font-bold text-white"> </div></div></div> <div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">✅</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Completed Projects</div></div> <div class="text-xl font-bold text-white"> </div></div></div> <div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">☑️</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Completed Tasks</div></div> <div class="text-xl font-bold text-white"> </div></div></div></div></div>'),Gu=we('<button class="fixed right-8 bottom-8 z-50 rounded-full p-4 text-white shadow-lg transition-all hover:scale-105 hover:brightness-110" aria-label="Create New Entry"><!></button>'),qu=we('<div class="space-y-4"><div class="grid gap-4 lg:grid-cols-3"><div class="space-y-3 lg:col-span-2"><h2 class="text-lg font-bold text-zinc-100">Dashboard</h2> <div class="space-y-3 rounded-lg bg-zinc-900 p-4 shadow-lg"><div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Metrics:</span> <div class="flex flex-wrap gap-2"></div></div> <div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Date Range:</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <span class="text-zinc-500">to</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <!></div></div> <!> <div class="flex justify-end pt-2"><button class="flex items-center gap-2 rounded-lg bg-zinc-800 px-4 py-2 text-sm font-medium text-zinc-300 transition-colors hover:bg-zinc-700 hover:text-white"><!> Backup Database</button></div></div> <!></div></div> <!> <!>',1),Iu=we('<div class="py-16 text-center"><h2 class="text-2xl font-semibold text-zinc-100">Welcome to CG Tracker</h2> <p class="mt-3 text-zinc-400">Please log in to view your progress and start tracking.</p></div>'),Bu=we("<div><!></div>");function ol(e,t){_t(t,!0);let n=Ue(null),r=Ue(!1),a=Ue(!0),i=Ue(!1),o=Ue(Er([])),s=Ue(0),l=Ue(0),c=Ue(0),h=le(()=>u(o).map(f=>({...f,created_at:new Date(f.created_at)})).sort((f,x)=>f.created_at.getTime()-x.created_at.getTime())),d=Er({mood:{label:"Mood",color:"#8b5cf6",active:!0},energy:{label:"Energy",color:"#f97316",active:!0},physical:{label:"Physical",color:"#ef4444",active:!0},sleep:{label:"Sleep",color:"#3b82f6",active:!0},meals:{label:"Meals",color:"#22c55e",active:!0},weight:{label:"Weight",color:"#71717a",active:!1}}),w=Ue(""),R=Ue("");Ki(()=>{if(u(h).length>0&&!u(w)&&!u(R)){const f=u(h)[0].created_at,x=new Date,b=C=>{const U=C.getFullYear(),D=String(C.getMonth()+1).padStart(2,"0"),G=String(C.getDate()).padStart(2,"0");return`${U}-${D}-${G}`};te(w,b(f),!0),te(R,b(x),!0)}});let A=le(()=>{let f=u(h);if(u(w)){const[x,b,C]=u(w).split("-").map(Number),U=new Date(x,b-1,C);f=f.filter(D=>D.created_at>=U)}if(u(R)){const[x,b,C]=u(R).split("-").map(Number),U=new Date(x,b-1,C);U.setHours(23,59,59,999),f=f.filter(D=>D.created_at<=U)}return f}),E=le(()=>{const f=Object.keys(d).filter(b=>d[b].active);if(f.length===0)return[0,10];let x=0;for(const b of u(A))for(const C of f){const U=b[C];typeof U=="number"&&U>x&&(x=U)}return[0,x*1.1]});const oe=aa("%m/%d");let X=Ue(!1),I=le(()=>{const f={exercise:{label:"Exercise",count:0,icon:"🏃"},ihana:{label:"Ihana",count:0,icon:"❤️"},calvin_day:{label:"Calvin Day",count:0,icon:"✨"},sickness:{label:"Sick Days",count:0,icon:"🤒"},work:{label:"Work",count:0,icon:"💼"},study:{label:"Study",count:0,icon:"📚"},culture:{label:"Culture",count:0,icon:"🎭"},art:{label:"Art",count:0,icon:"🎨"},music:{label:"Music",count:0,icon:"🎵"},leisure:{label:"Leisure",count:0,icon:"🎮"},call_family:{label:"Family Calls",count:0,icon:"📞"},cry:{label:"Cry",count:0,icon:"😢"},sex:{label:"Sex",count:0,icon:"💌"}};let x=u(A);if(u(X)){const b=new Date,C=b.getMonth(),U=b.getFullYear();x=u(A).filter(D=>{const G=D.created_at;return G.getMonth()===C&&G.getFullYear()===U})}for(const b of x)b.exercise_type&&b.exercise_type.trim()&&f.exercise.count++,b.ihana===!0&&f.ihana.count++,b.calvin_day===!0&&f.calvin_day.count++,b.sickness===!0&&f.sickness.count++,b.work_type&&b.work_type.trim()&&f.work.count++,b.study_type&&b.study_type.trim()&&f.study.count++,b.culture_type&&b.culture_type.trim()&&f.culture.count++,b.art_type&&b.art_type.trim()&&f.art.count++,b.music_type&&b.music_type.trim()&&f.music.count++,b.leisure_type&&b.leisure_type.trim()&&f.leisure.count++,b.call_family===!0&&f.call_family.count++,b.cry===!0&&f.cry.count++,b.sex===!0&&f.sex.count++;return f});ai(()=>{bt.auth.getSession().then(({data:{session:x}})=>{te(n,x,!0),x?(J(),H()):te(a,!1)});const{data:{subscription:f}}=bt.auth.onAuthStateChange((x,b)=>{te(n,b,!0),b?(J(),H()):te(a,!1)});return()=>f.unsubscribe()});async function J(){te(a,!0);const{data:f,error:x}=await bt.from("dailyTracking").select("created_at, mood, energy, physical, sleep, meals, weight, exercise_type, ihana, calvin_day, sickness, work_type, study_type, culture_type, art_type, music_type, leisure_type, call_family, cry, sex").order("created_at",{ascending:!0});!x&&f?te(o,f,!0):x&&console.error("Error fetching data:",x),te(a,!1)}async function H(){te(i,!0);const[{count:f,error:x},{count:b,error:C},{count:U,error:D}]=await Promise.all([bt.from("artCalls").select("id",{count:"exact",head:!0}).eq("applied",!0),bt.from("projects").select("id",{count:"exact",head:!0}).eq("status",3),bt.from("tasks").select("id",{count:"exact",head:!0}).eq("status","done")]);x?console.error("Error fetching applied art calls count:",x):te(s,f??0,!0),C?console.error("Error fetching completed projects count:",C):te(l,b??0,!0),D?console.error("Error fetching completed tasks count:",D):te(c,U??0,!0),te(i,!1)}async function M(f){const{error:x}=await bt.from("dailyTracking").insert(f);x?(console.error("Error saving entry:",x),$r("Error saving entry: "+x.message,"Error")):(te(r,!1),$r("Entry saved successfully!","Success"),J())}function V(f){const x=f;d[x].active=!d[x].active}function he(f){if(!f||f.length===0)return"";const x=typeof f!="object"?JSON.parse(f):f,b=Object.keys(x[0]);let C=b.join(",")+`\r
`;for(let U=0;U<x.length;U++){let D="";for(const G of b){D!==""&&(D+=",");let q=x[U][G];q==null?q="":typeof q=="object"?(q=JSON.stringify(q).replace(/"/g,'""'),q=`"${q}"`):(q=String(q).replace(/"/g,'""'),q.search(/("|,|\n)/g)>=0&&(q=`"${q}"`)),D+=q}C+=D+`\r
`}return C}async function fe(){const f=["dailyTracking","projects","artCalls","notes","tasks"];for(const x of f){const{data:b,error:C}=await bt.from(x).select("*");if(C){console.error(`Error fetching ${x}:`,C),$r(`Error backing up ${x}: ${C.message}`,"Error");continue}if(!b||b.length===0)continue;const U=he(b),D=new Blob([U],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a"),q=URL.createObjectURL(D);G.setAttribute("href",q),G.setAttribute("download",`${x}_backup_${new Date().toISOString().split("T")[0]}.csv`),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G),await new Promise(re=>setTimeout(re,500))}}var ne=Bu(),k=$(ne);{var ue=f=>{var x=Lu(),b=$(x);so(b,{class:"h-8 w-8 animate-spin text-indigo-500"}),T(x),Y(f,x)},N=f=>{var x=Yt(),b=Ze(x);{var C=D=>{var G=qu(),q=Ze(G),re=$(q),He=$(re),K=W($(He),2),ce=$(K),de=W($(ce),2);Ot(de,21,()=>Object.entries(d),Yn,(ee,ge)=>{var Ee=le(()=>En(u(ge),2));let Se=()=>u(Ee)[0],pe=()=>u(Ee)[1];var $e=Pu();$e.__click=()=>V(Se());let Te;var Ce=$($e,!0);T($e),ve(()=>{Te=ct($e,"",Te,{"background-color":pe().active?pe().color+"20":"transparent","border-color":pe().active?pe().color:"#3f3f46",color:pe().active?pe().color:"#a1a1aa"}),Ae(Ce,pe().label)}),Y(ee,$e)}),T(de),T(ce);var ae=W(ce,2),qe=W($(ae),2);Sa(qe);var v=W(qe,4);Sa(v);var L=W(v,2);{var F=ee=>{var ge=Hu();ge.__click=()=>{te(w,""),te(R,"")},Y(ee,ge)};_e(L,ee=>{(u(w)||u(R))&&ee(F)})}T(ae),T(K);var g=W(K,2);{var me=ee=>{var ge=Eu(),Ee=$(ge);{let Se=le(qc);lu(Ee,{padding:{top:20,right:15,bottom:32,left:30},x:pe=>pe.created_at,get yDomain(){return u(E)},get data(){return u(A)},get xScale(){return u(Se)},children:(pe,$e)=>{var Te=Ou(),Ce=Ze(Te);xu(Ce,{children:(Oe,Xe)=>{var ze=Fu(),Re=Ze(ze);Du(Re,{gridlines:!1,ticks:5,get format(){return oe},dy:12});var ke=W(Re,2);Ru(ke,{ticks:4,gridlines:!0});var Je=W(ke,2);Ot(Je,17,()=>Object.entries(d),Yn,(gt,ht)=>{var rt=le(()=>En(u(ht),2));let kt=()=>u(rt)[0],mt=()=>u(rt)[1];var yt=Yt(),Dt=Ze(yt);{var at=Ve=>{bu(Ve,{get stroke(){return mt().color},get yAccessorKey(){return kt()}})};_e(Dt,Ve=>{mt().active&&Ve(at)})}Y(gt,yt)}),Y(Oe,ze)},$$slots:{default:!0}});var Be=W(Ce,2);du(Be,{children:(Oe,Xe)=>{{let ze=le(()=>Object.fromEntries(Object.entries(d).filter(([Re,ke])=>ke.active).map(([Re,ke])=>[Re,{text:ke.label,color:ke.color}])));Au(Oe,{get labels(){return u(ze)},get formatTitle(){return oe}})}},$$slots:{default:!0}}),Y(pe,Te)},$$slots:{default:!0}})}T(ge),Y(ee,ge)},B=ee=>{var ge=Yu();Y(ee,ge)};_e(g,ee=>{u(A).length>1?ee(me):ee(B,!1)})}var ye=W(g,2),p=$(ye);p.__click=fe;var Fe=$(p);go(Fe,{class:"h-4 w-4"}),eo(),T(p),T(ye),T(He);var Ie=W(He,2);{var ar=ee=>{var ge=Wu(),Ee=$(ge),Se=W($(Ee),2);Se.__click=()=>te(X,!u(X));var pe=$(Se,!0);T(Se),T(Ee);var $e=W(Ee,2);Ot($e,21,()=>Object.entries(u(I)),Yn,(mt,yt)=>{var Dt=le(()=>En(u(yt),2));let at=()=>u(Dt)[1];var Ve=ju(),xt=$(Ve),St=$(xt),It=$(St,!0);T(St);var Ke=W(St,2),it=$(Ke),vt=$(it,!0);T(it),T(Ke);var ot=W(Ke,2),Bt=$(ot,!0);T(ot),T(xt),T(Ve),ve(()=>{Ae(It,at().icon),Ae(vt,at().label),Ae(Bt,at().count)}),Y(mt,Ve)}),T($e);var Te=W($e,4),Ce=$(Te),Be=$(Ce),Oe=W($(Be),4),Xe=$(Oe,!0);T(Oe),T(Be),T(Ce);var ze=W(Ce,2),Re=$(ze),ke=W($(Re),4),Je=$(ke,!0);T(ke),T(Re),T(ze);var gt=W(ze,2),ht=$(gt),rt=W($(ht),4),kt=$(rt,!0);T(rt),T(ht),T(gt),T(Te),T(ge),ve(()=>{Gn(Se,1,`flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium transition-colors ${u(X)?"bg-indigo-500/20 text-indigo-400":"bg-zinc-700 text-zinc-400 hover:bg-zinc-600"}`),Ae(pe,u(X)?"This Month":"All Time"),Ae(Xe,u(i)?"—":u(s)),Ae(Je,u(i)?"—":u(l)),Ae(kt,u(i)?"—":u(c))}),Y(ee,ge)};_e(Ie,ee=>{u(A).length>0&&ee(ar)})}T(re),T(q);var Pt=W(q,2);{var ir=ee=>{var ge=Gu();ge.__click=()=>te(r,!0);var Ee=$(ge);co(Ee,{class:"h-6 w-6"}),T(ge),ve(Se=>ct(ge,`background-color: ${Se??""}`),[()=>oo.getAccentHex()]),Y(ee,ge)};_e(Pt,ee=>{!u(r)&&!io.isOpen&&ee(ir)})}var Mt=W(Pt,2);uo(Mt,{get isOpen(){return u(r)},entry:null,onClose:()=>te(r,!1),onSave:M,get userId(){return u(n).user.id}}),Ta(qe,()=>u(w),ee=>te(w,ee)),Ta(v,()=>u(R),ee=>te(R,ee)),Y(D,G)},U=D=>{var G=Iu();Y(D,G)};_e(b,D=>{u(n)?D(C):D(U,!1)},!0)}Y(f,x)};_e(k,f=>{u(a)&&u(n)!==null?f(ue):f(N,!1)})}T(ne),Y(e,ne),wt()}oi(["click"]);export{ol as component};
