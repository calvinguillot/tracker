import{c as Qt,a as O,f as we,d as ke}from"../chunks/CvHEPsDH.js";import{e as Bi,u as Vi,p as et,o as ri,bb as L,i as d,aq as Da,bc as ee,bd as Zi,be as C,bf as Qi,f as He,a as tt,c as te,d as V,t as xe,j as fe,D as T,bg as Te,bh as Ct,ap as ai,aN as de,s as ae,g as Ge,h as Pr,ba as Hr,A as Xi}from"../chunks/BP00UPcN.js";import{s as Ke}from"../chunks/Dl5KtuYe.js";import{p as m,i as _e,a as st,b as v,c as F}from"../chunks/CQ5RgTgf.js";import{a as Ji,b as Je,s as $,e as Xt,c as Fr,i as Yr,r as ka}from"../chunks/CUA3p_EM.js";import{d as ii,e as Ki}from"../chunks/BdVLaD9s.js";import{L as eo,P as to,E as no,b as Sa}from"../chunks/BiETExFw.js";import{s as vn}from"../chunks/Bkout0r_.js";import{i as ro}from"../chunks/C3HBUdGc.js";import{b as Gr}from"../chunks/fUS-kzjp.js";import{s as Cn}from"../chunks/DcSAPBB2.js";class qr{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var a=this.#e.get(t);a.delete(n),a.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){qr.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var ao=new qr({box:"border-box"});function Ta(e,t,n){var r=ao.observe(e,()=>n(e[t]));Bi(()=>(Vi(()=>n(e[t])),r))}function io(e){return e===0?!0:e}function Xe(e){return io(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function oo(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}const co=(e,t=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(void 0,r)},t)}};function Zt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wn(e){let t,n,r;e.length!==2?(t=Zt,n=(c,s)=>Zt(e(c),s),r=(c,s)=>e(c)-s):(t=e===Zt||e===uo?e:so,n=e,r=e);function a(c,s,u=0,f=c.length){if(u<f){if(t(s,s)!==0)return f;do{const g=u+f>>>1;n(c[g],s)<0?u=g+1:f=g}while(u<f)}return u}function i(c,s,u=0,f=c.length){if(u<f){if(t(s,s)!==0)return f;do{const g=u+f>>>1;n(c[g],s)<=0?u=g+1:f=g}while(u<f)}return u}function o(c,s,u=0,f=c.length){const g=a(c,s,u,f-1);return g>u&&r(c[g-1],s)>-r(c[g],s)?g-1:g}return{left:a,center:o,right:i}}function so(){return 0}function lo(e){return e===null?NaN:+e}const fo=Wn(Zt),go=fo.right;Wn(lo).center;class ho extends Set{constructor(t,n=vo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(mo(this,t))}add(t){return super.add(yo(this,t))}delete(t){return super.delete(xo(this,t))}}function mo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function yo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function xo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vo(e){return e!==null&&typeof e=="object"?e.valueOf():e}const bo=Math.sqrt(50),_o=Math.sqrt(10),po=Math.sqrt(2);function Rn(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=bo?10:i>=_o?5:i>=po?2:1;let c,s,u;return a<0?(u=Math.pow(10,-a)/o,c=Math.round(e*u),s=Math.round(t*u),c/u<e&&++c,s/u>t&&--s,u=-u):(u=Math.pow(10,a)*o,c=Math.round(e/u),s=Math.round(t/u),c*u<e&&++c,s*u>t&&--s),s<c&&.5<=n&&n<2?Rn(e,t,n*2):[c,s,u]}function wo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Rn(t,e,n):Rn(e,t,n);if(!(i>=a))return[];const c=i-a+1,s=new Array(c);if(r)if(o<0)for(let u=0;u<c;++u)s[u]=(i-u)/-o;else for(let u=0;u<c;++u)s[u]=(i-u)*o;else if(o<0)for(let u=0;u<c;++u)s[u]=(a+u)/-o;else for(let u=0;u<c;++u)s[u]=(a+u)*o;return s}function Or(e,t,n){return t=+t,e=+e,n=+n,Rn(e,t,n)[2]}function Wr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Or(t,e,n):Or(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Mo(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(t),i=a.length;let o,c,s,u,f,g,h;const _=e.length;for(o=0;o<i;o+=1){for(h=new ho,u=a[o],f=t[u],c=0;c<_;c+=1)if(g=f(e[c]),Array.isArray(g)){const A=g.length;for(s=0;s<A;s+=1)h.add(g[s])}else h.add(g);const R=Array.from(h);(n.sort===!0||n[u]===!0)&&R.sort(Zt),r[u]=R}return r}function Do(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,c,s,u,f,g,h;const _=e.length;for(i=0;i<a;i+=1){for(s=r[i],g=t[s],u=null,f=null,o=0;o<_;o+=1)if(h=g(e[o],o),Array.isArray(h)){const R=h.length;for(c=0;c<R;c+=1)h[c]!==!1&&h[c]!==void 0&&h[c]!==null&&Number.isNaN(h[c])===!1&&((u===null||h[c]<u)&&(u=h[c]),(f===null||h[c]>f)&&(f=h[c]))}else h!==!1&&h!==void 0&&h!==null&&Number.isNaN(h)===!1&&((u===null||h<u)&&(u=h),(f===null||h>f)&&(f=h));n[s]=[u,f]}return n}function Bt(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function oi(e){return!!(typeof e.bandwidth=="function"||Bt(Object.keys(e),["domain","range","unknown","copy"]))}function ko(e,t,n){const r=Object.entries(n).reduce((i,[o,c])=>{const s=oi(c.scale)===!0?"ordinal":"other";return i[s]||(i[s]={}),i[s][o]=t[o],i},{ordinal:!1,other:!1});let a={};if(r.ordinal){const i=Object.fromEntries(Object.entries(n).map(([o,c])=>[o,c.sort]));a=Mo(e,r.ordinal,i)}return r.other&&(a={...a,...Do(e,r.other)}),a}function So(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function bn(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?So(n[e],r):r}}function Ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ci(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tn(){}var Jt=.7,Nn=1/Jt,Dt="\\s*([+-]?\\d+)\\s*",Kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",To=/^#([0-9a-f]{3,8})$/,Co=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),zo=new RegExp(`^rgb\\(${Ye},${Ye},${Ye}\\)$`),Ro=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${Kt}\\)$`),No=new RegExp(`^rgba\\(${Ye},${Ye},${Ye},${Kt}\\)$`),Uo=new RegExp(`^hsl\\(${Kt},${Ye},${Ye}\\)$`),$o=new RegExp(`^hsla\\(${Kt},${Ye},${Ye},${Kt}\\)$`),Ca={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br(tn,en,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:za,formatHex:za,formatHex8:Ao,formatHsl:Lo,formatRgb:Ra,toString:Ra});function za(){return this.rgb().formatHex()}function Ao(){return this.rgb().formatHex8()}function Lo(){return ui(this).formatHsl()}function Ra(){return this.rgb().formatRgb()}function en(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=To.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Na(t):n===3?new De(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_n(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_n(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Co.exec(e))?new De(t[1],t[2],t[3],1):(t=zo.exec(e))?new De(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ro.exec(e))?_n(t[1],t[2],t[3],t[4]):(t=No.exec(e))?_n(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Uo.exec(e))?Aa(t[1],t[2]/100,t[3]/100,1):(t=$o.exec(e))?Aa(t[1],t[2]/100,t[3]/100,t[4]):Ca.hasOwnProperty(e)?Na(Ca[e]):e==="transparent"?new De(NaN,NaN,NaN,0):null}function Na(e){return new De(e>>16&255,e>>8&255,e&255,1)}function _n(e,t,n,r){return r<=0&&(e=t=n=NaN),new De(e,t,n,r)}function Po(e){return e instanceof tn||(e=en(e)),e?(e=e.rgb(),new De(e.r,e.g,e.b,e.opacity)):new De}function Un(e,t,n,r){return arguments.length===1?Po(e):new De(e,t,n,r??1)}function De(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Br(De,Un,ci(tn,{brighter(e){return e=e==null?Nn:Math.pow(Nn,e),new De(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jt:Math.pow(Jt,e),new De(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new De(ct(this.r),ct(this.g),ct(this.b),$n(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ua,formatHex:Ua,formatHex8:Ho,formatRgb:$a,toString:$a}));function Ua(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}`}function Ho(){return`#${ot(this.r)}${ot(this.g)}${ot(this.b)}${ot((isNaN(this.opacity)?1:this.opacity)*255)}`}function $a(){const e=$n(this.opacity);return`${e===1?"rgb(":"rgba("}${ct(this.r)}, ${ct(this.g)}, ${ct(this.b)}${e===1?")":`, ${e})`}`}function $n(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ct(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ot(e){return e=ct(e),(e<16?"0":"")+e.toString(16)}function Aa(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ae(e,t,n,r)}function ui(e){if(e instanceof Ae)return new Ae(e.h,e.s,e.l,e.opacity);if(e instanceof tn||(e=en(e)),!e)return new Ae;if(e instanceof Ae)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,c=i-a,s=(i+a)/2;return c?(t===i?o=(n-r)/c+(n<r)*6:n===i?o=(r-t)/c+2:o=(t-n)/c+4,c/=s<.5?i+a:2-i-a,o*=60):c=s>0&&s<1?0:o,new Ae(o,c,s,e.opacity)}function Fo(e,t,n,r){return arguments.length===1?ui(e):new Ae(e,t,n,r??1)}function Ae(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(Ae,Fo,ci(tn,{brighter(e){return e=e==null?Nn:Math.pow(Nn,e),new Ae(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jt:Math.pow(Jt,e),new Ae(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new De(zr(e>=240?e-240:e+120,a,r),zr(e,a,r),zr(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ae(La(this.h),pn(this.s),pn(this.l),$n(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$n(this.opacity);return`${e===1?"hsl(":"hsla("}${La(this.h)}, ${pn(this.s)*100}%, ${pn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function La(e){return e=(e||0)%360,e<0?e+360:e}function pn(e){return Math.max(0,Math.min(1,e||0))}function zr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vr=e=>()=>e;function Yo(e,t){return function(n){return e+n*t}}function Oo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Wo(e){return(e=+e)==1?si:function(t,n){return n-t?Oo(t,n,e):Vr(isNaN(t)?n:t)}}function si(e,t){var n=t-e;return n?Yo(e,n):Vr(isNaN(e)?t:e)}const Pa=(function e(t){var n=Wo(t);function r(a,i){var o=n((a=Un(a)).r,(i=Un(i)).r),c=n(a.g,i.g),s=n(a.b,i.b),u=si(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=c(f),a.b=s(f),a.opacity=u(f),a+""}}return r.gamma=e,r})(1);function jo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Eo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Go(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Zr(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(c){for(o=0;o<r;++o)i[o]=a[o](c);return i}}function qo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function An(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Io(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zr(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rr=new RegExp(jr.source,"g");function Bo(e){return function(){return e}}function Vo(e){return function(t){return e(t)+""}}function Zo(e,t){var n=jr.lastIndex=Rr.lastIndex=0,r,a,i,o=-1,c=[],s=[];for(e=e+"",t=t+"";(r=jr.exec(e))&&(a=Rr.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),c[o]?c[o]+=i:c[++o]=i),(r=r[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,s.push({i:o,x:An(r,a)})),n=Rr.lastIndex;return n<t.length&&(i=t.slice(n),c[o]?c[o]+=i:c[++o]=i),c.length<2?s[0]?Vo(s[0].x):Bo(t):(t=s.length,function(u){for(var f=0,g;f<t;++f)c[(g=s[f]).i]=g.x(u);return c.join("")})}function Zr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vr(t):(n==="number"?An:n==="string"?(r=en(t))?(t=r,Pa):Zo:t instanceof en?Pa:t instanceof Date?qo:Eo(t)?jo:Array.isArray(t)?Go:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Io:An)(e,t)}function Qo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Xo(e){return function(){return e}}function Jo(e){return+e}var Ha=[0,1];function Fe(e){return e}function Er(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Xo(isNaN(t)?NaN:.5)}function Ko(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ec(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Er(a,r),i=n(o,i)):(r=Er(r,a),i=n(i,o)),function(c){return i(r(c))}}function tc(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Er(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(c){var s=go(e,c,1,r)-1;return i[s](a[s](c))}}function Qr(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function li(){var e=Ha,t=Ha,n=Zr,r,a,i,o=Fe,c,s,u;function f(){var h=Math.min(e.length,t.length);return o!==Fe&&(o=Ko(e[0],e[h-1])),c=h>2?tc:ec,s=u=null,g}function g(h){return h==null||isNaN(h=+h)?i:(s||(s=c(e.map(r),t,n)))(r(o(h)))}return g.invert=function(h){return o(a((u||(u=c(t,e.map(r),An)))(h)))},g.domain=function(h){return arguments.length?(e=Array.from(h,Jo),f()):e.slice()},g.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},g.rangeRound=function(h){return t=Array.from(h),n=Qo,f()},g.clamp=function(h){return arguments.length?(o=h?!0:Fe,f()):o!==Fe},g.interpolate=function(h){return arguments.length?(n=h,f()):n},g.unknown=function(h){return arguments.length?(i=h,g):i},function(h,_){return r=h,a=_,f()}}function fi(){return li()(Fe,Fe)}function nc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ln(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function kt(e){return e=Ln(Math.abs(e)),e?e[1]:NaN}function rc(e,t){return function(n,r){for(var a=n.length,i=[],o=0,c=e[0],s=0;a>0&&c>0&&(s+c+1>r&&(c=Math.max(1,r-s)),i.push(n.substring(a-=c,a+c)),!((s+=c+1)>r));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ac(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ic=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pn(e){if(!(t=ic.exec(e)))throw new Error("invalid format: "+e);var t;return new Xr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pn.prototype=Xr.prototype;function Xr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oc(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var di;function cc(e,t){var n=Ln(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(di=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ln(e,Math.max(0,t+i-1))[0]}function Fa(e,t){var n=Ln(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ya={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nc,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Fa(e*100,t),r:Fa,s:cc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Oa(e){return e}var Wa=Array.prototype.map,ja=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uc(e){var t=e.grouping===void 0||e.thousands===void 0?Oa:rc(Wa.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Oa:ac(Wa.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(g){g=Pn(g);var h=g.fill,_=g.align,R=g.sign,A=g.symbol,P=g.zero,J=g.width,Z=g.comma,W=g.precision,Q=g.trim,H=g.type;H==="n"?(Z=!0,H="g"):Ya[H]||(W===void 0&&(W=12),Q=!0,H="g"),(P||h==="0"&&_==="=")&&(P=!0,h="0",_="=");var D=A==="$"?n:A==="#"&&/[boxX]/.test(H)?"0"+H.toLowerCase():"",E=A==="$"?r:/[%p]/.test(H)?o:"",S=Ya[H],p=/[defgprs%]/.test(H);W=W===void 0?6:/[gprs]/.test(H)?Math.max(1,Math.min(21,W)):Math.max(0,Math.min(20,W));function U(b){var Y=D,w=E,k,j,ie;if(H==="c")w=S(b)+w,b="";else{b=+b;var B=b<0||1/b<0;if(b=isNaN(b)?s:S(Math.abs(b),W),Q&&(b=oc(b)),B&&+b==0&&R!=="+"&&(B=!1),Y=(B?R==="("?R:c:R==="-"||R==="("?"":R)+Y,w=(H==="s"?ja[8+di/3]:"")+w+(B&&R==="("?")":""),p){for(k=-1,j=b.length;++k<j;)if(ie=b.charCodeAt(k),48>ie||ie>57){w=(ie===46?a+b.slice(k+1):b.slice(k))+w,b=b.slice(0,k);break}}}Z&&!P&&(b=t(b,1/0));var K=Y.length+b.length+w.length,G=K<J?new Array(J-K+1).join(h):"";switch(Z&&P&&(b=t(G+b,G.length?J-w.length:1/0),G=""),_){case"<":b=Y+b+w+G;break;case"=":b=Y+G+b+w;break;case"^":b=G.slice(0,K=G.length>>1)+Y+b+w+G.slice(K);break;default:b=G+Y+b+w;break}return i(b)}return U.toString=function(){return g+""},U}function f(g,h){var _=u((g=Pn(g),g.type="f",g)),R=Math.max(-8,Math.min(8,Math.floor(kt(h)/3)))*3,A=Math.pow(10,-R),P=ja[8+R/3];return function(J){return _(A*J)+P}}return{format:u,formatPrefix:f}}var wn,gi,hi;sc({thousands:",",grouping:[3],currency:["$",""]});function sc(e){return wn=uc(e),gi=wn.format,hi=wn.formatPrefix,wn}function lc(e){return Math.max(0,-kt(Math.abs(e)))}function fc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kt(t)/3)))*3-kt(Math.abs(e)))}function dc(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kt(t)-kt(e))+1}function gc(e,t,n,r){var a=Wr(e,t,n),i;switch(r=Pn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=fc(a,o))&&(r.precision=i),hi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=dc(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=lc(a))&&(r.precision=i-(r.type==="%")*2);break}}return gi(r)}function mi(e){var t=e.domain;return e.ticks=function(n){var r=t();return wo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return gc(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],c=r[i],s,u,f=10;for(c<o&&(u=o,o=c,c=u,u=a,a=i,i=u);f-- >0;){if(u=Or(o,c,n),u===s)return r[a]=o,r[i]=c,t(r);if(u>0)o=Math.floor(o/u)*u,c=Math.ceil(c/u)*u;else if(u<0)o=Math.ceil(o*u)/u,c=Math.floor(c*u)/u;else break;s=u}return e},e}function zn(){var e=fi();return e.copy=function(){return Qr(e,zn())},Ir.apply(e,arguments),mi(e)}function hc(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Ea(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mc(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yc(e){return e<0?-e*e:e*e}function xc(e){var t=e(Fe,Fe),n=1;function r(){return n===1?e(Fe,Fe):n===.5?e(mc,yc):e(Ea(n),Ea(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},mi(t)}function yi(){var e=xc(li());return e.copy=function(){return Qr(e,yi()).exponent(e.exponent())},Ir.apply(e,arguments),e}function vc(){return yi.apply(null,arguments).exponent(.5)}const Nr=new Date,Ur=new Date;function me(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const s=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return s;let u;do s.push(u=new Date(+i)),t(i,c),e(i);while(u<i&&i<o);return s},a.filter=i=>me(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Nr.setTime(+i),Ur.setTime(+o),e(Nr),e(Ur),Math.floor(n(Nr,Ur))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Hn=me(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?me(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Hn);Hn.range;const qe=1e3,ze=qe*60,Ie=ze*60,Be=Ie*24,Jr=Be*7,Ga=Be*30,$r=Be*365,Mt=me(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qe)},(e,t)=>(t-e)/qe,e=>e.getUTCSeconds());Mt.range;const Kr=me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qe)},(e,t)=>{e.setTime(+e+t*ze)},(e,t)=>(t-e)/ze,e=>e.getMinutes());Kr.range;const bc=me(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ze)},(e,t)=>(t-e)/ze,e=>e.getUTCMinutes());bc.range;const ea=me(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qe-e.getMinutes()*ze)},(e,t)=>{e.setTime(+e+t*Ie)},(e,t)=>(t-e)/Ie,e=>e.getHours());ea.range;const _c=me(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ie)},(e,t)=>(t-e)/Ie,e=>e.getUTCHours());_c.range;const nn=me(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ze)/Be,e=>e.getDate()-1);nn.range;const ta=me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Be,e=>e.getUTCDate()-1);ta.range;const pc=me(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Be,e=>Math.floor(e/Be));pc.range;function lt(e){return me(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ze)/Jr)}const jn=lt(0),Fn=lt(1),wc=lt(2),Mc=lt(3),St=lt(4),Dc=lt(5),kc=lt(6);jn.range;Fn.range;wc.range;Mc.range;St.range;Dc.range;kc.range;function ft(e){return me(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Jr)}const xi=ft(0),Yn=ft(1),Sc=ft(2),Tc=ft(3),Tt=ft(4),Cc=ft(5),zc=ft(6);xi.range;Yn.range;Sc.range;Tc.range;Tt.range;Cc.range;zc.range;const na=me(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());na.range;const Rc=me(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Rc.range;const Ve=me(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ve.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:me(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ve.range;const ut=me(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ut.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:me(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ut.range;function Nc(e,t,n,r,a,i){const o=[[Mt,1,qe],[Mt,5,5*qe],[Mt,15,15*qe],[Mt,30,30*qe],[i,1,ze],[i,5,5*ze],[i,15,15*ze],[i,30,30*ze],[a,1,Ie],[a,3,3*Ie],[a,6,6*Ie],[a,12,12*Ie],[r,1,Be],[r,2,2*Be],[n,1,Jr],[t,1,Ga],[t,3,3*Ga],[e,1,$r]];function c(u,f,g){const h=f<u;h&&([u,f]=[f,u]);const _=g&&typeof g.range=="function"?g:s(u,f,g),R=_?_.range(u,+f+1):[];return h?R.reverse():R}function s(u,f,g){const h=Math.abs(f-u)/g,_=Wn(([,,P])=>P).right(o,h);if(_===o.length)return e.every(Wr(u/$r,f/$r,g));if(_===0)return Hn.every(Math.max(Wr(u,f,g),1));const[R,A]=o[h/o[_-1][2]<o[_][2]/h?_-1:_];return R.every(A)}return[c,s]}const[Uc,$c]=Nc(Ve,na,jn,nn,ea,Kr);function Ar(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Lr(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ac(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,s=e.shortMonths,u=qt(a),f=It(a),g=qt(i),h=It(i),_=qt(o),R=It(o),A=qt(c),P=It(c),J=qt(s),Z=It(s),W={a:B,A:K,b:G,B:ge,c:null,d:Qa,e:Qa,f:ru,g:gu,G:mu,H:eu,I:tu,j:nu,L:vi,m:au,M:iu,p:ye,q:oe,Q:Ka,s:ei,S:ou,u:cu,U:uu,V:su,w:lu,W:fu,x:null,X:null,y:du,Y:hu,Z:yu,"%":Ja},Q={a:Re,A:ne,b:ue,B:le,c:null,d:Xa,e:Xa,f:_u,g:Ru,G:Uu,H:xu,I:vu,j:bu,L:_i,m:pu,M:wu,p:X,q:Oe,Q:Ka,s:ei,S:Mu,u:Du,U:ku,V:Su,w:Tu,W:Cu,x:null,X:null,y:zu,Y:Nu,Z:$u,"%":Ja},H={a:U,A:b,b:Y,B:w,c:k,d:Va,e:Va,f:Qc,g:Ba,G:Ia,H:Za,I:Za,j:Ic,L:Zc,m:qc,M:Bc,p,q:Gc,Q:Jc,s:Kc,S:Vc,u:Yc,U:Oc,V:Wc,w:Fc,W:jc,x:j,X:ie,y:Ba,Y:Ia,Z:Ec,"%":Xc};W.x=D(n,W),W.X=D(r,W),W.c=D(t,W),Q.x=D(n,Q),Q.X=D(r,Q),Q.c=D(t,Q);function D(x,M){return function(z){var l=[],se=-1,N=0,ce=x.length,y,pe,Ne;for(z instanceof Date||(z=new Date(+z));++se<ce;)x.charCodeAt(se)===37&&(l.push(x.slice(N,se)),(pe=qa[y=x.charAt(++se)])!=null?y=x.charAt(++se):pe=y==="e"?" ":"0",(Ne=M[y])&&(y=Ne(z,pe)),l.push(y),N=se+1);return l.push(x.slice(N,se)),l.join("")}}function E(x,M){return function(z){var l=Gt(1900,void 0,1),se=S(l,x,z+="",0),N,ce;if(se!=z.length)return null;if("Q"in l)return new Date(l.Q);if("s"in l)return new Date(l.s*1e3+("L"in l?l.L:0));if(M&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+l.p*12),l.m===void 0&&(l.m="q"in l?l.q:0),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(N=Lr(Gt(l.y,0,1)),ce=N.getUTCDay(),N=ce>4||ce===0?Yn.ceil(N):Yn(N),N=ta.offset(N,(l.V-1)*7),l.y=N.getUTCFullYear(),l.m=N.getUTCMonth(),l.d=N.getUTCDate()+(l.w+6)%7):(N=Ar(Gt(l.y,0,1)),ce=N.getDay(),N=ce>4||ce===0?Fn.ceil(N):Fn(N),N=nn.offset(N,(l.V-1)*7),l.y=N.getFullYear(),l.m=N.getMonth(),l.d=N.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),ce="Z"in l?Lr(Gt(l.y,0,1)).getUTCDay():Ar(Gt(l.y,0,1)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+l.W*7-(ce+5)%7:l.w+l.U*7-(ce+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,Lr(l)):Ar(l)}}function S(x,M,z,l){for(var se=0,N=M.length,ce=z.length,y,pe;se<N;){if(l>=ce)return-1;if(y=M.charCodeAt(se++),y===37){if(y=M.charAt(se++),pe=H[y in qa?M.charAt(se++):y],!pe||(l=pe(x,z,l))<0)return-1}else if(y!=z.charCodeAt(l++))return-1}return l}function p(x,M,z){var l=u.exec(M.slice(z));return l?(x.p=f.get(l[0].toLowerCase()),z+l[0].length):-1}function U(x,M,z){var l=_.exec(M.slice(z));return l?(x.w=R.get(l[0].toLowerCase()),z+l[0].length):-1}function b(x,M,z){var l=g.exec(M.slice(z));return l?(x.w=h.get(l[0].toLowerCase()),z+l[0].length):-1}function Y(x,M,z){var l=J.exec(M.slice(z));return l?(x.m=Z.get(l[0].toLowerCase()),z+l[0].length):-1}function w(x,M,z){var l=A.exec(M.slice(z));return l?(x.m=P.get(l[0].toLowerCase()),z+l[0].length):-1}function k(x,M,z){return S(x,t,M,z)}function j(x,M,z){return S(x,n,M,z)}function ie(x,M,z){return S(x,r,M,z)}function B(x){return o[x.getDay()]}function K(x){return i[x.getDay()]}function G(x){return s[x.getMonth()]}function ge(x){return c[x.getMonth()]}function ye(x){return a[+(x.getHours()>=12)]}function oe(x){return 1+~~(x.getMonth()/3)}function Re(x){return o[x.getUTCDay()]}function ne(x){return i[x.getUTCDay()]}function ue(x){return s[x.getUTCMonth()]}function le(x){return c[x.getUTCMonth()]}function X(x){return a[+(x.getUTCHours()>=12)]}function Oe(x){return 1+~~(x.getUTCMonth()/3)}return{format:function(x){var M=D(x+="",W);return M.toString=function(){return x},M},parse:function(x){var M=E(x+="",!1);return M.toString=function(){return x},M},utcFormat:function(x){var M=D(x+="",Q);return M.toString=function(){return x},M},utcParse:function(x){var M=E(x+="",!0);return M.toString=function(){return x},M}}}var qa={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,Lc=/^%/,Pc=/[\\^$*+?|[\]().{}]/g;function I(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Hc(e){return e.replace(Pc,"\\$&")}function qt(e){return new RegExp("^(?:"+e.map(Hc).join("|")+")","i")}function It(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Fc(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Yc(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Oc(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Wc(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function jc(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ia(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ba(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ec(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gc(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function qc(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Va(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ic(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Za(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Bc(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Vc(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Zc(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Qc(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Xc(e,t,n){var r=Lc.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Jc(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Kc(e,t,n){var r=ve.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Qa(e,t){return I(e.getDate(),t,2)}function eu(e,t){return I(e.getHours(),t,2)}function tu(e,t){return I(e.getHours()%12||12,t,2)}function nu(e,t){return I(1+nn.count(Ve(e),e),t,3)}function vi(e,t){return I(e.getMilliseconds(),t,3)}function ru(e,t){return vi(e,t)+"000"}function au(e,t){return I(e.getMonth()+1,t,2)}function iu(e,t){return I(e.getMinutes(),t,2)}function ou(e,t){return I(e.getSeconds(),t,2)}function cu(e){var t=e.getDay();return t===0?7:t}function uu(e,t){return I(jn.count(Ve(e)-1,e),t,2)}function bi(e){var t=e.getDay();return t>=4||t===0?St(e):St.ceil(e)}function su(e,t){return e=bi(e),I(St.count(Ve(e),e)+(Ve(e).getDay()===4),t,2)}function lu(e){return e.getDay()}function fu(e,t){return I(Fn.count(Ve(e)-1,e),t,2)}function du(e,t){return I(e.getFullYear()%100,t,2)}function gu(e,t){return e=bi(e),I(e.getFullYear()%100,t,2)}function hu(e,t){return I(e.getFullYear()%1e4,t,4)}function mu(e,t){var n=e.getDay();return e=n>=4||n===0?St(e):St.ceil(e),I(e.getFullYear()%1e4,t,4)}function yu(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+I(t/60|0,"0",2)+I(t%60,"0",2)}function Xa(e,t){return I(e.getUTCDate(),t,2)}function xu(e,t){return I(e.getUTCHours(),t,2)}function vu(e,t){return I(e.getUTCHours()%12||12,t,2)}function bu(e,t){return I(1+ta.count(ut(e),e),t,3)}function _i(e,t){return I(e.getUTCMilliseconds(),t,3)}function _u(e,t){return _i(e,t)+"000"}function pu(e,t){return I(e.getUTCMonth()+1,t,2)}function wu(e,t){return I(e.getUTCMinutes(),t,2)}function Mu(e,t){return I(e.getUTCSeconds(),t,2)}function Du(e){var t=e.getUTCDay();return t===0?7:t}function ku(e,t){return I(xi.count(ut(e)-1,e),t,2)}function pi(e){var t=e.getUTCDay();return t>=4||t===0?Tt(e):Tt.ceil(e)}function Su(e,t){return e=pi(e),I(Tt.count(ut(e),e)+(ut(e).getUTCDay()===4),t,2)}function Tu(e){return e.getUTCDay()}function Cu(e,t){return I(Yn.count(ut(e)-1,e),t,2)}function zu(e,t){return I(e.getUTCFullYear()%100,t,2)}function Ru(e,t){return e=pi(e),I(e.getUTCFullYear()%100,t,2)}function Nu(e,t){return I(e.getUTCFullYear()%1e4,t,4)}function Uu(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Tt(e):Tt.ceil(e),I(e.getUTCFullYear()%1e4,t,4)}function $u(){return"+0000"}function Ja(){return"%"}function Ka(e){return+e}function ei(e){return Math.floor(+e/1e3)}var wt,ra;Au({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Au(e){return wt=Ac(e),ra=wt.format,wt.parse,wt.utcFormat,wt.utcParse,wt}function Lu(e){return new Date(e)}function Pu(e){return e instanceof Date?+e:+new Date(+e)}function wi(e,t,n,r,a,i,o,c,s,u){var f=fi(),g=f.invert,h=f.domain,_=u(".%L"),R=u(":%S"),A=u("%I:%M"),P=u("%I %p"),J=u("%a %d"),Z=u("%b %d"),W=u("%B"),Q=u("%Y");function H(D){return(s(D)<D?_:c(D)<D?R:o(D)<D?A:i(D)<D?P:r(D)<D?a(D)<D?J:Z:n(D)<D?W:Q)(D)}return f.invert=function(D){return new Date(g(D))},f.domain=function(D){return arguments.length?h(Array.from(D,Pu)):h().map(Lu)},f.ticks=function(D){var E=h();return e(E[0],E[E.length-1],D??10)},f.tickFormat=function(D,E){return E==null?H:u(E)},f.nice=function(D){var E=h();return(!D||typeof D.range!="function")&&(D=t(E[0],E[E.length-1],D??10)),D?h(hc(E,D)):f},f.copy=function(){return Qr(f,wi(e,t,n,r,a,i,o,c,s,u))},f}function Hu(){return Ir.apply(wi(Uc,$c,Ve,na,jn,nn,ea,Kr,Mt,ra).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const Vt={x:zn,y:zn,z:zn,r:vc};function Fu(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function ti(e){return e}function Yu(e){return t=>Math.log(e*t)}function Ou(e){return t=>e*Math.exp(t)}function Wu(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function ju(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Mn(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Eu(e){const t=Fu(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Yu(n),ground:Ou(n),scaleType:t}}return t==="pow"?{lift:Mn(1),ground:Mn(1/1),scaleType:t}:t==="sqrt"?{lift:Mn(.5),ground:Mn(1/.5),scaleType:t}:t==="symlog"?{lift:Wu(1),ground:ju(1),scaleType:t}:{lift:ti,ground:ti,scaleType:t}}function On(e){return e.replace(/^\w/,t=>t.toUpperCase())}function Me(e,t=""){return`scale${On(t)}${On(e)}`}function Mi(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?Me("band"):Me("point");if(Bt(Object.keys(e),["domain","range","unknown","copy"]))return Me("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return Me("quantile",t);if(e.thresholds)return Me("quantize",t);if(e.constant)return Me("symlog",t);if(e.base)return Me("log",t);if(e.exponent)return e.exponent()===.5?Me("sqrt",t):Me("pow",t);if(Bt(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return Me("threshold");if(Bt(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Me("identity");if(Bt(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Me("radial");if(t)return Me(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),Me(r)}return Me("linear")}const Gu=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function qu(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Gu.includes(Mi(e))||oi(e)===!0)return e.domain();const{lift:n,ground:r}=Eu(e),a=e.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[o,c]=e.domain().map(_=>n(i?_.getTime():_)),[s,u]=e.range(),f=t[0]||0,g=t[1]||0,h=(c-o)/(Math.abs(u-s)-f-g);return[o-f*h,g*h+c].map(_=>r(i?new Date(_):_))}function Iu(e,t,n,r,a){let i,o;return a===!0?(i=0,o=100):(i=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),r===!0?[o,i]:[i,o]}function Bu(e,t,n,r,a,i){return a?typeof a=="function"?a({width:t,height:n}):a:Iu(e,t,n,r,i)}function Dn(e){return function([n,r,a,i,o,c,s,u,f,g]){if(r===null)return null;const h=Bu(e,s,u,c,f,g),_=n===Vt[e]?n():n.copy();return _.domain(a),(!_.interpolator||typeof _.interpolator=="function"&&_.interpolator().name.startsWith("identity"))&&_.range(h),i&&_.domain(qu(_,i)),(o===!0||typeof o=="number")&&(typeof _.nice=="function"?_.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),_}}function kn([e,t]){return(n,r)=>{const a=e(n,r);return Array.isArray(a)?a.map(i=>t(i)):t(a)}}function Sn([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Ce="    ";function Vu(e){const{r:t,g:n,b:r,opacity:a}=Un(e);return[t,n,r].every(i=>i>=0&&i<=255)?{r:t,g:n,b:r,o:a}:!1}function Zu({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Qu(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),Xu(e.boundingBox),console.log("Data:"),console.log(Ce,e.data),e.flatData&&(console.log("flatData:"),console.log(Ce,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{Ju(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function Xu(e){Object.entries(e).forEach(([t,n])=>{console.log(`${Ce}${t}:`,n)})}function Ju(e,t,n){const r=Mi(t);console.log(`${Ce}${e}:`),console.log(`${Ce}${Ce}Accessor: "${n.toString()}"`),console.log(`${Ce}${Ce}Type: ${r}`),ni(t,"domain"),ni(t,"range"," ")}function ni(e,t,n=""){const r=e[t](),a=es(r);a?Ku(a,t,r):console.log(`${Ce}${Ce}${On(t)}:${n}`,r)}function Ku(e,t,n){console.log(`${Ce}${Ce}${On(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function es(e){const t=[],n=e.map((r,a)=>{const i=Vu(r);if(i!==!1){t.push(i);const o=a===e.length-1?" ":"";return`%c ${r}${o}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${Zu(r)};`)]:null}function Tn(e){return!e||typeof e=="function"||Array.isArray(e)&&e.includes(null)?!1:e}var ts=we('<div class="layercake-container svelte-812kmt"><!></div>');function ns(e,t){et(t,!1);const n=()=>v(rt,"$_percentRange",y),r=()=>v(At,"$_containerWidth",y),a=()=>v(Lt,"$_containerHeight",y),i=()=>v(sr,"$_data",y),o=()=>v(rn,"$_flatData",y),c=()=>v(Pt,"$_x",y),s=()=>v(Ht,"$_y",y),u=()=>v(Ft,"$_z",y),f=()=>v(Yt,"$_r",y),g=()=>v(an,"$_xNice",y),h=()=>v(on,"$_yNice",y),_=()=>v(cn,"$_zNice",y),R=()=>v(un,"$_rNice",y),A=()=>v(sn,"$_xReverse",y),P=()=>v(ln,"$_yReverse",y),J=()=>v(fn,"$_zReverse",y),Z=()=>v(dn,"$_rReverse",y),W=()=>v(gn,"$_xPadding",y),Q=()=>v(hn,"$_yPadding",y),H=()=>v(mn,"$_zPadding",y),D=()=>v(yn,"$_rPadding",y),E=()=>v(Mr,"$_custom",y),S=()=>v(wr,"$_config",y),p=()=>v(Sr,"$box_d",y),U=()=>v(Dr,"$activeGetters_d",y),b=()=>v(Ot,"$xScale_d",y),Y=()=>v(Wt,"$yScale_d",y),w=()=>v(jt,"$zScale_d",y),k=()=>v(Et,"$rScale_d",y),j=()=>v(at,"$width_d",y),ie=()=>v(it,"$height_d",y),B=()=>v(wa,"$aspectRatio_d",y),K=()=>v(vr,"$_xDomainSort",y),G=()=>v(br,"$_yDomainSort",y),ge=()=>v(_r,"$_zDomainSort",y),ye=()=>v(pr,"$_rDomainSort",y),oe=()=>v(kr,"$padding_d",y),Re=()=>v(Pe,"$extents_d",y),ne=()=>v(la,"$xDomain_d",y),ue=()=>v(fa,"$yDomain_d",y),le=()=>v(da,"$zDomain_d",y),X=()=>v(ga,"$rDomain_d",y),Oe=()=>v(va,"$xRange_d",y),x=()=>v(ba,"$yRange_d",y),M=()=>v(_a,"$zRange_d",y),z=()=>v(pa,"$rRange_d",y),l=()=>v(ha,"$xGet_d",y),se=()=>v(ma,"$yGet_d",y),N=()=>v(ya,"$zGet_d",y),ce=()=>v(xa,"$rGet_d",y),[y,pe]=st(),Ne=Da(),zt=co(Qu,200);let Rt=m(t,"ssr",8,!1),dt=m(t,"pointerEvents",8,!0),Ue=m(t,"position",8,"relative"),$e=m(t,"percentRange",8,!1),En=m(t,"width",8,void 0),Gn=m(t,"height",8,void 0),gt=m(t,"containerWidth",28,()=>En()||100),nt=m(t,"containerHeight",28,()=>Gn()||100),Nt=m(t,"element",12,void 0),We=m(t,"x",8,void 0),je=m(t,"y",8,void 0),Ze=m(t,"z",8,void 0),Qe=m(t,"r",8,void 0),Le=m(t,"data",24,()=>[]),ht=m(t,"xDomain",8,void 0),mt=m(t,"yDomain",8,void 0),yt=m(t,"zDomain",8,void 0),xt=m(t,"rDomain",8,void 0),qn=m(t,"xNice",8,!1),In=m(t,"yNice",8,!1),Bn=m(t,"zNice",8,!1),Vn=m(t,"rNice",8,!1),Zn=m(t,"xPadding",8,void 0),Qn=m(t,"yPadding",8,void 0),Xn=m(t,"zPadding",8,void 0),Jn=m(t,"rPadding",8,void 0),Kn=m(t,"xScale",24,()=>Vt.x),Ut=m(t,"yScale",24,()=>Vt.y),er=m(t,"zScale",24,()=>Vt.z),tr=m(t,"rScale",24,()=>Vt.r),vt=m(t,"xRange",8,void 0),bt=m(t,"yRange",8,void 0),_t=m(t,"zRange",8,void 0),pt=m(t,"rRange",8,void 0),nr=m(t,"xReverse",8,!1),rr=m(t,"yReverse",8,void 0),ar=m(t,"zReverse",8,!1),ir=m(t,"rReverse",8,!1),Di=m(t,"xDomainSort",8,!1),ki=m(t,"yDomainSort",8,!1),Si=m(t,"zDomainSort",8,!1),Ti=m(t,"rDomainSort",8,!1),or=m(t,"padding",24,()=>({})),$t=m(t,"flatData",8,void 0),cr=m(t,"custom",24,()=>({})),aa=m(t,"debug",8,!1),Ci=m(t,"verbose",8,!0),ur=!1;ri(()=>{ur=!0});const q=Da({}),rt=L($e()),At=L(gt()),Lt=L(nt()),sr=L(Le()),rn=L($t()||Le()),ia=L(or()),Pt=L(Xe(We())),Ht=L(Xe(je())),Ft=L(Xe(Ze())),Yt=L(Xe(Qe())),lr=L(ht()),fr=L(mt()),dr=L(yt()),gr=L(xt()),an=L(qn()),on=L(In()),cn=L(Bn()),un=L(Vn()),sn=L(nr()),ln=L(d(Ne)),fn=L(ar()),dn=L(ir()),gn=L(Zn()),hn=L(Qn()),mn=L(Xn()),yn=L(Jn()),oa=L(vt()),ca=L(bt()),ua=L(_t()),sa=L(pt()),hr=L(Kn()),mr=L(Ut()),yr=L(er()),xr=L(tr()),vr=L(Di()),br=L(ki()),_r=L(Si()),pr=L(Ti()),wr=L(d(q)),Mr=L(cr()),Dr=ee([Pt,Ht,Ft,Yt],([re,be,Se,he])=>{const Ee={};return re&&(Ee.x=re),be&&(Ee.y=be),Se&&(Ee.z=Se),he&&(Ee.r=he),Ee}),kr=ee([ia,At,Lt],([re])=>Object.assign({top:0,right:0,bottom:0,left:0},re)),Sr=ee([At,Lt,kr],([re,be,Se])=>{const he={};return he.top=Se.top,he.right=re-Se.right,he.bottom=be-Se.bottom,he.left=Se.left,he.width=he.right-he.left,he.height=he.bottom-he.top,Ci()===!0&&(he.width<=0&&ur===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),he.height<=0&&ur===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),he}),at=ee([Sr],([re])=>re.width),it=ee([Sr],([re])=>re.height),Pe=ee([rn,Dr,hr,mr,xr,yr,lr,fr,dr,gr,vr,br,_r,pr],([re,be,Se,he,Ee,Li,Pi,Hi,Fi,Yi,Oi,Wi,ji,Ei])=>{const Gi={x:{scale:Se,sort:Oi},y:{scale:he,sort:Wi},r:{scale:Ee,sort:Ei},z:{scale:Li,sort:ji}},Tr=Object.fromEntries([["x",Tn(Pi)],["y",Tn(Hi)],["z",Tn(Fi)],["r",Tn(Yi)]].filter(([xn,Ii])=>Ii!==!1)),Cr=oo(be,Tr),qi=Object.fromEntries(Object.keys(Cr).map(xn=>[xn,Gi[xn]]));return Object.keys(Cr).length>0?{...ko(re,Cr,qi),...Tr}:Tr}),la=ee([Pe,lr],bn("x")),fa=ee([Pe,fr],bn("y")),da=ee([Pe,dr],bn("z")),ga=ee([Pe,gr],bn("r")),Ot=ee([hr,Pe,la,gn,an,sn,at,it,oa,rt],Dn("x")),ha=ee([Pt,Ot],kn),Wt=ee([mr,Pe,fa,hn,on,ln,at,it,ca,rt],Dn("y")),ma=ee([Ht,Wt],kn),jt=ee([yr,Pe,da,mn,cn,fn,at,it,ua,rt],Dn("z")),ya=ee([Ft,jt],kn),Et=ee([xr,Pe,ga,yn,un,dn,at,it,sa,rt],Dn("r")),xa=ee([Yt,Et],kn),zi=ee(Ot,re=>re.domain()),Ri=ee(Wt,re=>re.domain()),Ni=ee(jt,re=>re.domain()),Ui=ee(Et,re=>re.domain()),va=ee([Ot],Sn),ba=ee([Wt],Sn),_a=ee([jt],Sn),pa=ee([Et],Sn),wa=ee([at,it],([re,be])=>re/be);Zi("LayerCake",{activeGetters:Dr,width:at,height:it,percentRange:rt,aspectRatio:wa,containerWidth:At,containerHeight:Lt,x:Pt,y:Ht,z:Ft,r:Yt,custom:Mr,data:sr,xNice:an,yNice:on,zNice:cn,rNice:un,xDomainSort:vr,yDomainSort:br,zDomainSort:_r,rDomainSort:pr,xReverse:sn,yReverse:ln,zReverse:fn,rReverse:dn,xPadding:gn,yPadding:hn,zPadding:mn,rPadding:yn,padding:kr,flatData:rn,extents:Pe,xDomain:zi,yDomain:Ri,zDomain:Ni,rDomain:Ui,xRange:va,yRange:ba,zRange:_a,rRange:pa,config:wr,xScale:Ot,xGet:ha,yScale:Wt,yGet:ma,zScale:jt,zGet:ya,rScale:Et,rGet:xa}),C(()=>(T(rr()),T(Ut())),()=>{fe(Ne,typeof rr()>"u"?typeof Ut().bandwidth!="function":rr())}),C(()=>T(We()),()=>{We()&&Te(q,d(q).x=We())}),C(()=>T(je()),()=>{je()&&Te(q,d(q).y=je())}),C(()=>T(Ze()),()=>{Ze()&&Te(q,d(q).z=Ze())}),C(()=>T(Qe()),()=>{Qe()&&Te(q,d(q).r=Qe())}),C(()=>T(ht()),()=>{ht()&&Te(q,d(q).xDomain=ht())}),C(()=>T(mt()),()=>{mt()&&Te(q,d(q).yDomain=mt())}),C(()=>T(yt()),()=>{yt()&&Te(q,d(q).zDomain=yt())}),C(()=>T(xt()),()=>{xt()&&Te(q,d(q).rDomain=xt())}),C(()=>T(vt()),()=>{vt()&&Te(q,d(q).xRange=vt())}),C(()=>T(bt()),()=>{bt()&&Te(q,d(q).yRange=bt())}),C(()=>T(_t()),()=>{_t()&&Te(q,d(q).zRange=_t())}),C(()=>T(pt()),()=>{pt()&&Te(q,d(q).rRange=pt())}),C(()=>T($e()),()=>{F(rt,$e())}),C(()=>T(gt()),()=>{F(At,gt())}),C(()=>T(nt()),()=>{F(Lt,nt())}),C(()=>T(Le()),()=>{F(sr,Le())}),C(()=>(T($t()),T(Le())),()=>{F(rn,$t()||Le())}),C(()=>T(or()),()=>{F(ia,or())}),C(()=>T(We()),()=>{F(Pt,Xe(We()))}),C(()=>T(je()),()=>{F(Ht,Xe(je()))}),C(()=>T(Ze()),()=>{F(Ft,Xe(Ze()))}),C(()=>T(Qe()),()=>{F(Yt,Xe(Qe()))}),C(()=>T(ht()),()=>{F(lr,ht())}),C(()=>T(mt()),()=>{F(fr,mt())}),C(()=>T(yt()),()=>{F(dr,yt())}),C(()=>T(xt()),()=>{F(gr,xt())}),C(()=>T(qn()),()=>{F(an,qn())}),C(()=>T(In()),()=>{F(on,In())}),C(()=>T(Bn()),()=>{F(cn,Bn())}),C(()=>T(Vn()),()=>{F(un,Vn())}),C(()=>T(nr()),()=>{F(sn,nr())}),C(()=>d(Ne),()=>{F(ln,d(Ne))}),C(()=>T(ar()),()=>{F(fn,ar())}),C(()=>T(ir()),()=>{F(dn,ir())}),C(()=>T(Zn()),()=>{F(gn,Zn())}),C(()=>T(Qn()),()=>{F(hn,Qn())}),C(()=>T(Xn()),()=>{F(mn,Xn())}),C(()=>T(Jn()),()=>{F(yn,Jn())}),C(()=>T(vt()),()=>{F(oa,vt())}),C(()=>T(bt()),()=>{F(ca,bt())}),C(()=>T(_t()),()=>{F(ua,_t())}),C(()=>T(pt()),()=>{F(sa,pt())}),C(()=>T(Kn()),()=>{F(hr,Kn())}),C(()=>T(Ut()),()=>{F(mr,Ut())}),C(()=>T(er()),()=>{F(yr,er())}),C(()=>T(tr()),()=>{F(xr,tr())}),C(()=>T(cr()),()=>{F(Mr,cr())}),C(()=>d(q),()=>{F(wr,d(q))}),C(()=>(p(),T(aa()),T(Rt()),i(),T($t()),o(),U(),d(q),b(),Y(),w(),k()),()=>{p()&&aa()===!0&&(Rt()===!0||typeof window<"u")&&zt({data:i(),flatData:typeof $t()<"u"?o():null,boundingBox:p(),activeGetters:U(),x:d(q).x,y:d(q).y,z:d(q).z,r:d(q).r,xScale:b(),yScale:Y(),zScale:w(),rScale:k()})}),Qi(),ro();var Ma=Qt(),$i=He(Ma);{var Ai=re=>{var be=ts();let Se;var he=te(be);Ji(he,t,"default",{get element(){return Nt()},get width(){return j()},get height(){return ie()},get aspectRatio(){return B()},get containerWidth(){return r()},get containerHeight(){return a()},get activeGetters(){return U()},get percentRange(){return n()},get x(){return c()},get y(){return s()},get z(){return u()},get r(){return f()},get custom(){return E()},get data(){return i()},get xNice(){return g()},get yNice(){return h()},get zNice(){return _()},get rNice(){return R()},get xDomainSort(){return K()},get yDomainSort(){return G()},get zDomainSort(){return ge()},get rDomainSort(){return ye()},get xReverse(){return A()},get yReverse(){return P()},get zReverse(){return J()},get rReverse(){return Z()},get xPadding(){return W()},get yPadding(){return Q()},get zPadding(){return H()},get rPadding(){return D()},get padding(){return oe()},get flatData(){return o()},get extents(){return Re()},get xDomain(){return ne()},get yDomain(){return ue()},get zDomain(){return le()},get rDomain(){return X()},get xRange(){return Oe()},get yRange(){return x()},get zRange(){return M()},get rRange(){return z()},get config(){return S()},get xScale(){return b()},get xGet(){return l()},get yScale(){return Y()},get yGet(){return se()},get zScale(){return w()},get zGet(){return N()},get rScale(){return k()},get rGet(){return ce()}}),V(be),Gr(be,Ee=>Nt(Ee),()=>Nt()),xe(()=>Se=Je(be,"",Se,{position:Ue(),top:Ue()==="absolute"?"0":null,right:Ue()==="absolute"?"0":null,bottom:Ue()==="absolute"?"0":null,left:Ue()==="absolute"?"0":null,"pointer-events":dt()===!1?"none":null})),Ta(be,"clientWidth",gt),Ta(be,"clientHeight",nt),O(re,be)};_e($i,re=>{(Rt()===!0||typeof window<"u")&&re(Ai)})}O(e,Ma),tt(),pe()}var rs=we('<div class="layercake-layout-html svelte-5lwx3b"><!></div>');function as(e,t){et(t,!0);const n=()=>v(i,"$padding",r),[r,a]=st(),{padding:i}=Ct("LayerCake");let o=m(t,"element",15,void 0),c=m(t,"zIndex",3,void 0),s=m(t,"pointerEvents",3,void 0),u=m(t,"role",3,void 0),f=m(t,"label",3,void 0),g=m(t,"labelledBy",3,void 0),h=m(t,"describedBy",3,void 0),_=m(t,"overflow",3,"visible"),R=de(()=>u()||(f()||g()||h()?"figure":void 0));var A=rs();let P;var J=te(A);Cn(J,()=>t.children??ai,()=>({element:o()})),V(A),Gr(A,Z=>o(Z),()=>o()),xe(()=>{$(A,"role",d(R)),$(A,"aria-label",f()),$(A,"aria-labelledby",g()),$(A,"aria-describedby",h()),P=Je(A,"",P,{"z-index":c(),"pointer-events":s()===!1?"none":null,top:n().top+"px",right:n().right+"px",bottom:n().bottom+"px",left:n().left+"px",overflow:_()})}),O(e,A),tt(),a()}var is=ke("<title><!></title>"),os=ke("<title> </title>"),cs=ke("<defs><!></defs>"),us=ke('<svg class="layercake-layout-svg svelte-vzq0jw"><!><!><!></svg>');function ss(e,t){et(t,!0);const n=()=>v(Z,"$containerWidth",i),r=()=>v(W,"$containerHeight",i),a=()=>v(Q,"$padding",i),[i,o]=st();let c=m(t,"element",15,void 0),s=m(t,"zIndex",3,void 0),u=m(t,"pointerEvents",3,void 0),f=m(t,"viewBox",3,void 0),g=m(t,"label",3,void 0),h=m(t,"labelledBy",3,void 0),_=m(t,"describedBy",3,void 0),R=m(t,"titleText",3,void 0),A=m(t,"title",3,void 0),P=m(t,"defs",3,void 0),J=m(t,"overflow",3,"visible");const{containerWidth:Z,containerHeight:W,padding:Q}=Ct("LayerCake");var H=us();let D;var E=te(H);{var S=w=>{var k=is(),j=te(k);Cn(j,A),V(k),O(w,k)},p=w=>{var k=Qt(),j=He(k);{var ie=B=>{var K=os(),G=te(K,!0);V(K),xe(()=>Ke(G,R())),O(B,K)};_e(j,B=>{R()&&B(ie)},!0)}O(w,k)};_e(E,w=>{typeof A()=="function"?w(S):w(p,!1)})}var U=ae(E);{var b=w=>{var k=cs(),j=te(k);Cn(j,P),V(k),O(w,k)};_e(U,w=>{typeof P()=="function"&&w(b)})}var Y=ae(U);Cn(Y,()=>t.children??ai,()=>({element:c()})),V(H),Gr(H,w=>c(w),()=>c()),xe(()=>{$(H,"viewBox",f()),$(H,"width",n()),$(H,"height",r()),$(H,"aria-label",g()),$(H,"aria-labelledby",h()),$(H,"aria-describedby",_()),D=Je(H,"",D,{"z-index":s(),"pointer-events":u()===!1?"none":null,top:a().top+"px",left:a().left+"px",width:`calc(100% - ${a().left+a().right}px)`,height:`calc(100% - ${a().top+a().bottom}px)`,overflow:J()})}),O(e,H),tt(),o()}var ls=ke('<path class="path-line svelte-gmbklp"></path>');function fs(e,t){et(t,!0);const n=()=>v(s,"$data",o),r=()=>v(u,"$xGet",o),a=()=>v(g,"$yScale",o),i=()=>v(f,"$yGet",o),[o,c]=st(),{data:s,xGet:u,yGet:f,yScale:g}=Ct("LayerCake");let h=m(t,"stroke",3,"#ab00d6"),_=m(t,"yAccessorKey",3,null),R=de(()=>"M"+n().filter(P=>_()?P[_()]!=null:!0).map(P=>{const J=r()(P),Z=_()?a()(P[_()]):i()(P);return J+","+Z}).join("L"));var A=ls();xe(()=>{$(A,"d",d(R)),$(A,"stroke",h())}),O(e,A),tt(),c()}var ds=ke('<line class="baseline svelte-4vwzuc" x1="0"></line>'),gs=ke('<line class="gridline svelte-4vwzuc" y2="0"></line>'),hs=ke('<line class="tick-mark svelte-4vwzuc"></line>'),ms=ke('<!><g><!><!><text class="svelte-4vwzuc"> </text></g>',1),ys=ke("<g></g>");function xs(e,t){et(t,!0);const n=()=>v(f,"$xScale",o),r=()=>v(u,"$height",o),a=()=>v(s,"$width",o),i=()=>v(g,"$yRange",o),[o,c]=st(),{width:s,height:u,xScale:f,yRange:g}=Ct("LayerCake");let h=m(t,"tickMarks",3,!1),_=m(t,"gridlines",3,!0),R=m(t,"tickMarkLength",3,6),A=m(t,"baseline",3,!1),P=m(t,"snapLabels",3,!1),J=m(t,"format",3,w=>w),Z=m(t,"ticks",3,void 0),W=m(t,"tickGutter",3,0),Q=m(t,"dx",3,0),H=m(t,"dy",3,0),D=de(()=>h()===!0?R()??6:0),E=de(()=>typeof n().bandwidth=="function"),S=de(()=>Array.isArray(Z())?Z():d(E)?n().domain():typeof Z()=="function"?Z()(n().ticks()):n().ticks(Z())),p=de(()=>d(E)?n().bandwidth()/2:0);function U(w){if(P()===!0){if(w===0)return"start";if(w===d(S).length-1)return"end"}return"middle"}var b=ys();let Y;Xt(b,22,()=>d(S),w=>w,(w,k,j)=>{var ie=ms(),B=He(ie);{var K=le=>{var X=ds();xe(()=>{$(X,"y1",r()),$(X,"y2",r()),$(X,"x2",a())}),O(le,X)};_e(B,le=>{A()===!0&&le(K)})}var G=ae(B),ge=te(G);{var ye=le=>{var X=gs();xe(()=>{$(X,"x1",d(p)),$(X,"x2",d(p)),$(X,"y1",-r())}),O(le,X)};_e(ge,le=>{_()===!0&&le(ye)})}var oe=ae(ge);{var Re=le=>{var X=hs();xe(()=>{$(X,"x1",d(p)),$(X,"x2",d(p)),$(X,"y1",W()),$(X,"y2",W()+d(D))}),O(le,X)};_e(oe,le=>{h()===!0&&le(Re)})}var ne=ae(oe),ue=te(ne,!0);V(ne),V(G),xe((le,X,Oe,x)=>{Fr(G,0,`tick tick-${d(j)??""}`,"svelte-4vwzuc"),$(G,"transform",`translate(${le??""},${X??""})`),$(ne,"x",d(p)),$(ne,"y",W()+d(D)),$(ne,"dx",Q()),$(ne,"dy",H()),$(ne,"text-anchor",Oe),Ke(ue,x)},[()=>n()(k),()=>Math.max(...i()),()=>U(d(j)),()=>J()(k)]),O(w,ie)}),V(b),xe(()=>Y=Fr(b,0,"axis x-axis svelte-4vwzuc",null,Y,{snapLabels:P()})),O(e,b),tt(),c()}var vs=ke('<line class="gridline svelte-mmstdn"></line>'),bs=ke('<line class="tick-mark svelte-mmstdn"></line>'),_s=ke('<g><!><!><text class="svelte-mmstdn"> </text></g>'),ps=ke('<g class="axis y-axis"></g>');function ws(e,t){et(t,!0);const n=()=>v(s,"$yScale",i),r=()=>v(c,"$xRange",i),a=()=>v(u,"$width",i),[i,o]=st(),{xRange:c,yScale:s,width:u}=Ct("LayerCake");let f=m(t,"tickMarks",3,!1),g=m(t,"labelPosition",3,"even"),h=m(t,"snapBaselineLabel",3,!1),_=m(t,"gridlines",3,!0),R=m(t,"tickMarkLength",3,void 0),A=m(t,"format",3,k=>k),P=m(t,"ticks",3,4),J=m(t,"tickGutter",3,0),Z=m(t,"dx",3,0),W=m(t,"dy",3,0),Q=m(t,"charPixelWidth",3,7.25);function H(k,j){return j===","||j==="."?k+Q()*.5:k+Q()}let D=de(()=>typeof n().bandwidth=="function"),E=de(()=>Array.isArray(P())?P():d(D)?n().domain():typeof P()=="function"?P()(n().ticks()):n().ticks(P())),S=de(()=>Math.max(10,Math.max(...d(E).map(k=>A()(k).toString().split("").reduce(H,0))))),p=de(()=>f()===!0?g()==="above"?R()??d(S):R()??6:0),U=de(()=>-J()-(g()==="above"?d(S):d(p))),b=de(()=>d(D)?n().bandwidth()/2:0),Y=de(()=>Math.max(...d(E).map(n())));var w=ps();Xt(w,20,()=>d(E),k=>k,(k,j)=>{const ie=de(()=>n()(j));var B=_s(),K=te(B);{var G=ne=>{var ue=vs();xe(()=>{$(ue,"x1",d(U)),$(ue,"x2",a()),$(ue,"y1",d(b)),$(ue,"y2",d(b))}),O(ne,ue)};_e(K,ne=>{_()===!0&&ne(G)})}var ge=ae(K);{var ye=ne=>{var ue=bs();xe(()=>{$(ue,"x1",d(U)),$(ue,"x2",d(U)+d(p)),$(ue,"y1",d(b)),$(ue,"y2",d(b))}),O(ne,ue)};_e(ge,ne=>{f()===!0&&ne(ye)})}var oe=ae(ge),Re=te(oe,!0);V(oe),V(B),xe(ne=>{Fr(B,0,`tick tick-${j??""}`,"svelte-mmstdn"),$(B,"transform",`translate(${r()[0]??""}, ${d(ie)??""})`),$(oe,"x1",d(U)),$(oe,"y",d(b)),$(oe,"dx",Z()+(g()==="even"?-3:0)),$(oe,"text-anchor",g()==="above"?"start":"end"),$(oe,"dy",W()+(g()==="above"||h()===!0&&d(ie)===d(Y)?-3:4)),Ke(Re,ne)},[()=>A()(j)]),O(k,B)}),V(w),O(e,w),tt(),o()}var Ms=we('<div class="flex items-center gap-2"><div class="w-2 h-2 rounded-full"></div> <span> </span> <span class="font-mono"> </span></div>'),Ds=we('<div class="tooltip hidden md:block svelte-b0p9nb"><div class="line svelte-b0p9nb"></div> <div class="content bg-white p-2 shadow rounded border border-gray-200 text-xs z-50 absolute top-0 transform -translate-x-1/2 mt-4 pointer-events-none whitespace-nowrap text-zinc-800"><div class="font-bold mb-1"> </div> <!></div></div>'),ks=we('<div class="tooltip-trigger hidden md:block svelte-b0p9nb"></div> <!>',1);function Ss(e,t){et(t,!0);const n=()=>v(R,"$xGet",c),r=()=>v(h,"$xScale",c),a=()=>v(u,"$data",c),i=()=>v(f,"$width",c),o=()=>v(g,"$height",c),[c,s]=st(),{data:u,width:f,height:g,xScale:h,yGet:_,xGet:R,config:A}=Ct("LayerCake");let P=m(t,"formatTitle",3,k=>k),J=m(t,"formatValue",3,k=>k),Z=m(t,"labels",19,()=>({})),W=Ge(!1),Q=Ge(Pr({})),H=Ge(0);const D=Wn(k=>n()(k)).right;function E(k){const{left:j,top:ie}=k.currentTarget.getBoundingClientRect(),B=k.clientX-j,K=r().invert(B),G=D(a(),K,1),ge=a()[G-1],ye=a()[G],oe=!ge||!ye?ge||ye:K-n()(ge)>n()(ye)-K?ye:ge;oe?(fe(Q,oe,!0),fe(H,r()(n()(oe)),!0),fe(W,!0)):fe(W,!1)}function S(){fe(W,!1)}var p=ks(),U=He(p);U.__mousemove=E;let b;var Y=ae(U,2);{var w=k=>{var j=Ds(),ie=te(j);let B;var K=ae(ie,2),G=te(K),ge=te(G,!0);V(G);var ye=ae(G,2);Xt(ye,17,()=>Object.entries(Z()),Yr,(oe,Re)=>{var ne=de(()=>Hr(d(Re),2));let ue=()=>d(ne)[0],le=()=>d(ne)[1];var X=Qt(),Oe=He(X);{var x=M=>{var z=Ms(),l=te(z);let se;var N=ae(l,2),ce=te(N);V(N);var y=ae(N,2),pe=te(y,!0);V(y),V(z),xe(Ne=>{se=Je(l,"",se,{"background-color":le().color}),Ke(ce,`${le().text??""}:`),Ke(pe,Ne)},[()=>J()(d(Q)[ue()],ue())]),O(M,z)};_e(Oe,M=>{d(Q)[ue()]!=null&&M(x)})}O(oe,X)}),V(K),V(j),xe(oe=>{Je(j,`left:${d(H)??""}px; top: 0px;`),B=Je(ie,"",B,{height:`${o()??""}px`}),Ke(ge,oe)},[()=>P()(n()(d(Q)))]),O(k,j)};_e(Y,k=>{d(W)&&d(Q)&&k(w)})}xe(()=>b=Je(U,"",b,{width:`${i()??""}px`,height:`${o()??""}px`})),Ki("mouseleave",U,S),O(e,p),tt(),s()}ii(["mousemove"]);var Ts=we('<div class="text-sm text-zinc-400"> </div>'),Cs=we('<div class="flex h-64 items-center justify-center"><!></div>'),zs=we('<button class="rounded-full border px-3 py-1 text-xs font-medium transition-colors"> </button>'),Rs=we('<button class="text-xs text-indigo-400 underline hover:text-indigo-300">Reset</button>'),Ns=we("<!> <!> <!>",1),Us=we("<!> <!>",1),$s=we('<div class="relative h-[400px] w-full rounded-lg bg-zinc-800 p-4 shadow-lg"><!></div>'),As=we('<div class="rounded-lg bg-zinc-800 p-8 text-center text-zinc-400 shadow-lg">Not enough data to display chart. Add more entries!</div>'),Ls=we('<div class="space-y-4"><div class="space-y-4 rounded-lg bg-zinc-800 p-4 shadow-lg"><div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Metrics:</span> <div class="flex flex-wrap gap-2"></div></div> <div class="flex flex-wrap items-center gap-4"><span class="text-sm font-medium text-zinc-300">Date Range:</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <span class="text-zinc-500">to</span> <input type="date" class="rounded border-zinc-600 bg-zinc-700 px-2 py-1 text-sm text-white focus:border-indigo-500 focus:ring-indigo-500"/> <!></div></div> <!></div> <button class="fixed right-8 bottom-8 z-50 rounded-full bg-indigo-600 p-4 text-white shadow-lg transition-transform hover:scale-105 hover:bg-indigo-500" aria-label="Create New Entry"><!></button> <!>',1),Ps=we('<div class="py-12 text-center"><h2 class="text-xl font-semibold text-zinc-100">Welcome to Tracker</h2> <p class="mt-2 text-zinc-400">Please sign in to start tracking.</p></div>'),Hs=we('<div><div class="mb-6 flex items-center justify-between"><h2 class="text-xl font-bold text-zinc-100">Your Progress</h2> <!></div> <!></div>');function Qs(e,t){et(t,!0);let n=Ge(null),r=Ge(!1),a=Ge(!0),i=Ge(Pr([])),o=de(()=>d(i).map(S=>({...S,created_at:new Date(S.created_at)})).sort((S,p)=>S.created_at.getTime()-p.created_at.getTime())),s=Pr({mood:{label:"Mood",color:"#8b5cf6",active:!0},energy:{label:"Energy",color:"#f97316",active:!0},physical:{label:"Physical",color:"#ef4444",active:!0},sleep:{label:"Sleep",color:"#3b82f6",active:!0},meals:{label:"Meals",color:"#22c55e",active:!0},weight:{label:"Weight",color:"#71717a",active:!1}}),u=Ge(""),f=Ge("");Xi(()=>{if(d(o).length>0&&!d(u)&&!d(f)){const S=d(o)[0].created_at,p=new Date,U=b=>{const Y=b.getFullYear(),w=String(b.getMonth()+1).padStart(2,"0"),k=String(b.getDate()).padStart(2,"0");return`${Y}-${w}-${k}`};fe(u,U(S),!0),fe(f,U(p),!0)}});let g=de(()=>{let S=d(o);if(d(u)){const[p,U,b]=d(u).split("-").map(Number),Y=new Date(p,U-1,b);S=S.filter(w=>w.created_at>=Y)}if(d(f)){const[p,U,b]=d(f).split("-").map(Number),Y=new Date(p,U-1,b);Y.setHours(23,59,59,999),S=S.filter(w=>w.created_at<=Y)}return S}),h=de(()=>{const S=Object.keys(s).filter(U=>s[U].active);if(S.length===0)return[0,10];let p=0;for(const U of d(g))for(const b of S){const Y=U[b];typeof Y=="number"&&Y>p&&(p=Y)}return[0,p*1.1]});const _=ra("%b %d");ri(()=>{vn.auth.getSession().then(({data:{session:p}})=>{fe(n,p,!0),p?R():fe(a,!1)});const{data:{subscription:S}}=vn.auth.onAuthStateChange((p,U)=>{fe(n,U,!0),U?R():fe(a,!1)});return()=>S.unsubscribe()});async function R(){fe(a,!0);const{data:S,error:p}=await vn.from("dailyTracking").select("created_at, mood, energy, physical, sleep, meals, weight").order("created_at",{ascending:!0});!p&&S?fe(i,S,!0):p&&console.error("Error fetching data:",p),fe(a,!1)}async function A(S){const{error:p}=await vn.from("dailyTracking").insert(S);p?(console.error("Error saving entry:",p),alert("Error saving entry: "+p.message)):(fe(r,!1),alert("Entry saved successfully!"),R())}function P(S){const p=S;s[p].active=!s[p].active}var J=Hs(),Z=te(J),W=ae(te(Z),2);{var Q=S=>{var p=Ts(),U=te(p,!0);V(p),xe(()=>Ke(U,d(n).user.email)),O(S,p)};_e(W,S=>{d(n)&&S(Q)})}V(Z);var H=ae(Z,2);{var D=S=>{var p=Cs(),U=te(p);eo(U,{class:"h-8 w-8 animate-spin text-indigo-500"}),V(p),O(S,p)},E=S=>{var p=Qt(),U=He(p);{var b=w=>{var k=Ls(),j=He(k),ie=te(j),B=te(ie),K=ae(te(B),2);Xt(K,21,()=>Object.entries(s),Yr,(M,z)=>{var l=de(()=>Hr(d(z),2));let se=()=>d(l)[0],N=()=>d(l)[1];var ce=zs();ce.__click=()=>P(se());let y;var pe=te(ce,!0);V(ce),xe(()=>{y=Je(ce,"",y,{"background-color":N().active?N().color+"20":"transparent","border-color":N().active?N().color:"#3f3f46",color:N().active?N().color:"#a1a1aa"}),Ke(pe,N().label)}),O(M,ce)}),V(K),V(B);var G=ae(B,2),ge=ae(te(G),2);ka(ge);var ye=ae(ge,4);ka(ye);var oe=ae(ye,2);{var Re=M=>{var z=Rs();z.__click=()=>{fe(u,""),fe(f,"")},O(M,z)};_e(oe,M=>{(d(u)||d(f))&&M(Re)})}V(G),V(ie);var ne=ae(ie,2);{var ue=M=>{var z=$s(),l=te(z);{let se=de(Hu);ns(l,{padding:{top:20,right:10,bottom:20,left:25},x:N=>N.created_at,get yDomain(){return d(h)},get data(){return d(g)},get xScale(){return d(se)},children:(N,ce)=>{var y=Us(),pe=He(y);ss(pe,{children:(zt,Rt)=>{var dt=Ns(),Ue=He(dt);xs(Ue,{gridlines:!1,ticks:5,get format(){return _}});var $e=ae(Ue,2);ws($e,{ticks:4,gridlines:!0});var En=ae($e,2);Xt(En,17,()=>Object.entries(s),Yr,(Gn,gt)=>{var nt=de(()=>Hr(d(gt),2));let Nt=()=>d(nt)[0],We=()=>d(nt)[1];var je=Qt(),Ze=He(je);{var Qe=Le=>{fs(Le,{get stroke(){return We().color},get yAccessorKey(){return Nt()}})};_e(Ze,Le=>{We().active&&Le(Qe)})}O(Gn,je)}),O(zt,dt)},$$slots:{default:!0}});var Ne=ae(pe,2);as(Ne,{children:(zt,Rt)=>{{let dt=de(()=>Object.fromEntries(Object.entries(s).filter(([Ue,$e])=>$e.active).map(([Ue,$e])=>[Ue,{text:$e.label,color:$e.color}])));Ss(zt,{get labels(){return d(dt)},get formatTitle(){return _}})}},$$slots:{default:!0}}),O(N,y)},$$slots:{default:!0}})}V(z),O(M,z)},le=M=>{var z=As();O(M,z)};_e(ne,M=>{d(g).length>1?M(ue):M(le,!1)})}V(j);var X=ae(j,2);X.__click=()=>fe(r,!0);var Oe=te(X);to(Oe,{class:"h-6 w-6"}),V(X);var x=ae(X,2);no(x,{get isOpen(){return d(r)},entry:null,onClose:()=>fe(r,!1),onSave:A}),Sa(ge,()=>d(u),M=>fe(u,M)),Sa(ye,()=>d(f),M=>fe(f,M)),O(w,k)},Y=w=>{var k=Ps();O(w,k)};_e(U,w=>{d(n)?w(b):w(Y,!1)},!0)}O(S,p)};_e(H,S=>{d(a)?S(D):S(E,!1)})}V(J),O(e,J),tt()}ii(["click"]);export{Qs as component};
