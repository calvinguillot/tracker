const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DO06OB9F.js","../chunks/DKYp-BiE.js","../chunks/B-wedEgi.js","../chunks/DXU5jnQ_.js","../chunks/B3vO68tZ.js","../chunks/CpFvtbVR.js","../chunks/BW5xtwr9.js","../chunks/JHaZoCpa.js","../chunks/CKrhTcXd.js","../chunks/DfSmxfug.js","../chunks/1UUrSLx-.js"])))=>i.map(i=>d[i]);
import{c as q,a as h,f as D}from"../chunks/B-wedEgi.js";import{k as j,p as Me,a as Se,z as e,A as t,B as c,F as W,n as s,l as je,I as T,t as Y,G as b,o as ht,j as mt,bm as xt}from"../chunks/DXU5jnQ_.js";import{d as Ye,s as le}from"../chunks/CKrhTcXd.js";import{l as Z,s as J,i as ie,a as Ze,b as Je}from"../chunks/1UUrSLx-.js";import{s as gt}from"../chunks/Dff9szoE.js";import{I as Q,s as ee,f as oe,t as Qe,k as ye,a as N,c as y,g as _}from"../chunks/CpFvtbVR.js";import{h as _t}from"../chunks/BZ3weDyr.js";import{s as ue}from"../chunks/BW5xtwr9.js";import{b as a}from"../chunks/CeYJ_5j6.js";import{s as bt,g as Ge}from"../chunks/BzZm8l7o.js";import{d as Ne}from"../chunks/Ban-EeZC.js";import{_ as $t}from"../chunks/PPVm8Dsz.js";import{r as yt,P as Ie,C as fe}from"../chunks/DKYp-BiE.js";import{f as et}from"../chunks/BsCRBkET.js";import{i as kt}from"../chunks/B3vO68tZ.js";import{s as ve}from"../chunks/JHaZoCpa.js";import{S as Fe}from"../chunks/Cj4_WUF5.js";import{L as wt}from"../chunks/Bocx7vec.js";const zt=!0,la=Object.freeze(Object.defineProperty({__proto__:null,prerender:zt},Symbol.toStringTag,{value:"Module"})),Pt=()=>{const l=bt;return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},updated:l.updated}},tt={subscribe(l){return Pt().page.subscribe(l)}},Re=yt("App",{web:()=>$t(()=>import("../chunks/DO06OB9F.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url).then(l=>new l.AppWeb)});function Ue(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2"}],["path",{d:"M6.453 15h11.094"}],["path",{d:"M8.5 2h7"}]];Q(l,J({name:"flask-conical"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function Be(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];Q(l,J({name:"folder"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function Ve(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];Q(l,J({name:"layout-dashboard"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function We(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];Q(l,J({name:"log-out"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function At(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];Q(l,J({name:"menu"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function qe(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];Q(l,J({name:"settings"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function Ke(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5"}]];Q(l,J({name:"sticky-note"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function Xe(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]];Q(l,J({name:"table"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}function Nt(l,r){const o=Z(r,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Q(l,J({name:"x"},()=>o,{get iconNode(){return v},children:(f,d)=>{var i=q(),u=j(i);ee(u,r,"default",{}),h(f,i)},$$slots:{default:!0}}))}var jt=D('<button class="rounded-md bg-zinc-800 px-4 py-2 text-sm font-semibold text-zinc-200 shadow-sm ring-1 ring-zinc-700 ring-inset hover:bg-zinc-700"> </button> <button> </button>',1),Mt=D('<button class="rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:brightness-110 focus-visible:outline-2 focus-visible:outline-offset-2">OK</button>'),St=D('<div class="fixed inset-0 z-60 flex items-center justify-center bg-black/70 p-4 backdrop-blur-sm" role="dialog" aria-modal="true" tabindex="-1"><div class="flex w-full max-w-sm flex-col overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900 shadow-xl"><div class="flex items-center justify-between border-b border-zinc-800 bg-zinc-900 p-4"><h2 class="text-lg font-bold text-zinc-100"> </h2> <button class="text-zinc-400 transition-colors hover:text-zinc-200" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-6"><p class="text-zinc-300"> </p></div> <div class="flex justify-end gap-3 border-t border-zinc-800 bg-zinc-900 p-4"><!></div></div></div>');function Ct(l,r){Me(r,!1);function o(M){M.target===M.currentTarget&&ye(!1)}function v(M){M.key==="Escape"&&ye(!1)}function f(){ye(!0)}function d(){ye(!1)}kt();var i=q(),u=j(i);{var te=M=>{var P=St();P.__click=o,P.__keydown=v;var K=e(P),I=e(K),F=e(I),m=e(F,!0);t(F);var p=c(F,2);p.__click=d,t(I);var x=c(I,2),k=e(x),O=e(k,!0);t(k),t(x);var R=c(x,2),U=e(R);{var B=V=>{var ae=jt(),n=j(ae);n.__click=d;var g=e(n,!0);t(n);var w=c(n,2);w.__click=f;var A=e(w,!0);t(w),W(z=>{le(g,oe.cancelText),y(w,1,`rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:brightness-110 focus-visible:outline-2 focus-visible:outline-offset-2 ${oe.isDestructive?"bg-red-600 focus-visible:outline-red-600":""}`),ve(w,z),le(A,oe.confirmText)},[()=>oe.isDestructive?"":`background-color: ${N.getAccentHex()}`]),h(V,ae)},G=V=>{var ae=Mt();ae.__click=()=>ye(!0),W(n=>ve(ae,`background-color: ${n??""}`),[()=>N.getAccentHex()]),h(V,ae)};ie(U,V=>{oe.type==="confirm"?V(B):V(G,!1)})}t(R),t(K),t(P),W(()=>{le(m,oe.title),le(O,oe.message)}),Qe(3,P,()=>et,()=>({duration:N.getTransitionDuration()})),h(M,P)};ie(u,M=>{oe.isOpen&&M(te)})}h(l,i),Se()}Ye(["click","keydown"]);var Tt=D('<div class="col-start-2 row-start-1 flex justify-center md:hidden"><span class="text-lg font-semibold text-zinc-100"> </span></div> <nav class="col-start-2 row-start-1 hidden items-center justify-center gap-2 md:flex"><a aria-label="Dashboard"><!> <span class="text-sm font-medium">Dashboard</span></a> <a aria-label="Daily"><!> <span class="text-sm font-medium">Daily</span></a> <a aria-label="Art Calls"><!> <span class="text-sm font-medium">Art Calls</span></a> <a aria-label="Projects"><!> <span class="text-sm font-medium">Projects</span></a> <a aria-label="Tasks"><!> <span class="text-sm font-medium">Tasks</span></a> <a aria-label="Notes"><!> <span class="text-sm font-medium">Notes</span></a> <a aria-label="Experimental"><!> <span class="text-sm font-medium">Experimental</span></a></nav> <div class="hidden items-center justify-end gap-4 justify-self-end md:flex"><a aria-label="Settings"><!></a> <button class="rounded-full p-2 text-red-500 transition-colors hover:bg-zinc-800/50 hover:text-red-400" aria-label="Sign Out"><!></button></div> <div class="col-start-3 flex justify-end md:hidden"><button class="rounded-md p-2 text-zinc-400 hover:bg-zinc-800 hover:text-white" aria-label="Toggle Menu"><!></button></div>',1),Dt=D('<div class="col-start-3 justify-self-end"><button class="rounded bg-zinc-800 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-zinc-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-zinc-800">Sign In with GitHub</button> <div class="mt-2 font-mono text-[10px] text-zinc-500"> <br/> </div></div>'),Ht=D('<header class="navbar-safe-area sticky top-0 z-50 w-full backdrop-blur-md"><div class="container mx-auto grid grid-cols-[1fr_auto_1fr] items-center gap-4 p-4"><div class="justify-self-start"><a class="home-icon-link group flex items-center transition-transform hover:scale-110 focus:outline-none focus-visible:ring-2 focus-visible:ring-zinc-500 focus-visible:ring-offset-2" aria-label="Home"><img alt="CG Tracker" class="h-8 w-8 rounded-full object-cover opacity-90 transition-opacity group-hover:opacity-100"/></a></div> <!></div></header>'),Lt=D('<div class="fixed top-[calc(4rem+var(--status-bar-height,0px))] right-0 bottom-0 left-0 z-60 flex flex-col bg-zinc-950/95 backdrop-blur-md md:hidden"><div class="flex flex-1 flex-col items-center justify-center"><div class="flex flex-col gap-2"><a class="flex items-center gap-3 rounded-md px-6 py-4 text-zinc-300 transition-colors hover:bg-zinc-800/50 hover:text-(--accent-color)"><!> <span class="text-lg font-medium">Notes</span></a> <a class="flex items-center gap-3 rounded-md px-6 py-4 text-zinc-300 transition-colors hover:bg-zinc-800/50 hover:text-(--accent-color)"><!> <span class="text-lg font-medium">Experimental</span></a> <a class="flex items-center gap-3 rounded-md px-6 py-4 text-zinc-300 transition-colors hover:bg-zinc-800/50 hover:text-(--accent-color)"><!> <span class="text-lg font-medium">Settings</span></a></div></div> <div class="flex justify-center pb-8"><button class="flex items-center gap-3 rounded-md px-6 py-4 text-red-500 transition-colors hover:bg-zinc-800/50 hover:text-red-400"><!> <span class="text-lg font-medium">Sign Out</span></button></div></div>'),Et=D('<nav class="fixed right-0 bottom-0 left-0 z-40 pb-[env(safe-area-inset-bottom,0px)] backdrop-blur-md md:hidden"><div class="flex items-center justify-around py-2"><a aria-label="Dashboard"><!> <span class="text-[10px] font-medium">Dashboard</span></a> <a aria-label="Daily"><!> <span class="text-[10px] font-medium">Daily</span></a> <a aria-label="Art Calls"><!> <span class="text-[10px] font-medium">Art Calls</span></a> <a aria-label="Projects"><!> <span class="text-[10px] font-medium">Projects</span></a> <a aria-label="Tasks"><!> <span class="text-[10px] font-medium">Tasks</span></a></div></nav>'),Ot=D("<!> <!> <!>",1);function Gt(l,r){Me(r,!0);const o=()=>Ze(tt,"$page",v),[v,f]=Je();let d=je(!1);async function i(){const n=fe.isNativePlatform()?"com.cgtracker.app://auth/callback":`${window.location.origin}${a}/auth/callback`;console.log(`Debug: Redirect URL is ${n}`);const{error:g}=await ue.auth.signInWithOAuth({provider:"github",options:{redirectTo:n}});g&&console.error("Error signing in:",g)}async function u(){const{error:n}=await ue.auth.signOut();n&&console.error("Error signing out:",n)}const te=T(()=>{const n=o().url.pathname;return n===a+"/"||n===a+""?"Dashboard":n===a+"/daily"?"Daily":n===a+"/artcalls"?"Art Calls":n===a+"/projects"?"Projects":n===a+"/tasks"?"Tasks":n===a+"/notes"?"Notes":n===a+"/experimental"?"Experimental":n===a+"/settings"?"Settings":"CG Tracker"}),M=T(()=>{const n=o().url.pathname;return n.includes("/notes")||n.includes("/experimental")||n.includes("/settings")}),P=T(()=>o().url.pathname===a+"/"||o().url.pathname===a+""),K=T(()=>o().url.pathname===a+"/daily"),I=T(()=>o().url.pathname===a+"/artcalls"),F=T(()=>o().url.pathname===a+"/projects"),m=T(()=>o().url.pathname===a+"/tasks"),p=T(()=>o().url.pathname===a+"/notes"),x=T(()=>o().url.pathname===a+"/experimental"),k=T(()=>o().url.pathname===a+"/settings");var O=Ot(),R=j(O);{var U=n=>{var g=Ht(),w=e(g),A=e(w),z=e(A);z.__click=()=>Y(d,!1);var he=e(z);t(z),t(A);var S=c(A,2);{var pe=$=>{var H=Tt(),L=j(H),C=e(L),X=e(C,!0);t(C),t(L);var re=c(L,2),E=e(re);let ce;var me=e(E);Ve(me,{class:"h-5 w-5"}),b(2),t(E);var de=c(E,2);let ke;var at=e(de);Xe(at,{class:"h-5 w-5"}),b(2),t(de);var xe=c(de,2);let Ce;var st=e(xe);Ie(st,{class:"h-5 w-5"}),b(2),t(xe);var ge=c(xe,2);let Te;var rt=e(ge);Be(rt,{class:"h-5 w-5"}),b(2),t(ge);var _e=c(ge,2);let De;var nt=e(_e);Fe(nt,{class:"h-5 w-5"}),b(2),t(_e);var be=c(_e,2);let He;var ot=e(be);Ke(ot,{class:"h-5 w-5"}),b(2),t(be);var we=c(be,2);let Le;var it=e(we);Ue(it,{class:"h-5 w-5"}),b(2),t(we),t(re);var ze=c(re,2),$e=e(ze);let Ee;var lt=e($e);qe(lt,{class:"h-6 w-6"}),t($e);var Pe=c($e,2);Pe.__click=u;var ct=e(Pe);We(ct,{class:"h-6 w-6"}),t(Pe),t(ze);var Oe=c(ze,2),Ae=e(Oe);Ae.__click=()=>Y(d,!s(d));var dt=e(Ae);{var ut=ne=>{Nt(ne,{class:"h-6 w-6"})},vt=ne=>{At(ne,{class:"h-6 w-6"})};ie(dt,ne=>{s(d)?ne(ut):ne(vt,!1)})}t(Ae),t(Oe),W((ne,ft,pt)=>{le(X,s(te)),ve(re,`--accent-color: ${ne??""}; background-color: ${ft??""}/50`),_(E,"href",`${a??""}/`),ce=y(E,1,"flex items-center gap-2 px-4 transition-colors hover:text-(--accent-color)",null,ce,{"text-zinc-400":!s(P),"text-[var(--accent-color)]":s(P)}),_(de,"href",`${a??""}/daily`),ke=y(de,1,"flex items-center gap-2 px-4 transition-colors hover:text-(--accent-color)",null,ke,{"text-zinc-400":!s(K),"text-[var(--accent-color)]":s(K)}),_(xe,"href",`${a??""}/artcalls`),Ce=y(xe,1,"flex items-center gap-2 px-4 transition-colors hover:text-(--accent-color)",null,Ce,{"text-zinc-400":!s(I),"text-[var(--accent-color)]":s(I)}),_(ge,"href",`${a??""}/projects`),Te=y(ge,1,"flex items-center gap-2 px-4 transition-colors hover:text-(--accent-color)",null,Te,{"text-zinc-400":!s(F),"text-[var(--accent-color)]":s(F)}),_(_e,"href",`${a??""}/tasks`),De=y(_e,1,"flex items-center gap-2 px-4 transition-colors hover:text-(--accent-color)",null,De,{"text-zinc-400":!s(m),"text-[var(--accent-color)]":s(m)}),_(be,"href",`${a??""}/notes`),He=y(be,1,"flex items-center gap-2 px-4 transition-colors hover:text-(--accent-color)",null,He,{"text-zinc-400":!s(p),"text-[var(--accent-color)]":s(p)}),_(we,"href",`${a??""}/experimental`),Le=y(we,1,"flex items-center gap-2 px-4 transition-colors hover:text-(--accent-color)",null,Le,{"text-zinc-400":!s(x),"text-[var(--accent-color)]":s(x)}),ve(ze,`--accent-color: ${pt??""}`),_($e,"href",`${a??""}/settings`),Ee=y($e,1,"rounded-full p-2 transition-colors hover:bg-zinc-800/50 hover:text-(--accent-color)",null,Ee,{"text-zinc-400":!s(k),"text-[var(--accent-color)]":s(k)})},[()=>N.getAccentLightHex(),()=>N.getAccentHex(),()=>N.getAccentLightHex()]),h($,H)},se=$=>{var H=Dt(),L=e(H);L.__click=i;var C=c(L,2),X=e(C),re=c(X,2);t(C),t(H),W((E,ce,me)=>{le(X,`Plat: ${E??""} | Native: ${ce??""} `),le(re,` redir: ${me??""}`)},[()=>fe.getPlatform(),()=>fe.isNativePlatform(),()=>fe.isNativePlatform()?"com.cgtracker.app://auth/callback":"web path"]),h($,H)};ie(S,$=>{r.session?$(pe):$(se,!1)})}t(w),t(g),W($=>{ve(g,`background-color: ${$??""}/50`),_(z,"href",`${a??""}/`),_(he,"src",`${a??""}/icon.webp`)},[()=>N.getAccentHex()]),h(n,g)};ie(R,n=>{(r.session||o().url.pathname!==a+"/")&&n(U)})}var B=c(R,2);{var G=n=>{var g=Lt(),w=e(g),A=e(w),z=e(A);z.__click=()=>Y(d,!1);var he=e(z);Ke(he,{class:"h-6 w-6"}),b(2),t(z);var S=c(z,2);S.__click=()=>Y(d,!1);var pe=e(S);Ue(pe,{class:"h-6 w-6"}),b(2),t(S);var se=c(S,2);se.__click=()=>Y(d,!1);var $=e(se);qe($,{class:"h-6 w-6"}),b(2),t(se),t(A),t(w);var H=c(w,2),L=e(H);L.__click=()=>{u(),Y(d,!1)};var C=e(L);We(C,{class:"h-6 w-6"}),b(2),t(L),t(H),t(g),W(X=>{ve(g,`--accent-color: ${X??""}`),_(z,"href",`${a??""}/notes`),_(S,"href",`${a??""}/experimental`),_(se,"href",`${a??""}/settings`)},[()=>N.getAccentLightHex()]),h(n,g)};ie(B,n=>{r.session&&s(d)&&n(G)})}var V=c(B,2);{var ae=n=>{var g=Et(),w=e(g),A=e(w);let z;var he=e(A);Ve(he,{class:"h-6 w-6"}),b(2),t(A);var S=c(A,2);let pe;var se=e(S);Xe(se,{class:"h-6 w-6"}),b(2),t(S);var $=c(S,2);let H;var L=e($);Ie(L,{class:"h-6 w-6"}),b(2),t($);var C=c($,2);let X;var re=e(C);Be(re,{class:"h-6 w-6"}),b(2),t(C);var E=c(C,2);let ce;var me=e(E);Fe(me,{class:"h-6 w-6"}),b(2),t(E),t(w),t(g),W((de,ke)=>{ve(g,`--accent-color: ${de??""}; background-color: ${ke??""}/50`),_(A,"href",`${a??""}/`),z=y(A,1,"flex flex-col items-center gap-1 p-2 transition-colors",null,z,{"text-zinc-400":!s(P),"text-[var(--accent-color)]":s(P)}),_(S,"href",`${a??""}/daily`),pe=y(S,1,"flex flex-col items-center gap-1 p-2 transition-colors",null,pe,{"text-zinc-400":!s(K),"text-[var(--accent-color)]":s(K)}),_($,"href",`${a??""}/artcalls`),H=y($,1,"flex flex-col items-center gap-1 p-2 transition-colors",null,H,{"text-zinc-400":!s(I),"text-[var(--accent-color)]":s(I)}),_(C,"href",`${a??""}/projects`),X=y(C,1,"flex flex-col items-center gap-1 p-2 transition-colors",null,X,{"text-zinc-400":!s(F),"text-[var(--accent-color)]":s(F)}),_(E,"href",`${a??""}/tasks`),ce=y(E,1,"flex flex-col items-center gap-1 p-2 transition-colors",null,ce,{"text-zinc-400":!s(m),"text-[var(--accent-color)]":s(m)})},[()=>N.getAccentLightHex(),()=>N.getAccentHex()]),h(n,g)};ie(V,n=>{r.session&&!s(M)&&n(ae)})}h(l,O),Se(),f()}Ye(["click"]);var It=D('<link rel="icon"/>'),Ft=D('<div class="fixed inset-0 z-50 flex items-center justify-center bg-zinc-950"><div class="flex flex-col items-center gap-4"><!> <span class="text-sm text-zinc-400">Loading data...</span></div></div>'),Rt=D('<div class="flex min-h-screen flex-col bg-zinc-950 text-zinc-100 antialiased selection:bg-indigo-500 selection:text-white"><!> <div><!></div> <footer> </footer></div>'),Ut=D("<!> <!>",1);function ca(l,r){Me(r,!0);const o=()=>Ze(tt,"$page",v),[v,f]=Je();let d=je(null),i=je(!1);const u=T(()=>{const m=o().url.pathname;return m.includes("/notes")||m.includes("/experimental")||m.includes("/settings")}),te=T(()=>s(d)&&!s(u));ht(()=>{typeof document<"u"&&fe.getPlatform()==="android"&&document.documentElement.style.setProperty("--status-bar-height","24px"),ue.auth.getSession().then(async({data:{session:p}})=>{Y(d,p,!0),p&&(N.init(),Ne.init()),Y(i,!0)});const{data:{subscription:m}}=ue.auth.onAuthStateChange(async(p,x)=>{Y(d,x,!0),x?(N.init(),Ne.init()):(N.reset(),Ne.reset())});return fe.isNativePlatform()&&Re.addListener("appUrlOpen",async({url:p})=>{if(p.includes("auth/callback"))try{const x=new URL(p),k=x.searchParams.get("code");if(k){const{error:G}=await ue.auth.exchangeCodeForSession(k);if(G){console.error("Error exchanging code from deep link:",G);return}Ge(`${a}/`);return}const O=x.hash?.replace("#","")??"",R=new URLSearchParams(O),U=R.get("access_token"),B=R.get("refresh_token");if(U&&B){const{error:G}=await ue.auth.setSession({access_token:U,refresh_token:B});if(G){console.error("Error setting session from deep link:",G);return}await ue.auth.refreshSession(),Ge(`${a}/`)}}catch(x){console.error("Error handling auth deep link:",x)}}),()=>{m.unsubscribe(),fe.isNativePlatform()&&Re.removeAllListeners()}});var M=Ut();_t("12qhfyh",m=>{var p=It();W(()=>_(p,"href",`${a??""}/calvin_surf.ico`)),mt(()=>{xt.title="CG Tracker"}),h(m,p)});var P=j(M);{var K=m=>{var p=Ft(),x=e(p),k=e(x);{let O=T(()=>N.getAccentHex());wt(k,{class:"h-10 w-10 animate-spin",get style(){return`color: ${s(O)??""}`}})}b(2),t(x),t(p),Qe(2,p,()=>et,()=>({duration:300})),h(m,p)},I=m=>{var p=Rt(),x=e(p);Gt(x,{get session(){return s(d)}});var k=c(x,2);let O;var R=e(k);gt(R,()=>r.children),t(k);var U=c(k,2);let B;var G=e(U);t(U),t(p),W(V=>{O=y(k,1,"container mx-auto flex-1 p-4 pt-4",null,O,{flex:!s(d)&&o().url.pathname===a+"/","flex-col":!s(d)&&o().url.pathname===a+"/","pb-20":s(te),"md:pb-4":s(te)}),B=y(U,1,"border-t border-zinc-800 py-6 text-center text-sm text-zinc-500",null,B,{hidden:s(te),"md:block":s(te)}),le(G,`Â© ${V??""} Calvin Guillot`)},[()=>new Date().getFullYear()]),h(m,p)};ie(P,m=>{s(i)?m(I,!1):m(K)})}var F=c(P,2);Ct(F,{}),h(l,M),Se(),f()}export{ca as component,la as universal};
