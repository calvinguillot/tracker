import{c as Pt,a as $,f as ce,e as Ee}from"../chunks/7NWlc7Su.js";import{j as Bi,u as Vi,p as Ft,o as ci,bp as O,m as c,aE as Na,bq as se,bn as Zi,bt as R,bu as Xi,k as Ve,a as jt,z as _,A as y,D as oe,y as ge,T as z,bv as rt,bo as sn,J as li,I as X,B as L,v as je,w as kn,bl as Dn,x as Qi}from"../chunks/BVFz32Il.js";import{s as Me,d as ui,e as Ji}from"../chunks/pKnFB2my.js";import{p as m,i as he,b as Zt,a as b,c as q}from"../chunks/Ds4RlZDk.js";import{s as at,e as Dt,i as qt,c as Ki}from"../chunks/CP7c8dVT.js";import{s as eo,g as H,f as tn,L as Ra,a as Jt}from"../chunks/RPGm4AHo.js";import{s as kt}from"../chunks/BW5xtwr9.js";import{b as to}from"../chunks/6UEyDI82.js";import{i as no}from"../chunks/DHdQyHRH.js";import{b as Jr}from"../chunks/B-4LY5AX.js";import{s as rr}from"../chunks/CIqjByij.js";import{C as ro,P as ao}from"../chunks/BVGD824Z.js";import{A as io}from"../chunks/CgHzHeUi.js";import{S as oo}from"../chunks/CbEtCGLT.js";class Kr{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var a=this.#e.get(t);a.delete(n),a.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){Kr.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var so=new Kr({box:"border-box"});function $a(e,t,n){var r=so.observe(e,()=>n(e[t]));Bi(()=>(Vi(()=>n(e[t])),r))}function co(e){return e===0?!0:e}function Ht(e){return co(e)?Array.isArray(e)?t=>e.map(n=>typeof n!="function"?t[n]:n(t)):typeof e!="function"?t=>t[e]:e:null}function lo(e,t={}){return Object.fromEntries(Object.entries(e).filter(([n,r])=>r!==void 0&&t[n]===void 0))}const uo=(e,t=300)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(void 0,r)},t)}};function zn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vr(e){let t,n,r;e.length!==2?(t=zn,n=(s,u)=>zn(e(s),u),r=(s,u)=>e(s)-u):(t=e===zn||e===fo?e:go,n=e,r=e);function a(s,u,l=0,h=s.length){if(l<h){if(t(u,u)!==0)return h;do{const d=l+h>>>1;n(s[d],u)<0?l=d+1:h=d}while(l<h)}return l}function i(s,u,l=0,h=s.length){if(l<h){if(t(u,u)!==0)return h;do{const d=l+h>>>1;n(s[d],u)<=0?l=d+1:h=d}while(l<h)}return l}function o(s,u,l=0,h=s.length){const d=a(s,u,l,h-1);return d>l&&r(s[d-1],u)>-r(s[d],u)?d-1:d}return{left:a,center:o,right:i}}function go(){return 0}function ho(e){return e===null?NaN:+e}const mo=vr(zn),vo=mo.right;vr(ho).center;class xo extends Set{constructor(t,n=_o){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(yo(this,t))}add(t){return super.add(bo(this,t))}delete(t){return super.delete(po(this,t))}}function yo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function bo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function po({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _o(e){return e!==null&&typeof e=="object"?e.valueOf():e}const wo=Math.sqrt(50),Mo=Math.sqrt(10),ko=Math.sqrt(2);function ir(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=wo?10:i>=Mo?5:i>=ko?2:1;let s,u,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=n&&n<2?ir(e,t,n*2):[s,u,l]}function Do(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?ir(t,e,n):ir(e,t,n);if(!(i>=a))return[];const s=i-a+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(i-l)/-o;else for(let l=0;l<s;++l)u[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(a+l)/-o;else for(let l=0;l<s;++l)u[l]=(a+l)*o;return u}function Vr(e,t,n){return t=+t,e=+e,n=+n,ir(e,t,n)[2]}function Zr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Vr(t,e,n):Vr(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function So(e,t,n={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const r={},a=Object.keys(t),i=a.length;let o,s,u,l,h,d,g;const D=e.length;for(o=0;o<i;o+=1){for(g=new xo,l=a[o],h=t[l],s=0;s<D;s+=1)if(d=h(e[s]),Array.isArray(d)){const P=d.length;for(u=0;u<P;u+=1)g.add(d[u])}else g.add(d);const N=Array.from(g);(n.sort===!0||n[l]===!0)&&N.sort(zn),r[l]=N}return r}function To(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),a=r.length;let i,o,s,u,l,h,d,g;const D=e.length;for(i=0;i<a;i+=1){for(u=r[i],d=t[u],l=null,h=null,o=0;o<D;o+=1)if(g=d(e[o],o),Array.isArray(g)){const N=g.length;for(s=0;s<N;s+=1)g[s]!==!1&&g[s]!==void 0&&g[s]!==null&&Number.isNaN(g[s])===!1&&((l===null||g[s]<l)&&(l=g[s]),(h===null||g[s]>h)&&(h=g[s]))}else g!==!1&&g!==void 0&&g!==null&&Number.isNaN(g)===!1&&((l===null||g<l)&&(l=g),(h===null||g>h)&&(h=g));n[u]=[l,h]}return n}function Sn(e,t){return e.length!==t.length?!1:e.every(n=>t.includes(n))}function fi(e){return!!(typeof e.bandwidth=="function"||Sn(Object.keys(e),["domain","range","unknown","copy"]))}function zo(e,t,n){const r=Object.entries(n).reduce((i,[o,s])=>{const u=fi(s.scale)===!0?"ordinal":"other";return i[u]||(i[u]={}),i[u][o]=t[o],i},{ordinal:!1,other:!1});let a={};if(r.ordinal){const i=Object.fromEntries(Object.entries(n).map(([o,s])=>[o,s.sort]));a=So(e,r.ordinal,i)}return r.other&&(a={...a,...To(e,r.other)}),a}function Co(e=[],t){return Array.isArray(t)===!0?t.map((n,r)=>n===null?e[r]:n):e}function Vn(e){return function([n,r]){return typeof r=="function"&&(r=r(n[e])),n?Co(n[e],r):r}}function ea(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ta(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function di(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $n(){}var Cn=.7,or=1/Cn,nn="\\s*([+-]?\\d+)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",No=/^#([0-9a-f]{3,8})$/,Ro=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),$o=new RegExp(`^rgb\\(${pt},${pt},${pt}\\)$`),Uo=new RegExp(`^rgba\\(${nn},${nn},${nn},${Nn}\\)$`),Ao=new RegExp(`^rgba\\(${pt},${pt},${pt},${Nn}\\)$`),Lo=new RegExp(`^hsl\\(${Nn},${pt},${pt}\\)$`),Ho=new RegExp(`^hsla\\(${Nn},${pt},${pt},${Nn}\\)$`),Ua={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ta($n,Rn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Aa,formatHex:Aa,formatHex8:Po,formatHsl:Fo,formatRgb:La,toString:La});function Aa(){return this.rgb().formatHex()}function Po(){return this.rgb().formatHex8()}function Fo(){return gi(this).formatHsl()}function La(){return this.rgb().formatRgb()}function Rn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=No.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ha(t):n===3?new Ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Zn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Zn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ro.exec(e))?new Ze(t[1],t[2],t[3],1):(t=$o.exec(e))?new Ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Uo.exec(e))?Zn(t[1],t[2],t[3],t[4]):(t=Ao.exec(e))?Zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Lo.exec(e))?ja(t[1],t[2]/100,t[3]/100,1):(t=Ho.exec(e))?ja(t[1],t[2]/100,t[3]/100,t[4]):Ua.hasOwnProperty(e)?Ha(Ua[e]):e==="transparent"?new Ze(NaN,NaN,NaN,0):null}function Ha(e){return new Ze(e>>16&255,e>>8&255,e&255,1)}function Zn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ze(e,t,n,r)}function jo(e){return e instanceof $n||(e=Rn(e)),e?(e=e.rgb(),new Ze(e.r,e.g,e.b,e.opacity)):new Ze}function sr(e,t,n,r){return arguments.length===1?jo(e):new Ze(e,t,n,r??1)}function Ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ta(Ze,sr,di($n,{brighter(e){return e=e==null?or:Math.pow(or,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new Ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ze(Bt(this.r),Bt(this.g),Bt(this.b),cr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pa,formatHex:Pa,formatHex8:Yo,formatRgb:Fa,toString:Fa}));function Pa(){return`#${It(this.r)}${It(this.g)}${It(this.b)}`}function Yo(){return`#${It(this.r)}${It(this.g)}${It(this.b)}${It((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fa(){const e=cr(this.opacity);return`${e===1?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${e===1?")":`, ${e})`}`}function cr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function It(e){return e=Bt(e),(e<16?"0":"")+e.toString(16)}function ja(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ft(e,t,n,r)}function gi(e){if(e instanceof ft)return new ft(e.h,e.s,e.l,e.opacity);if(e instanceof $n||(e=Rn(e)),!e)return new ft;if(e instanceof ft)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new ft(o,s,u,e.opacity)}function Oo(e,t,n,r){return arguments.length===1?gi(e):new ft(e,t,n,r??1)}function ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ta(ft,Oo,di($n,{brighter(e){return e=e==null?or:Math.pow(or,e),new ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ze(Or(e>=240?e-240:e+120,a,r),Or(e,a,r),Or(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ft(Ya(this.h),Xn(this.s),Xn(this.l),cr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cr(this.opacity);return`${e===1?"hsl(":"hsla("}${Ya(this.h)}, ${Xn(this.s)*100}%, ${Xn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ya(e){return e=(e||0)%360,e<0?e+360:e}function Xn(e){return Math.max(0,Math.min(1,e||0))}function Or(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const na=e=>()=>e;function Eo(e,t){return function(n){return e+n*t}}function Wo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Go(e){return(e=+e)==1?hi:function(t,n){return n-t?Wo(t,n,e):na(isNaN(t)?n:t)}}function hi(e,t){var n=t-e;return n?Eo(e,n):na(isNaN(e)?t:e)}const Oa=(function e(t){var n=Go(t);function r(a,i){var o=n((a=sr(a)).r,(i=sr(i)).r),s=n(a.g,i.g),u=n(a.b,i.b),l=hi(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=s(h),a.b=u(h),a.opacity=l(h),a+""}}return r.gamma=e,r})(1);function qo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Io(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bo(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=ra(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function Vo(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zo(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ra(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Xr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Er=new RegExp(Xr.source,"g");function Xo(e){return function(){return e}}function Qo(e){return function(t){return e(t)+""}}function Jo(e,t){var n=Xr.lastIndex=Er.lastIndex=0,r,a,i,o=-1,s=[],u=[];for(e=e+"",t=t+"";(r=Xr.exec(e))&&(a=Er.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:lr(r,a)})),n=Er.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?Qo(u[0].x):Xo(t):(t=u.length,function(l){for(var h=0,d;h<t;++h)s[(d=u[h]).i]=d.x(l);return s.join("")})}function ra(e,t){var n=typeof t,r;return t==null||n==="boolean"?na(t):(n==="number"?lr:n==="string"?(r=Rn(t))?(t=r,Oa):Jo:t instanceof Rn?Oa:t instanceof Date?Vo:Io(t)?qo:Array.isArray(t)?Bo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zo:lr)(e,t)}function Ko(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function es(e){return function(){return e}}function ts(e){return+e}var Ea=[0,1];function bt(e){return e}function Qr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:es(isNaN(t)?NaN:.5)}function ns(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function rs(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Qr(a,r),i=n(o,i)):(r=Qr(r,a),i=n(i,o)),function(s){return i(r(s))}}function as(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Qr(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var u=vo(e,s,1,r)-1;return i[u](a[u](s))}}function aa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mi(){var e=Ea,t=Ea,n=ra,r,a,i,o=bt,s,u,l;function h(){var g=Math.min(e.length,t.length);return o!==bt&&(o=ns(e[0],e[g-1])),s=g>2?as:rs,u=l=null,d}function d(g){return g==null||isNaN(g=+g)?i:(u||(u=s(e.map(r),t,n)))(r(o(g)))}return d.invert=function(g){return o(a((l||(l=s(t,e.map(r),lr)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,ts),h()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=Ko,h()},d.clamp=function(g){return arguments.length?(o=g?!0:bt,h()):o!==bt},d.interpolate=function(g){return arguments.length?(n=g,h()):n},d.unknown=function(g){return arguments.length?(i=g,d):i},function(g,D){return r=g,a=D,h()}}function vi(){return mi()(bt,bt)}function is(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ur(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rn(e){return e=ur(Math.abs(e)),e?e[1]:NaN}function os(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],u=0;a>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),i.push(n.substring(a-=s,a+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ss(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var cs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fr(e){if(!(t=cs.exec(e)))throw new Error("invalid format: "+e);var t;return new ia({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fr.prototype=ia.prototype;function ia(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ia.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ls(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var xi;function us(e,t){var n=ur(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(xi=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ur(e,Math.max(0,t+i-1))[0]}function Wa(e,t){var n=ur(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ga={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:is,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wa(e*100,t),r:Wa,s:us,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qa(e){return e}var Ia=Array.prototype.map,Ba=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fs(e){var t=e.grouping===void 0||e.thousands===void 0?qa:os(Ia.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qa:ss(Ia.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(d){d=fr(d);var g=d.fill,D=d.align,N=d.sign,P=d.symbol,j=d.zero,J=d.width,re=d.comma,I=d.precision,ne=d.trim,Y=d.type;Y==="n"?(re=!0,Y="g"):Ga[Y]||(I===void 0&&(I=12),ne=!0,Y="g"),(j||g==="0"&&D==="=")&&(j=!0,g="0",D="=");var M=P==="$"?n:P==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",B=P==="$"?r:/[%p]/.test(Y)?o:"",ke=Ga[Y],ye=/[defgprs%]/.test(Y);I=I===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function le(S){var me=M,U=B,T,K,ve;if(Y==="c")U=ke(S)+U,S="";else{S=+S;var ae=S<0||1/S<0;if(S=isNaN(S)?u:ke(Math.abs(S),I),ne&&(S=ls(S)),ae&&+S==0&&N!=="+"&&(ae=!1),me=(ae?N==="("?N:s:N==="-"||N==="("?"":N)+me,U=(Y==="s"?Ba[8+xi/3]:"")+U+(ae&&N==="("?")":""),ye){for(T=-1,K=S.length;++T<K;)if(ve=S.charCodeAt(T),48>ve||ve>57){U=(ve===46?a+S.slice(T+1):S.slice(T))+U,S=S.slice(0,T);break}}}re&&!j&&(S=t(S,1/0));var ue=me.length+S.length+U.length,ee=ue<J?new Array(J-ue+1).join(g):"";switch(re&&j&&(S=t(ee+S,ee.length?J-U.length:1/0),ee=""),D){case"<":S=me+S+U+ee;break;case"=":S=me+ee+S+U;break;case"^":S=ee.slice(0,ue=ee.length>>1)+me+S+U+ee.slice(ue);break;default:S=ee+me+S+U;break}return i(S)}return le.toString=function(){return d+""},le}function h(d,g){var D=l((d=fr(d),d.type="f",d)),N=Math.max(-8,Math.min(8,Math.floor(rn(g)/3)))*3,P=Math.pow(10,-N),j=Ba[8+N/3];return function(J){return D(P*J)+j}}return{format:l,formatPrefix:h}}var Qn,yi,bi;ds({thousands:",",grouping:[3],currency:["$",""]});function ds(e){return Qn=fs(e),yi=Qn.format,bi=Qn.formatPrefix,Qn}function gs(e){return Math.max(0,-rn(Math.abs(e)))}function hs(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rn(t)/3)))*3-rn(Math.abs(e)))}function ms(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rn(t)-rn(e))+1}function vs(e,t,n,r){var a=Zr(e,t,n),i;switch(r=fr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=hs(a,o))&&(r.precision=i),bi(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ms(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=gs(a))&&(r.precision=i-(r.type==="%")*2);break}}return yi(r)}function pi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Do(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return vs(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],u,l,h=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);h-- >0;){if(l=Vr(o,s,n),l===u)return r[a]=o,r[i]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function ar(){var e=vi();return e.copy=function(){return aa(e,ar())},ea.apply(e,arguments),pi(e)}function xs(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function Va(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ys(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bs(e){return e<0?-e*e:e*e}function ps(e){var t=e(bt,bt),n=1;function r(){return n===1?e(bt,bt):n===.5?e(ys,bs):e(Va(n),Va(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},pi(t)}function _i(){var e=ps(mi());return e.copy=function(){return aa(e,_i()).exponent(e.exponent())},ea.apply(e,arguments),e}function _s(){return _i.apply(null,arguments).exponent(.5)}const Wr=new Date,Gr=new Date;function $e(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const u=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return u;let l;do u.push(l=new Date(+i)),t(i,s),e(i);while(l<i&&i<o);return u},a.filter=i=>$e(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Wr.setTime(+i),Gr.setTime(+o),e(Wr),e(Gr),Math.floor(n(Wr,Gr))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const dr=$e(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dr.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$e(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dr);dr.range;const St=1e3,ot=St*60,Tt=ot*60,zt=Tt*24,oa=zt*7,Za=zt*30,qr=zt*365,en=$e(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*St)},(e,t)=>(t-e)/St,e=>e.getUTCSeconds());en.range;const sa=$e(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*St)},(e,t)=>{e.setTime(+e+t*ot)},(e,t)=>(t-e)/ot,e=>e.getMinutes());sa.range;const ws=$e(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ot)},(e,t)=>(t-e)/ot,e=>e.getUTCMinutes());ws.range;const ca=$e(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*St-e.getMinutes()*ot)},(e,t)=>{e.setTime(+e+t*Tt)},(e,t)=>(t-e)/Tt,e=>e.getHours());ca.range;const Ms=$e(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tt)},(e,t)=>(t-e)/Tt,e=>e.getUTCHours());Ms.range;const Un=$e(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ot)/zt,e=>e.getDate()-1);Un.range;const la=$e(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zt,e=>e.getUTCDate()-1);la.range;const ks=$e(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zt,e=>Math.floor(e/zt));ks.range;function Xt(e){return $e(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ot)/oa)}const xr=Xt(0),gr=Xt(1),Ds=Xt(2),Ss=Xt(3),an=Xt(4),Ts=Xt(5),zs=Xt(6);xr.range;gr.range;Ds.range;Ss.range;an.range;Ts.range;zs.range;function Qt(e){return $e(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/oa)}const wi=Qt(0),hr=Qt(1),Cs=Qt(2),Ns=Qt(3),on=Qt(4),Rs=Qt(5),$s=Qt(6);wi.range;hr.range;Cs.range;Ns.range;on.range;Rs.range;$s.range;const ua=$e(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ua.range;const Us=$e(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Us.range;const Ct=$e(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ct.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$e(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ct.range;const Vt=$e(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$e(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Vt.range;function As(e,t,n,r,a,i){const o=[[en,1,St],[en,5,5*St],[en,15,15*St],[en,30,30*St],[i,1,ot],[i,5,5*ot],[i,15,15*ot],[i,30,30*ot],[a,1,Tt],[a,3,3*Tt],[a,6,6*Tt],[a,12,12*Tt],[r,1,zt],[r,2,2*zt],[n,1,oa],[t,1,Za],[t,3,3*Za],[e,1,qr]];function s(l,h,d){const g=h<l;g&&([l,h]=[h,l]);const D=d&&typeof d.range=="function"?d:u(l,h,d),N=D?D.range(l,+h+1):[];return g?N.reverse():N}function u(l,h,d){const g=Math.abs(h-l)/d,D=vr(([,,j])=>j).right(o,g);if(D===o.length)return e.every(Zr(l/qr,h/qr,d));if(D===0)return dr.every(Math.max(Zr(l,h,d),1));const[N,P]=o[g/o[D-1][2]<o[D][2]/g?D-1:D];return N.every(P)}return[s,u]}const[Ls,Hs]=As(Ct,ua,xr,Un,ca,sa);function Ir(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Br(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _n(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ps(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=wn(a),h=Mn(a),d=wn(i),g=Mn(i),D=wn(o),N=Mn(o),P=wn(s),j=Mn(s),J=wn(u),re=Mn(u),I={a:ae,A:ue,b:ee,B:x,c:null,d:ti,e:ti,f:oc,g:vc,G:yc,H:rc,I:ac,j:ic,L:Mi,m:sc,M:cc,p:k,q:w,Q:ai,s:ii,S:lc,u:uc,U:fc,V:dc,w:gc,W:hc,x:null,X:null,y:mc,Y:xc,Z:bc,"%":ri},ne={a:te,A:E,b:F,B:V,c:null,d:ni,e:ni,f:Mc,g:Uc,G:Lc,H:pc,I:_c,j:wc,L:Di,m:kc,M:Dc,p:Z,q:Ae,Q:ai,s:ii,S:Sc,u:Tc,U:zc,V:Cc,w:Nc,W:Rc,x:null,X:null,y:$c,Y:Ac,Z:Hc,"%":ri},Y={a:le,A:S,b:me,B:U,c:T,d:Ka,e:Ka,f:Ks,g:Ja,G:Qa,H:ei,I:ei,j:Zs,L:Js,m:Vs,M:Xs,p:ye,q:Bs,Q:tc,s:nc,S:Qs,u:Es,U:Ws,V:Gs,w:Os,W:qs,x:K,X:ve,y:Ja,Y:Qa,Z:Is,"%":ec};I.x=M(n,I),I.X=M(r,I),I.c=M(t,I),ne.x=M(n,ne),ne.X=M(r,ne),ne.c=M(t,ne);function M(v,C){return function(A){var f=[],ie=-1,W=0,Ce=v.length,p,Xe,st;for(A instanceof Date||(A=new Date(+A));++ie<Ce;)v.charCodeAt(ie)===37&&(f.push(v.slice(W,ie)),(Xe=Xa[p=v.charAt(++ie)])!=null?p=v.charAt(++ie):Xe=p==="e"?" ":"0",(st=C[p])&&(p=st(A,Xe)),f.push(p),W=ie+1);return f.push(v.slice(W,ie)),f.join("")}}function B(v,C){return function(A){var f=_n(1900,void 0,1),ie=ke(f,v,A+="",0),W,Ce;if(ie!=A.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(f.s*1e3+("L"in f?f.L:0));if(C&&!("Z"in f)&&(f.Z=0),"p"in f&&(f.H=f.H%12+f.p*12),f.m===void 0&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(W=Br(_n(f.y,0,1)),Ce=W.getUTCDay(),W=Ce>4||Ce===0?hr.ceil(W):hr(W),W=la.offset(W,(f.V-1)*7),f.y=W.getUTCFullYear(),f.m=W.getUTCMonth(),f.d=W.getUTCDate()+(f.w+6)%7):(W=Ir(_n(f.y,0,1)),Ce=W.getDay(),W=Ce>4||Ce===0?gr.ceil(W):gr(W),W=Un.offset(W,(f.V-1)*7),f.y=W.getFullYear(),f.m=W.getMonth(),f.d=W.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),Ce="Z"in f?Br(_n(f.y,0,1)).getUTCDay():Ir(_n(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+f.W*7-(Ce+5)%7:f.w+f.U*7-(Ce+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,Br(f)):Ir(f)}}function ke(v,C,A,f){for(var ie=0,W=C.length,Ce=A.length,p,Xe;ie<W;){if(f>=Ce)return-1;if(p=C.charCodeAt(ie++),p===37){if(p=C.charAt(ie++),Xe=Y[p in Xa?C.charAt(ie++):p],!Xe||(f=Xe(v,A,f))<0)return-1}else if(p!=A.charCodeAt(f++))return-1}return f}function ye(v,C,A){var f=l.exec(C.slice(A));return f?(v.p=h.get(f[0].toLowerCase()),A+f[0].length):-1}function le(v,C,A){var f=D.exec(C.slice(A));return f?(v.w=N.get(f[0].toLowerCase()),A+f[0].length):-1}function S(v,C,A){var f=d.exec(C.slice(A));return f?(v.w=g.get(f[0].toLowerCase()),A+f[0].length):-1}function me(v,C,A){var f=J.exec(C.slice(A));return f?(v.m=re.get(f[0].toLowerCase()),A+f[0].length):-1}function U(v,C,A){var f=P.exec(C.slice(A));return f?(v.m=j.get(f[0].toLowerCase()),A+f[0].length):-1}function T(v,C,A){return ke(v,t,C,A)}function K(v,C,A){return ke(v,n,C,A)}function ve(v,C,A){return ke(v,r,C,A)}function ae(v){return o[v.getDay()]}function ue(v){return i[v.getDay()]}function ee(v){return u[v.getMonth()]}function x(v){return s[v.getMonth()]}function k(v){return a[+(v.getHours()>=12)]}function w(v){return 1+~~(v.getMonth()/3)}function te(v){return o[v.getUTCDay()]}function E(v){return i[v.getUTCDay()]}function F(v){return u[v.getUTCMonth()]}function V(v){return s[v.getUTCMonth()]}function Z(v){return a[+(v.getUTCHours()>=12)]}function Ae(v){return 1+~~(v.getUTCMonth()/3)}return{format:function(v){var C=M(v+="",I);return C.toString=function(){return v},C},parse:function(v){var C=B(v+="",!1);return C.toString=function(){return v},C},utcFormat:function(v){var C=M(v+="",ne);return C.toString=function(){return v},C},utcParse:function(v){var C=B(v+="",!0);return C.toString=function(){return v},C}}}var Xa={"-":"",_:" ",0:"0"},Ue=/^\s*\d+/,Fs=/^%/,js=/[\\^$*+?|[\]().{}]/g;function Q(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Ys(e){return e.replace(js,"\\$&")}function wn(e){return new RegExp("^(?:"+e.map(Ys).join("|")+")","i")}function Mn(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Os(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Es(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Ws(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Gs(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qs(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Qa(e,t,n){var r=Ue.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ja(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Is(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bs(e,t,n){var r=Ue.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Vs(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ka(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Zs(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ei(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Xs(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Qs(e,t,n){var r=Ue.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Js(e,t,n){var r=Ue.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ks(e,t,n){var r=Ue.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ec(e,t,n){var r=Fs.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function tc(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function nc(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ti(e,t){return Q(e.getDate(),t,2)}function rc(e,t){return Q(e.getHours(),t,2)}function ac(e,t){return Q(e.getHours()%12||12,t,2)}function ic(e,t){return Q(1+Un.count(Ct(e),e),t,3)}function Mi(e,t){return Q(e.getMilliseconds(),t,3)}function oc(e,t){return Mi(e,t)+"000"}function sc(e,t){return Q(e.getMonth()+1,t,2)}function cc(e,t){return Q(e.getMinutes(),t,2)}function lc(e,t){return Q(e.getSeconds(),t,2)}function uc(e){var t=e.getDay();return t===0?7:t}function fc(e,t){return Q(xr.count(Ct(e)-1,e),t,2)}function ki(e){var t=e.getDay();return t>=4||t===0?an(e):an.ceil(e)}function dc(e,t){return e=ki(e),Q(an.count(Ct(e),e)+(Ct(e).getDay()===4),t,2)}function gc(e){return e.getDay()}function hc(e,t){return Q(gr.count(Ct(e)-1,e),t,2)}function mc(e,t){return Q(e.getFullYear()%100,t,2)}function vc(e,t){return e=ki(e),Q(e.getFullYear()%100,t,2)}function xc(e,t){return Q(e.getFullYear()%1e4,t,4)}function yc(e,t){var n=e.getDay();return e=n>=4||n===0?an(e):an.ceil(e),Q(e.getFullYear()%1e4,t,4)}function bc(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Q(t/60|0,"0",2)+Q(t%60,"0",2)}function ni(e,t){return Q(e.getUTCDate(),t,2)}function pc(e,t){return Q(e.getUTCHours(),t,2)}function _c(e,t){return Q(e.getUTCHours()%12||12,t,2)}function wc(e,t){return Q(1+la.count(Vt(e),e),t,3)}function Di(e,t){return Q(e.getUTCMilliseconds(),t,3)}function Mc(e,t){return Di(e,t)+"000"}function kc(e,t){return Q(e.getUTCMonth()+1,t,2)}function Dc(e,t){return Q(e.getUTCMinutes(),t,2)}function Sc(e,t){return Q(e.getUTCSeconds(),t,2)}function Tc(e){var t=e.getUTCDay();return t===0?7:t}function zc(e,t){return Q(wi.count(Vt(e)-1,e),t,2)}function Si(e){var t=e.getUTCDay();return t>=4||t===0?on(e):on.ceil(e)}function Cc(e,t){return e=Si(e),Q(on.count(Vt(e),e)+(Vt(e).getUTCDay()===4),t,2)}function Nc(e){return e.getUTCDay()}function Rc(e,t){return Q(hr.count(Vt(e)-1,e),t,2)}function $c(e,t){return Q(e.getUTCFullYear()%100,t,2)}function Uc(e,t){return e=Si(e),Q(e.getUTCFullYear()%100,t,2)}function Ac(e,t){return Q(e.getUTCFullYear()%1e4,t,4)}function Lc(e,t){var n=e.getUTCDay();return e=n>=4||n===0?on(e):on.ceil(e),Q(e.getUTCFullYear()%1e4,t,4)}function Hc(){return"+0000"}function ri(){return"%"}function ai(e){return+e}function ii(e){return Math.floor(+e/1e3)}var Kt,fa;Pc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pc(e){return Kt=Ps(e),fa=Kt.format,Kt.parse,Kt.utcFormat,Kt.utcParse,Kt}function Fc(e){return new Date(e)}function jc(e){return e instanceof Date?+e:+new Date(+e)}function Ti(e,t,n,r,a,i,o,s,u,l){var h=vi(),d=h.invert,g=h.domain,D=l(".%L"),N=l(":%S"),P=l("%I:%M"),j=l("%I %p"),J=l("%a %d"),re=l("%b %d"),I=l("%B"),ne=l("%Y");function Y(M){return(u(M)<M?D:s(M)<M?N:o(M)<M?P:i(M)<M?j:r(M)<M?a(M)<M?J:re:n(M)<M?I:ne)(M)}return h.invert=function(M){return new Date(d(M))},h.domain=function(M){return arguments.length?g(Array.from(M,jc)):g().map(Fc)},h.ticks=function(M){var B=g();return e(B[0],B[B.length-1],M??10)},h.tickFormat=function(M,B){return B==null?Y:l(B)},h.nice=function(M){var B=g();return(!M||typeof M.range!="function")&&(M=t(B[0],B[B.length-1],M??10)),M?g(xs(B,M)):h},h.copy=function(){return aa(h,Ti(e,t,n,r,a,i,o,s,u,l))},h}function Yc(){return ea.apply(Ti(Ls,Hs,Ct,ua,xr,Un,ca,sa,en,fa).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const Tn={x:ar,y:ar,z:ar,r:_s};function Oc(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function oi(e){return e}function Ec(e){return t=>Math.log(e*t)}function Wc(e){return t=>e*Math.exp(t)}function Gc(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function qc(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Jn(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function Ic(e){const t=Oc(e);if(t==="log"){const n=Math.sign(e.domain()[0]);return{lift:Ec(n),ground:Wc(n),scaleType:t}}return t==="pow"?{lift:Jn(1),ground:Jn(1/1),scaleType:t}:t==="sqrt"?{lift:Jn(.5),ground:Jn(1/.5),scaleType:t}:t==="symlog"?{lift:Gc(1),ground:qc(1),scaleType:t}:{lift:oi,ground:oi,scaleType:t}}function mr(e){return e.replace(/^\w/,t=>t.toUpperCase())}function Oe(e,t=""){return`scale${mr(t)}${mr(e)}`}function zi(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?Oe("band"):Oe("point");if(Sn(Object.keys(e),["domain","range","unknown","copy"]))return Oe("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return Oe("quantile",t);if(e.thresholds)return Oe("quantize",t);if(e.constant)return Oe("symlog",t);if(e.base)return Oe("log",t);if(e.exponent)return e.exponent()===.5?Oe("sqrt",t):Oe("pow",t);if(Sn(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return Oe("threshold");if(Sn(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return Oe("identity");if(Sn(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return Oe("radial");if(t)return Oe(t);if(e.domain()[0]instanceof Date){const n=new Date;let r;return n.getDay=()=>r="time",n.getUTCDay=()=>r="utc",e.tickFormat(0,"%a")(n),Oe(r)}return Oe("linear")}const Bc=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function Vc(e,t){if(typeof e.range!="function")throw new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||Bc.includes(zi(e))||fi(e)===!0)return e.domain();const{lift:n,ground:r}=Ic(e),a=e.domain()[0],i=Object.prototype.toString.call(a)==="[object Date]",[o,s]=e.domain().map(D=>n(i?D.getTime():D)),[u,l]=e.range(),h=t[0]||0,d=t[1]||0,g=(s-o)/(Math.abs(l-u)-h-d);return[o-h*g,d*g+s].map(D=>r(i?new Date(D):D))}function Zc(e,t,n,r,a){let i,o;return a===!0?(i=0,o=100):(i=e==="r"?1:0,o=e==="y"?n:e==="r"?25:t),r===!0?[o,i]:[i,o]}function Xc(e,t,n,r,a,i){return a?typeof a=="function"?a({width:t,height:n}):a:Zc(e,t,n,r,i)}function Kn(e){return function([n,r,a,i,o,s,u,l,h,d]){if(r===null)return null;const g=Xc(e,u,l,s,h,d),D=n===Tn[e]?n():n.copy();return D.domain(a),(!D.interpolator||typeof D.interpolator=="function"&&D.interpolator().name.startsWith("identity"))&&D.range(g),i&&D.domain(Vc(D,i)),(o===!0||typeof o=="number")&&(typeof D.nice=="function"?D.nice(typeof o=="number"?o:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),D}}function er([e,t]){return(n,r)=>{const a=e(n,r);return Array.isArray(a)?a.map(i=>t(i)):t(a)}}function tr([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const it="    ";function Qc(e){const{r:t,g:n,b:r,opacity:a}=sr(e);return[t,n,r].every(i=>i>=0&&i<=255)?{r:t,g:n,b:r,o:a}:!1}function Jc({r:e,g:t,b:n}){return(.2126*e+.7152*t+.0722*n)/255>.6?"black":"white"}function Kc(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),el(e.boundingBox),console.log("Data:"),console.log(it,e.data),e.flatData&&(console.log("flatData:"),console.log(it,e.flatData)),console.log("Scales:"),Object.keys(e.activeGetters).forEach(t=>{tl(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function el(e){Object.entries(e).forEach(([t,n])=>{console.log(`${it}${t}:`,n)})}function tl(e,t,n){const r=zi(t);console.log(`${it}${e}:`),console.log(`${it}${it}Accessor: "${n.toString()}"`),console.log(`${it}${it}Type: ${r}`),si(t,"domain"),si(t,"range"," ")}function si(e,t,n=""){const r=e[t](),a=rl(r);a?nl(a,t,r):console.log(`${it}${it}${mr(t)}:${n}`,r)}function nl(e,t,n){console.log(`${it}${it}${mr(t)}:    %cArray%c(${n.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function rl(e){const t=[],n=e.map((r,a)=>{const i=Qc(r);if(i!==!1){t.push(i);const o=a===e.length-1?" ":"";return`%c ${r}${o}`}return r});return t.length?[`%c[ ${n.join(", ")}`,t.map(r=>`background-color: rgba(${r.r}, ${r.g}, ${r.b}, ${r.o}); color:${Jc(r)};`)]:null}function nr(e){return!e||typeof e=="function"||Array.isArray(e)&&e.includes(null)?!1:e}var al=ce('<div class="layercake-container svelte-812kmt"><!></div>');function il(e,t){Ft(t,!1);const n=()=>b(lt,"$_percentRange",p),r=()=>b(ut,"$_containerWidth",p),a=()=>b(Be,"$_containerHeight",p),i=()=>b(xt,"$_data",p),o=()=>b(Lt,"$_flatData",p),s=()=>b(gn,"$_x",p),u=()=>b(hn,"$_y",p),l=()=>b(mn,"$_z",p),h=()=>b(vn,"$_r",p),d=()=>b(Ln,"$_xNice",p),g=()=>b(Hn,"$_yNice",p),D=()=>b(Pn,"$_zNice",p),N=()=>b(Fn,"$_rNice",p),P=()=>b(jn,"$_xReverse",p),j=()=>b(Yn,"$_yReverse",p),J=()=>b(On,"$_zReverse",p),re=()=>b(En,"$_rReverse",p),I=()=>b(Wn,"$_xPadding",p),ne=()=>b(Gn,"$_yPadding",p),Y=()=>b(qn,"$_zPadding",p),M=()=>b(In,"$_rPadding",p),B=()=>b(Lr,"$_custom",p),ke=()=>b(Ar,"$_config",p),ye=()=>b(Fr,"$box_d",p),le=()=>b(Hr,"$activeGetters_d",p),S=()=>b(xn,"$xScale_d",p),me=()=>b(yn,"$yScale_d",p),U=()=>b(bn,"$zScale_d",p),T=()=>b(pn,"$rScale_d",p),K=()=>b(Wt,"$width_d",p),ve=()=>b(Gt,"$height_d",p),ae=()=>b(za,"$aspectRatio_d",p),ue=()=>b(Nr,"$_xDomainSort",p),ee=()=>b(Rr,"$_yDomainSort",p),x=()=>b($r,"$_zDomainSort",p),k=()=>b(Ur,"$_rDomainSort",p),w=()=>b(Pr,"$padding_d",p),te=()=>b(yt,"$extents_d",p),E=()=>b(va,"$xDomain_d",p),F=()=>b(xa,"$yDomain_d",p),V=()=>b(ya,"$zDomain_d",p),Z=()=>b(ba,"$rDomain_d",p),Ae=()=>b(ka,"$xRange_d",p),v=()=>b(Da,"$yRange_d",p),C=()=>b(Sa,"$zRange_d",p),A=()=>b(Ta,"$rRange_d",p),f=()=>b(pa,"$xGet_d",p),ie=()=>b(_a,"$yGet_d",p),W=()=>b(wa,"$zGet_d",p),Ce=()=>b(Ma,"$rGet_d",p),[p,Xe]=Zt(),st=Na(),yr=uo(Kc,200);let cn=m(t,"ssr",8,!1),br=m(t,"pointerEvents",8,!0),Nt=m(t,"position",8,"relative"),ln=m(t,"percentRange",8,!1),pr=m(t,"width",8,void 0),_r=m(t,"height",8,void 0),de=m(t,"containerWidth",28,()=>pr()||100),be=m(t,"containerHeight",28,()=>_r()||100),Le=m(t,"element",12,void 0),pe=m(t,"x",8,void 0),Ne=m(t,"y",8,void 0),He=m(t,"z",8,void 0),_e=m(t,"r",8,void 0),Se=m(t,"data",24,()=>[]),we=m(t,"xDomain",8,void 0),xe=m(t,"yDomain",8,void 0),Re=m(t,"zDomain",8,void 0),Te=m(t,"rDomain",8,void 0),De=m(t,"xNice",8,!1),Pe=m(t,"yNice",8,!1),We=m(t,"zNice",8,!1),Qe=m(t,"rNice",8,!1),Ge=m(t,"xPadding",8,void 0),Je=m(t,"yPadding",8,void 0),qe=m(t,"zPadding",8,void 0),Ke=m(t,"rPadding",8,void 0),dt=m(t,"xScale",24,()=>Tn.x),ct=m(t,"yScale",24,()=>Tn.y),Yt=m(t,"zScale",24,()=>Tn.z),Ie=m(t,"rScale",24,()=>Tn.r),tt=m(t,"xRange",8,void 0),Rt=m(t,"yRange",8,void 0),gt=m(t,"zRange",8,void 0),_t=m(t,"rRange",8,void 0),un=m(t,"xReverse",8,!1),fn=m(t,"yReverse",8,void 0),dn=m(t,"zReverse",8,!1),ht=m(t,"rReverse",8,!1),Ye=m(t,"xDomainSort",8,!1),$t=m(t,"yDomainSort",8,!1),Ut=m(t,"zDomainSort",8,!1),Ot=m(t,"rDomainSort",8,!1),wt=m(t,"padding",24,()=>({})),et=m(t,"flatData",8,void 0),mt=m(t,"custom",24,()=>({})),Et=m(t,"debug",8,!1),At=m(t,"verbose",8,!0),vt=!1;ci(()=>{vt=!0});const G=Na({}),lt=O(ln()),ut=O(de()),Be=O(be()),xt=O(Se()),Lt=O(et()||Se()),An=O(wt()),gn=O(Ht(pe())),hn=O(Ht(Ne())),mn=O(Ht(He())),vn=O(Ht(_e())),wr=O(we()),Mr=O(xe()),kr=O(Re()),Dr=O(Te()),Ln=O(De()),Hn=O(Pe()),Pn=O(We()),Fn=O(Qe()),jn=O(un()),Yn=O(c(st)),On=O(dn()),En=O(ht()),Wn=O(Ge()),Gn=O(Je()),qn=O(qe()),In=O(Ke()),da=O(tt()),ga=O(Rt()),ha=O(gt()),ma=O(_t()),Sr=O(dt()),Tr=O(ct()),zr=O(Yt()),Cr=O(Ie()),Nr=O(Ye()),Rr=O($t()),$r=O(Ut()),Ur=O(Ot()),Ar=O(c(G)),Lr=O(mt()),Hr=se([gn,hn,mn,vn],([fe,Fe,nt,ze])=>{const Mt={};return fe&&(Mt.x=fe),Fe&&(Mt.y=Fe),nt&&(Mt.z=nt),ze&&(Mt.r=ze),Mt}),Pr=se([An,ut,Be],([fe])=>Object.assign({top:0,right:0,bottom:0,left:0},fe)),Fr=se([ut,Be,Pr],([fe,Fe,nt])=>{const ze={};return ze.top=nt.top,ze.right=fe-nt.right,ze.bottom=Fe-nt.bottom,ze.left=nt.left,ze.width=ze.right-ze.left,ze.height=ze.bottom-ze.top,At()===!0&&(ze.width<=0&&vt===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),ze.height<=0&&vt===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?")),ze}),Wt=se([Fr],([fe])=>fe.width),Gt=se([Fr],([fe])=>fe.height),yt=se([Lt,Hr,Sr,Tr,Cr,zr,wr,Mr,kr,Dr,Nr,Rr,$r,Ur],([fe,Fe,nt,ze,Mt,Li,Hi,Pi,Fi,ji,Yi,Oi,Ei,Wi])=>{const Gi={x:{scale:nt,sort:Yi},y:{scale:ze,sort:Oi},r:{scale:Mt,sort:Wi},z:{scale:Li,sort:Ei}},jr=Object.fromEntries([["x",nr(Hi)],["y",nr(Pi)],["z",nr(Fi)],["r",nr(ji)]].filter(([Bn,Ii])=>Ii!==!1)),Yr=lo(Fe,jr),qi=Object.fromEntries(Object.keys(Yr).map(Bn=>[Bn,Gi[Bn]]));return Object.keys(Yr).length>0?{...zo(fe,Yr,qi),...jr}:jr}),va=se([yt,wr],Vn("x")),xa=se([yt,Mr],Vn("y")),ya=se([yt,kr],Vn("z")),ba=se([yt,Dr],Vn("r")),xn=se([Sr,yt,va,Wn,Ln,jn,Wt,Gt,da,lt],Kn("x")),pa=se([gn,xn],er),yn=se([Tr,yt,xa,Gn,Hn,Yn,Wt,Gt,ga,lt],Kn("y")),_a=se([hn,yn],er),bn=se([zr,yt,ya,qn,Pn,On,Wt,Gt,ha,lt],Kn("z")),wa=se([mn,bn],er),pn=se([Cr,yt,ba,In,Fn,En,Wt,Gt,ma,lt],Kn("r")),Ma=se([vn,pn],er),Ci=se(xn,fe=>fe.domain()),Ni=se(yn,fe=>fe.domain()),Ri=se(bn,fe=>fe.domain()),$i=se(pn,fe=>fe.domain()),ka=se([xn],tr),Da=se([yn],tr),Sa=se([bn],tr),Ta=se([pn],tr),za=se([Wt,Gt],([fe,Fe])=>fe/Fe);Zi("LayerCake",{activeGetters:Hr,width:Wt,height:Gt,percentRange:lt,aspectRatio:za,containerWidth:ut,containerHeight:Be,x:gn,y:hn,z:mn,r:vn,custom:Lr,data:xt,xNice:Ln,yNice:Hn,zNice:Pn,rNice:Fn,xDomainSort:Nr,yDomainSort:Rr,zDomainSort:$r,rDomainSort:Ur,xReverse:jn,yReverse:Yn,zReverse:On,rReverse:En,xPadding:Wn,yPadding:Gn,zPadding:qn,rPadding:In,padding:Pr,flatData:Lt,extents:yt,xDomain:Ci,yDomain:Ni,zDomain:Ri,rDomain:$i,xRange:ka,yRange:Da,zRange:Sa,rRange:Ta,config:Ar,xScale:xn,xGet:pa,yScale:yn,yGet:_a,zScale:bn,zGet:wa,rScale:pn,rGet:Ma}),R(()=>(z(fn()),z(ct())),()=>{ge(st,typeof fn()>"u"?typeof ct().bandwidth!="function":fn())}),R(()=>z(pe()),()=>{pe()&&rt(G,c(G).x=pe())}),R(()=>z(Ne()),()=>{Ne()&&rt(G,c(G).y=Ne())}),R(()=>z(He()),()=>{He()&&rt(G,c(G).z=He())}),R(()=>z(_e()),()=>{_e()&&rt(G,c(G).r=_e())}),R(()=>z(we()),()=>{we()&&rt(G,c(G).xDomain=we())}),R(()=>z(xe()),()=>{xe()&&rt(G,c(G).yDomain=xe())}),R(()=>z(Re()),()=>{Re()&&rt(G,c(G).zDomain=Re())}),R(()=>z(Te()),()=>{Te()&&rt(G,c(G).rDomain=Te())}),R(()=>z(tt()),()=>{tt()&&rt(G,c(G).xRange=tt())}),R(()=>z(Rt()),()=>{Rt()&&rt(G,c(G).yRange=Rt())}),R(()=>z(gt()),()=>{gt()&&rt(G,c(G).zRange=gt())}),R(()=>z(_t()),()=>{_t()&&rt(G,c(G).rRange=_t())}),R(()=>z(ln()),()=>{q(lt,ln())}),R(()=>z(de()),()=>{q(ut,de())}),R(()=>z(be()),()=>{q(Be,be())}),R(()=>z(Se()),()=>{q(xt,Se())}),R(()=>(z(et()),z(Se())),()=>{q(Lt,et()||Se())}),R(()=>z(wt()),()=>{q(An,wt())}),R(()=>z(pe()),()=>{q(gn,Ht(pe()))}),R(()=>z(Ne()),()=>{q(hn,Ht(Ne()))}),R(()=>z(He()),()=>{q(mn,Ht(He()))}),R(()=>z(_e()),()=>{q(vn,Ht(_e()))}),R(()=>z(we()),()=>{q(wr,we())}),R(()=>z(xe()),()=>{q(Mr,xe())}),R(()=>z(Re()),()=>{q(kr,Re())}),R(()=>z(Te()),()=>{q(Dr,Te())}),R(()=>z(De()),()=>{q(Ln,De())}),R(()=>z(Pe()),()=>{q(Hn,Pe())}),R(()=>z(We()),()=>{q(Pn,We())}),R(()=>z(Qe()),()=>{q(Fn,Qe())}),R(()=>z(un()),()=>{q(jn,un())}),R(()=>c(st),()=>{q(Yn,c(st))}),R(()=>z(dn()),()=>{q(On,dn())}),R(()=>z(ht()),()=>{q(En,ht())}),R(()=>z(Ge()),()=>{q(Wn,Ge())}),R(()=>z(Je()),()=>{q(Gn,Je())}),R(()=>z(qe()),()=>{q(qn,qe())}),R(()=>z(Ke()),()=>{q(In,Ke())}),R(()=>z(tt()),()=>{q(da,tt())}),R(()=>z(Rt()),()=>{q(ga,Rt())}),R(()=>z(gt()),()=>{q(ha,gt())}),R(()=>z(_t()),()=>{q(ma,_t())}),R(()=>z(dt()),()=>{q(Sr,dt())}),R(()=>z(ct()),()=>{q(Tr,ct())}),R(()=>z(Yt()),()=>{q(zr,Yt())}),R(()=>z(Ie()),()=>{q(Cr,Ie())}),R(()=>z(mt()),()=>{q(Lr,mt())}),R(()=>c(G),()=>{q(Ar,c(G))}),R(()=>(ye(),z(Et()),z(cn()),i(),z(et()),o(),le(),c(G),S(),me(),U(),T()),()=>{ye()&&Et()===!0&&(cn()===!0||typeof window<"u")&&yr({data:i(),flatData:typeof et()<"u"?o():null,boundingBox:ye(),activeGetters:le(),x:c(G).x,y:c(G).y,z:c(G).z,r:c(G).r,xScale:S(),yScale:me(),zScale:U(),rScale:T()})}),Xi(),no();var Ca=Pt(),Ui=Ve(Ca);{var Ai=fe=>{var Fe=al();let nt;var ze=_(Fe);eo(ze,t,"default",{get element(){return Le()},get width(){return K()},get height(){return ve()},get aspectRatio(){return ae()},get containerWidth(){return r()},get containerHeight(){return a()},get activeGetters(){return le()},get percentRange(){return n()},get x(){return s()},get y(){return u()},get z(){return l()},get r(){return h()},get custom(){return B()},get data(){return i()},get xNice(){return d()},get yNice(){return g()},get zNice(){return D()},get rNice(){return N()},get xDomainSort(){return ue()},get yDomainSort(){return ee()},get zDomainSort(){return x()},get rDomainSort(){return k()},get xReverse(){return P()},get yReverse(){return j()},get zReverse(){return J()},get rReverse(){return re()},get xPadding(){return I()},get yPadding(){return ne()},get zPadding(){return Y()},get rPadding(){return M()},get padding(){return w()},get flatData(){return o()},get extents(){return te()},get xDomain(){return E()},get yDomain(){return F()},get zDomain(){return V()},get rDomain(){return Z()},get xRange(){return Ae()},get yRange(){return v()},get zRange(){return C()},get rRange(){return A()},get config(){return ke()},get xScale(){return S()},get xGet(){return f()},get yScale(){return me()},get yGet(){return ie()},get zScale(){return U()},get zGet(){return W()},get rScale(){return T()},get rGet(){return Ce()}}),y(Fe),Jr(Fe,Mt=>Le(Mt),()=>Le()),oe(()=>nt=at(Fe,"",nt,{position:Nt(),top:Nt()==="absolute"?"0":null,right:Nt()==="absolute"?"0":null,bottom:Nt()==="absolute"?"0":null,left:Nt()==="absolute"?"0":null,"pointer-events":br()===!1?"none":null})),$a(Fe,"clientWidth",de),$a(Fe,"clientHeight",be),$(fe,Fe)};he(Ui,fe=>{(cn()===!0||typeof window<"u")&&fe(Ai)})}$(e,Ca),jt(),Xe()}var ol=ce('<div class="layercake-layout-html svelte-5lwx3b"><!></div>');function sl(e,t){Ft(t,!0);const n=()=>b(i,"$padding",r),[r,a]=Zt(),{padding:i}=sn("LayerCake");let o=m(t,"element",15,void 0),s=m(t,"zIndex",3,void 0),u=m(t,"pointerEvents",3,void 0),l=m(t,"role",3,void 0),h=m(t,"label",3,void 0),d=m(t,"labelledBy",3,void 0),g=m(t,"describedBy",3,void 0),D=m(t,"overflow",3,"visible"),N=X(()=>l()||(h()||d()||g()?"figure":void 0));var P=ol();let j;var J=_(P);rr(J,()=>t.children??li,()=>({element:o()})),y(P),Jr(P,re=>o(re),()=>o()),oe(()=>{H(P,"role",c(N)),H(P,"aria-label",h()),H(P,"aria-labelledby",d()),H(P,"aria-describedby",g()),j=at(P,"",j,{"z-index":s(),"pointer-events":u()===!1?"none":null,top:n().top+"px",right:n().right+"px",bottom:n().bottom+"px",left:n().left+"px",overflow:D()})}),$(e,P),jt(),a()}var cl=Ee("<title><!></title>"),ll=Ee("<title> </title>"),ul=Ee("<defs><!></defs>"),fl=Ee('<svg class="layercake-layout-svg svelte-vzq0jw"><!><!><!></svg>');function dl(e,t){Ft(t,!0);const n=()=>b(re,"$containerWidth",i),r=()=>b(I,"$containerHeight",i),a=()=>b(ne,"$padding",i),[i,o]=Zt();let s=m(t,"element",15,void 0),u=m(t,"zIndex",3,void 0),l=m(t,"pointerEvents",3,void 0),h=m(t,"viewBox",3,void 0),d=m(t,"label",3,void 0),g=m(t,"labelledBy",3,void 0),D=m(t,"describedBy",3,void 0),N=m(t,"titleText",3,void 0),P=m(t,"title",3,void 0),j=m(t,"defs",3,void 0),J=m(t,"overflow",3,"visible");const{containerWidth:re,containerHeight:I,padding:ne}=sn("LayerCake");var Y=fl();let M;var B=_(Y);{var ke=U=>{var T=cl(),K=_(T);rr(K,P),y(T),$(U,T)},ye=U=>{var T=Pt(),K=Ve(T);{var ve=ae=>{var ue=ll(),ee=_(ue,!0);y(ue),oe(()=>Me(ee,N())),$(ae,ue)};he(K,ae=>{N()&&ae(ve)},!0)}$(U,T)};he(B,U=>{typeof P()=="function"?U(ke):U(ye,!1)})}var le=L(B);{var S=U=>{var T=ul(),K=_(T);rr(K,j),y(T),$(U,T)};he(le,U=>{typeof j()=="function"&&U(S)})}var me=L(le);rr(me,()=>t.children??li,()=>({element:s()})),y(Y),Jr(Y,U=>s(U),()=>s()),oe(()=>{H(Y,"viewBox",h()),H(Y,"width",n()),H(Y,"height",r()),H(Y,"aria-label",d()),H(Y,"aria-labelledby",g()),H(Y,"aria-describedby",D()),M=at(Y,"",M,{"z-index":u(),"pointer-events":l()===!1?"none":null,top:a().top+"px",left:a().left+"px",width:`calc(100% - ${a().left+a().right}px)`,height:`calc(100% - ${a().top+a().bottom}px)`,overflow:J()})}),$(e,Y),jt(),o()}var gl=Ee('<path class="path-line svelte-gmbklp"></path>');function hl(e,t){Ft(t,!0);const n=()=>b(u,"$data",o),r=()=>b(l,"$xGet",o),a=()=>b(d,"$yScale",o),i=()=>b(h,"$yGet",o),[o,s]=Zt(),{data:u,xGet:l,yGet:h,yScale:d}=sn("LayerCake");let g=m(t,"stroke",3,"#ab00d6"),D=m(t,"yAccessorKey",3,null),N=X(()=>"M"+n().filter(j=>D()?j[D()]!=null:!0).map(j=>{const J=r()(j),re=D()?a()(j[D()]):i()(j);return J+","+re}).join("L"));var P=gl();oe(()=>{H(P,"d",c(N)),H(P,"stroke",g())}),$(e,P),jt(),s()}var ml=Ee('<line class="baseline svelte-4vwzuc" x1="0"></line>'),vl=Ee('<line class="gridline svelte-4vwzuc" y2="0"></line>'),xl=Ee('<line class="tick-mark svelte-4vwzuc"></line>'),yl=Ee('<!><g><!><!><text class="svelte-4vwzuc"> </text></g>',1),bl=Ee("<g></g>");function pl(e,t){Ft(t,!0);const n=()=>b(h,"$xScale",o),r=()=>b(l,"$height",o),a=()=>b(u,"$width",o),i=()=>b(d,"$yRange",o),[o,s]=Zt(),{width:u,height:l,xScale:h,yRange:d}=sn("LayerCake");let g=m(t,"tickMarks",3,!1),D=m(t,"gridlines",3,!0),N=m(t,"tickMarkLength",3,6),P=m(t,"baseline",3,!1),j=m(t,"snapLabels",3,!1),J=m(t,"format",3,U=>U),re=m(t,"ticks",3,void 0),I=m(t,"tickGutter",3,0),ne=m(t,"dx",3,0),Y=m(t,"dy",3,0),M=X(()=>g()===!0?N()??6:0),B=X(()=>typeof n().bandwidth=="function"),ke=X(()=>Array.isArray(re())?re():c(B)?n().domain():typeof re()=="function"?re()(n().ticks()):n().ticks(re())),ye=X(()=>c(B)?n().bandwidth()/2:0);function le(U){if(j()===!0){if(U===0)return"start";if(U===c(ke).length-1)return"end"}return"middle"}var S=bl();let me;Dt(S,22,()=>c(ke),U=>U,(U,T,K)=>{var ve=yl(),ae=Ve(ve);{var ue=V=>{var Z=ml();oe(()=>{H(Z,"y1",r()),H(Z,"y2",r()),H(Z,"x2",a())}),$(V,Z)};he(ae,V=>{P()===!0&&V(ue)})}var ee=L(ae),x=_(ee);{var k=V=>{var Z=vl();oe(()=>{H(Z,"x1",c(ye)),H(Z,"x2",c(ye)),H(Z,"y1",-r())}),$(V,Z)};he(x,V=>{D()===!0&&V(k)})}var w=L(x);{var te=V=>{var Z=xl();oe(()=>{H(Z,"x1",c(ye)),H(Z,"x2",c(ye)),H(Z,"y1",I()),H(Z,"y2",I()+c(M))}),$(V,Z)};he(w,V=>{g()===!0&&V(te)})}var E=L(w),F=_(E,!0);y(E),y(ee),oe((V,Z,Ae,v)=>{tn(ee,0,`tick tick-${c(K)??""}`,"svelte-4vwzuc"),H(ee,"transform",`translate(${V??""},${Z??""})`),H(E,"x",c(ye)),H(E,"y",I()+c(M)),H(E,"dx",ne()),H(E,"dy",Y()),H(E,"text-anchor",Ae),Me(F,v)},[()=>n()(T),()=>Math.max(...i()),()=>le(c(K)),()=>J()(T)]),$(U,ve)}),y(S),oe(()=>me=tn(S,0,"axis x-axis svelte-4vwzuc",null,me,{snapLabels:j()})),$(e,S),jt(),s()}var _l=Ee('<line class="gridline svelte-mmstdn"></line>'),wl=Ee('<line class="tick-mark svelte-mmstdn"></line>'),Ml=Ee('<g><!><!><text class="svelte-mmstdn"> </text></g>'),kl=Ee('<g class="axis y-axis"></g>');function Dl(e,t){Ft(t,!0);const n=()=>b(u,"$yScale",i),r=()=>b(s,"$xRange",i),a=()=>b(l,"$width",i),[i,o]=Zt(),{xRange:s,yScale:u,width:l}=sn("LayerCake");let h=m(t,"tickMarks",3,!1),d=m(t,"labelPosition",3,"even"),g=m(t,"snapBaselineLabel",3,!1),D=m(t,"gridlines",3,!0),N=m(t,"tickMarkLength",3,void 0),P=m(t,"format",3,T=>T),j=m(t,"ticks",3,4),J=m(t,"tickGutter",3,0),re=m(t,"dx",3,0),I=m(t,"dy",3,0),ne=m(t,"charPixelWidth",3,7.25);function Y(T,K){return K===","||K==="."?T+ne()*.5:T+ne()}let M=X(()=>typeof n().bandwidth=="function"),B=X(()=>Array.isArray(j())?j():c(M)?n().domain():typeof j()=="function"?j()(n().ticks()):n().ticks(j())),ke=X(()=>Math.max(10,Math.max(...c(B).map(T=>P()(T).toString().split("").reduce(Y,0))))),ye=X(()=>h()===!0?d()==="above"?N()??c(ke):N()??6:0),le=X(()=>-J()-(d()==="above"?c(ke):c(ye))),S=X(()=>c(M)?n().bandwidth()/2:0),me=X(()=>Math.max(...c(B).map(n())));var U=kl();Dt(U,20,()=>c(B),T=>T,(T,K)=>{const ve=X(()=>n()(K));var ae=Ml(),ue=_(ae);{var ee=E=>{var F=_l();oe(()=>{H(F,"x1",c(le)),H(F,"x2",a()),H(F,"y1",c(S)),H(F,"y2",c(S))}),$(E,F)};he(ue,E=>{D()===!0&&E(ee)})}var x=L(ue);{var k=E=>{var F=wl();oe(()=>{H(F,"x1",c(le)),H(F,"x2",c(le)+c(ye)),H(F,"y1",c(S)),H(F,"y2",c(S))}),$(E,F)};he(x,E=>{h()===!0&&E(k)})}var w=L(x),te=_(w,!0);y(w),y(ae),oe(E=>{tn(ae,0,`tick tick-${K??""}`,"svelte-mmstdn"),H(ae,"transform",`translate(${r()[0]??""}, ${c(ve)??""})`),H(w,"x1",c(le)),H(w,"y",c(S)),H(w,"dx",re()+(d()==="even"?-3:0)),H(w,"text-anchor",d()==="above"?"start":"end"),H(w,"dy",I()+(d()==="above"||g()===!0&&c(ve)===c(me)?-3:4)),Me(te,E)},[()=>P()(K)]),$(T,ae)}),y(U),$(e,U),jt(),o()}var Sl=ce('<div class="flex items-center gap-2"><div class="h-2 w-2 rounded-full"></div> <span> </span> <span class="font-mono"> </span></div>'),Tl=ce('<div class="tooltip hidden md:block svelte-b0p9nb"><div class="line svelte-b0p9nb"></div> <div class="content pointer-events-none absolute top-0 z-50 mt-4 -translate-x-1/2 transform rounded border border-gray-200 bg-white p-2 text-xs whitespace-nowrap text-zinc-800 shadow"><div class="mb-1 font-bold"> </div> <!></div></div>'),zl=ce('<div class="tooltip-trigger hidden md:block svelte-b0p9nb"></div> <!>',1);function Cl(e,t){Ft(t,!0);const n=()=>b(N,"$xGet",s),r=()=>b(g,"$xScale",s),a=()=>b(l,"$data",s),i=()=>b(h,"$width",s),o=()=>b(d,"$height",s),[s,u]=Zt(),{data:l,width:h,height:d,xScale:g,yGet:D,xGet:N,config:P}=sn("LayerCake");let j=m(t,"formatTitle",3,T=>T),J=m(t,"formatValue",3,T=>T),re=m(t,"labels",19,()=>({})),I=je(!1),ne=je(kn({})),Y=je(0);const M=vr(T=>n()(T)).right;function B(T){const{left:K,top:ve}=T.currentTarget.getBoundingClientRect(),ae=T.clientX-K,ue=r().invert(ae),ee=M(a(),ue,1),x=a()[ee-1],k=a()[ee],w=!x||!k?x||k:ue-n()(x)>n()(k)-ue?k:x;w?(ge(ne,w,!0),ge(Y,r()(n()(w)),!0),ge(I,!0)):ge(I,!1)}function ke(){ge(I,!1)}var ye=zl(),le=Ve(ye);le.__mousemove=B;let S;var me=L(le,2);{var U=T=>{var K=Tl(),ve=_(K);let ae;var ue=L(ve,2),ee=_(ue),x=_(ee,!0);y(ee);var k=L(ee,2);Dt(k,17,()=>Object.entries(re()),qt,(w,te)=>{var E=X(()=>Dn(c(te),2));let F=()=>c(E)[0],V=()=>c(E)[1];var Z=Pt(),Ae=Ve(Z);{var v=C=>{var A=Sl(),f=_(A);let ie;var W=L(f,2),Ce=_(W);y(W);var p=L(W,2),Xe=_(p,!0);y(p),y(A),oe(st=>{ie=at(f,"",ie,{"background-color":V().color}),Me(Ce,`${V().text??""}:`),Me(Xe,st)},[()=>J()(c(ne)[F()],F())]),$(C,A)};he(Ae,C=>{c(ne)[F()]!=null&&C(v)})}$(w,Z)}),y(ue),y(K),oe(w=>{at(K,`left:${c(Y)??""}px; top: 0px;`),ae=at(ve,"",ae,{height:`${o()??""}px`}),Me(x,w)},[()=>j()(n()(c(ne)))]),$(T,K)};he(me,T=>{c(I)&&c(ne)&&T(U)})}oe(()=>S=at(le,"",S,{width:`${i()??""}px`,height:`${o()??""}px`})),Ji("mouseleave",le,ke),$(e,ye),jt(),u()}ui(["mousemove"]);var Nl=ce('<div class="flex h-64 items-center justify-center"><!></div>'),Rl=ce('<span class="h-2.5 w-2.5 rounded-full"></span>'),$l=Ee('<svg class="ml-auto h-4 w-4 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),Ul=ce('<button class="flex w-full items-center gap-2.5 px-3 py-1.5 text-left text-sm transition-colors hover:bg-zinc-700"><span class="h-3 w-3 rounded-full"></span> <span> </span> <!></button>'),Al=ce('<button class="fixed inset-0 z-10" aria-label="Close dropdown"></button> <div class="absolute left-0 z-20 mt-1 w-48 rounded-md border border-zinc-700 bg-zinc-800 py-1 shadow-lg"></div>',1),Ll=ce("<!> <!> <!>",1),Hl=ce("<!> <!>",1),Pl=ce('<div class="relative h-[400px] w-full rounded-lg bg-zinc-900 p-4 shadow-lg"><div class="absolute top-4 left-1/2 z-10 -translate-x-1/2 text-sm font-semibold text-zinc-300">Progress</div> <!></div>'),Fl=ce('<div class="rounded-lg bg-zinc-900 p-8 text-center text-zinc-400 shadow-lg">Not enough data to display chart. Add more entries!</div>'),jl=ce('<div class="rounded-lg bg-zinc-900 px-2 py-2 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-1.5"><span class="text-lg"> </span> <div class="min-w-0 flex-1"><div class="truncate text-xs font-medium text-zinc-300"> </div></div> <div class="text-xl font-bold text-white"> </div></div></div>'),Yl=ce('<div class="order-3 space-y-3 lg:order-2 lg:col-span-1"><div class="flex items-center justify-between"><h2 class="text-lg font-semibold text-zinc-100">Events</h2> <button> </button></div> <div class="grid grid-cols-2 gap-2"></div></div>'),Ol=ce('<div class="flex h-16 items-center justify-center"><!></div>'),El=ce('<div class="rounded-lg bg-zinc-900/60 px-3 py-4 text-center text-sm text-zinc-500">No deadlines for today</div>'),Wl=ce('<span class="text-zinc-500"> </span>'),Gl=ce('<div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><!> <div class="min-w-0 flex-1"><div class="truncate text-sm font-medium text-zinc-100"> </div> <div class="flex items-center gap-2 text-xs"><span> </span> <!></div></div></div></div>'),ql=ce('<span class="text-zinc-500">•</span> <span class="text-emerald-400"> </span>',1),Il=ce('<div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><!> <div class="min-w-0 flex-1"><div class="truncate text-sm font-medium text-zinc-100"> </div> <div class="flex items-center gap-2 text-xs text-zinc-400"><span class="truncate"> </span> <!></div></div></div></div>'),Bl=ce('<div class="grid grid-cols-1 gap-2"></div>'),Vl=ce(`<div class="order-2 space-y-3 lg:order-3 lg:col-span-1"><h2 class="text-lg font-semibold text-zinc-100">Today's Tasks</h2> <!> <div class="pt-2"><h2 class="text-lg font-semibold text-zinc-100">Done</h2></div> <div class="grid grid-cols-2 gap-2 lg:grid-cols-1"><div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">📝</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Applied Art Calls</div></div> <div class="text-xl font-bold text-white"> </div></div></div> <div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">✅</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Completed Projects</div></div> <div class="text-xl font-bold text-white"> </div></div></div> <div class="rounded-lg bg-zinc-900 px-3 py-2.5 shadow-lg transition-all hover:bg-zinc-800"><div class="flex items-center gap-2.5"><span class="text-lg">☑️</span> <div class="flex-1"><div class="text-xs font-medium text-zinc-300">Completed Tasks</div></div> <div class="text-xl font-bold text-white"> </div></div></div></div></div>`),Zl=ce('<div class="space-y-4"><div class="grid gap-4 lg:grid-cols-4"><div class="order-1 space-y-3 lg:order-1 lg:col-span-2"><h2 class="hidden text-lg font-bold text-zinc-100 md:block">Dashboard</h2> <div class="flex flex-wrap items-center justify-between gap-4 text-sm"><div class="flex flex-wrap items-center gap-2"><span class="text-zinc-500">Metrics:</span> <div class="relative"><button class="flex items-center gap-2 rounded-md border border-zinc-700 bg-zinc-800 px-3 py-1.5 text-sm text-zinc-100 shadow-sm transition-colors hover:bg-zinc-700"><div class="flex items-center gap-1"></div> <span class="text-zinc-400"> </span> <!></button> <!></div></div></div> <!></div> <!> <!></div></div>'),Xl=ce('<span class="jiggle-char group-hover:text-(--accent-color)"> </span>'),Ql=ce('<div class="flex flex-1 flex-col items-center justify-center text-center"><div class="mb-8"><div class="jiggle-link group flex text-4xl font-bold tracking-tight text-zinc-100 transition-colors"></div></div> <p class="mb-8 max-w-md text-lg text-zinc-400">Your personal dashboard for tracking daily activities, projects, and well-being.</p> <button class="flex items-center gap-3 rounded-full bg-zinc-100 px-8 py-4 text-base font-semibold text-zinc-900 transition-transform hover:scale-105 active:scale-95"><svg class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg> Sign In with GitHub</button></div>'),Jl=ce('<div class="flex flex-1 flex-col"><!></div>');function hu(e,t){Ft(t,!0);let n=je(null),r=je(!0),a=je(!1),i=je(kn([])),o=je(0),s=je(0),u=je(0),l=je(kn([])),h=je(kn([])),d=X(()=>[...c(l).map(k=>({kind:"task",data:k})),...c(h).map(k=>({kind:"artcall",data:k}))]),g=X(()=>c(i).map(x=>({...x,created_at:new Date(x.created_at)})).sort((x,k)=>x.created_at.getTime()-k.created_at.getTime())),N=kn({mood:{label:"Mood",color:"#8b5cf6",active:!0},energy:{label:"Energy",color:"#f97316",active:!0},physical:{label:"Physical",color:"#ef4444",active:!0},sleep:{label:"Sleep",color:"#3b82f6",active:!0},meals:{label:"Meals",color:"#22c55e",active:!0},weight:{label:"Weight",color:"#71717a",active:!1}}),P=je(""),j=je("");Qi(()=>{if(c(g).length>0&&!c(P)&&!c(j)){const x=c(g)[0].created_at,k=new Date,w=te=>{const E=te.getFullYear(),F=String(te.getMonth()+1).padStart(2,"0"),V=String(te.getDate()).padStart(2,"0");return`${E}-${F}-${V}`};ge(P,w(x),!0),ge(j,w(k),!0)}});let J=X(()=>{let x=c(g);if(c(P)){const[k,w,te]=c(P).split("-").map(Number),E=new Date(k,w-1,te);x=x.filter(F=>F.created_at>=E)}if(c(j)){const[k,w,te]=c(j).split("-").map(Number),E=new Date(k,w-1,te);E.setHours(23,59,59,999),x=x.filter(F=>F.created_at<=E)}return x});const re=0,I=10;let ne=X(()=>{const x=Object.keys(N).filter(te=>N[te].active);if(x.length===0)return[re,I];let k=0;for(const te of c(J))for(const E of x){const F=te[E];typeof F=="number"&&F>k&&(k=F)}const w=Math.max(I,k*1.1);return[re,w]});const Y=fa("%m/%d");let M=je(!0),B=je(!1),ke=X(()=>Object.values(N).filter(x=>x.active).length),ye=X(()=>{const x={ihana:{label:"Ihana",count:0,icon:"❤️"},calvin_day:{label:"Calvin Day",count:0,icon:"✨"},exercise:{label:"Exercise",count:0,icon:"🏃"},call_family:{label:"Family Calls",count:0,icon:"📞"},cry:{label:"Cry",count:0,icon:"😢"},loving:{label:"Loving",count:0,icon:"💌"},friends:{label:"Friends",count:0,icon:"👥"},sickness:{label:"Sick Days",count:0,icon:"🤒"},work:{label:"Work",count:0,icon:"💼"},study:{label:"Study",count:0,icon:"📚"},culture:{label:"Culture",count:0,icon:"🎭"},art:{label:"Art",count:0,icon:"🎨"},music:{label:"Music",count:0,icon:"🎵"},leisure:{label:"Leisure",count:0,icon:"🎮"}};let k=c(J);if(c(M)){const w=new Date,te=w.getMonth(),E=w.getFullYear();k=c(J).filter(F=>{const V=F.created_at;return V.getMonth()===te&&V.getFullYear()===E})}for(const w of k)w.exercise_type&&w.exercise_type.trim()&&x.exercise.count++,w.ihana===!0&&x.ihana.count++,w.calvin_day===!0&&x.calvin_day.count++,w.sickness===!0&&x.sickness.count++,w.work_type&&w.work_type.trim()&&x.work.count++,w.study_type&&w.study_type.trim()&&x.study.count++,w.culture_type&&w.culture_type.trim()&&x.culture.count++,w.art_type&&w.art_type.trim()&&x.art.count++,w.music_type&&w.music_type.trim()&&x.music.count++,w.leisure_type&&w.leisure_type.trim()&&x.leisure.count++,w.call_family===!0&&x.call_family.count++,w.cry===!0&&x.cry.count++,w.loving===!0&&x.loving.count++,w.friends===!0&&x.friends.count++;return x});ci(()=>{kt.auth.getSession().then(({data:{session:k}})=>{ge(n,k,!0),k?(le(),S()):ge(r,!1)});const{data:{subscription:x}}=kt.auth.onAuthStateChange((k,w)=>{ge(n,w,!0),w?(le(),S()):ge(r,!1)});return()=>x.unsubscribe()});async function le(){ge(r,!0);const{data:x,error:k}=await kt.from("dailyTracking").select("created_at, mood, energy, physical, sleep, meals, weight, exercise_type, ihana, calvin_day, sickness, work_type, study_type, culture_type, art_type, music_type, leisure_type, call_family, cry, loving, friends").order("created_at",{ascending:!0});!k&&x?ge(i,x,!0):k&&console.error("Error fetching data:",k),ge(r,!1)}async function S(){ge(a,!0);const x=new Date,k=`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}-${String(x.getDate()).padStart(2,"0")}`,[{count:w,error:te},{count:E,error:F},{count:V,error:Z},{data:Ae,error:v},{data:C,error:A}]=await Promise.all([kt.from("artCalls").select("id",{count:"exact",head:!0}).eq("applied",!0),kt.from("projects").select("id",{count:"exact",head:!0}).eq("status",3),kt.from("tasks").select("id",{count:"exact",head:!0}).eq("status","done"),kt.from("tasks").select("id, title, status, type, color, deadline_at").gte("deadline_at",k+"T00:00:00").lte("deadline_at",k+"T23:59:59").neq("status","done").order("deadline_at",{ascending:!0}),kt.from("artCalls").select("id, name, location, type, funds, deadline, applied").gte("deadline",k+"T00:00:00").lte("deadline",k+"T23:59:59").eq("applied",!1).order("deadline",{ascending:!0})]);te?console.error("Error fetching applied art calls count:",te):ge(o,w??0,!0),F?console.error("Error fetching completed projects count:",F):ge(s,E??0,!0),Z?console.error("Error fetching completed tasks count:",Z):ge(u,V??0,!0),v?console.error("Error fetching today tasks:",v):ge(l,Ae??[],!0),A?console.error("Error fetching today art calls:",A):ge(h,C??[],!0),ge(a,!1)}function me(x){const k=x;N[k].active=!N[k].active}function U(x){switch(x){case"todo":return{bg:"bg-zinc-500/10",text:"text-zinc-400"};case"in_progress":return{bg:"bg-indigo-500/10",text:"text-indigo-400"};case"done":return{bg:"bg-emerald-500/10",text:"text-emerald-400"};default:return{bg:"bg-zinc-500/10",text:"text-zinc-400"}}}function T(x){return x?x.split("_").map(k=>k.charAt(0).toUpperCase()+k.slice(1)).join(" "):"Unknown"}async function K(){const x=ro.isNativePlatform()?"com.cgtracker.app://auth/callback":`${window.location.origin}${to}/auth/callback`,{error:k}=await kt.auth.signInWithOAuth({provider:"github",options:{redirectTo:x}});k&&console.error("Error signing in:",k)}var ve=Jl(),ae=_(ve);{var ue=x=>{var k=Nl(),w=_(k);{let te=X(()=>Jt.getAccentHex());Ra(w,{class:"h-8 w-8 animate-spin",get style(){return`color: ${c(te)??""}`}})}y(k),$(x,k)},ee=x=>{var k=Pt(),w=Ve(k);{var te=F=>{var V=Zl(),Z=_(V),Ae=_(Z),v=L(_(Ae),2),C=_(v),A=L(_(C),2),f=_(A);f.__click=()=>ge(B,!c(B));var ie=_(f);Dt(ie,21,()=>Object.entries(N),qt,(de,be)=>{var Le=X(()=>Dn(c(be),2));let pe=()=>c(Le)[1];var Ne=Pt(),He=Ve(Ne);{var _e=Se=>{var we=Rl();let xe;oe(()=>{H(we,"title",pe().label),xe=at(we,"",xe,{"background-color":pe().color})}),$(Se,we)};he(He,Se=>{pe().active&&Se(_e)})}$(de,Ne)}),y(ie);var W=L(ie,2),Ce=_(W);y(W);var p=L(W,2);io(p,{class:"h-3.5 w-3.5 text-zinc-400"}),y(f);var Xe=L(f,2);{var st=de=>{var be=Al(),Le=Ve(be);Le.__click=()=>ge(B,!1);var pe=L(Le,2);Dt(pe,21,()=>Object.entries(N),qt,(Ne,He)=>{var _e=X(()=>Dn(c(He),2));let Se=()=>c(_e)[0],we=()=>c(_e)[1];var xe=Ul();xe.__click=()=>me(Se());var Re=_(xe);let Te;var De=L(Re,2),Pe=_(De,!0);y(De);var We=L(De,2);{var Qe=Ge=>{var Je=$l();$(Ge,Je)};he(We,Ge=>{we().active&&Ge(Qe)})}y(xe),oe(()=>{Te=at(Re,"",Te,{"background-color":we().color}),tn(De,1,Ki(we().active?"text-zinc-100":"text-zinc-400")),Me(Pe,we().label)}),$(Ne,xe)}),y(pe),$(de,be)};he(Xe,de=>{c(B)&&de(st)})}y(A),y(C),y(v);var yr=L(v,2);{var cn=de=>{var be=Pl(),Le=L(_(be),2);{let pe=X(Yc);il(Le,{padding:{top:36,right:15,bottom:32,left:30},x:Ne=>Ne.created_at,get yDomain(){return c(ne)},get data(){return c(J)},get xScale(){return c(pe)},children:(Ne,He)=>{var _e=Hl(),Se=Ve(_e);dl(Se,{children:(xe,Re)=>{var Te=Ll(),De=Ve(Te);pl(De,{gridlines:!1,ticks:5,get format(){return Y},dy:12});var Pe=L(De,2);Dl(Pe,{ticks:4,gridlines:!0});var We=L(Pe,2);Dt(We,17,()=>Object.entries(N),qt,(Qe,Ge)=>{var Je=X(()=>Dn(c(Ge),2));let qe=()=>c(Je)[0],Ke=()=>c(Je)[1];var dt=Pt(),ct=Ve(dt);{var Yt=Ie=>{hl(Ie,{get stroke(){return Ke().color},get yAccessorKey(){return qe()}})};he(ct,Ie=>{Ke().active&&Ie(Yt)})}$(Qe,dt)}),$(xe,Te)},$$slots:{default:!0}});var we=L(Se,2);sl(we,{children:(xe,Re)=>{{let Te=X(()=>Object.fromEntries(Object.entries(N).filter(([De,Pe])=>Pe.active).map(([De,Pe])=>[De,{text:Pe.label,color:Pe.color}])));Cl(xe,{get labels(){return c(Te)},get formatTitle(){return Y}})}},$$slots:{default:!0}}),$(Ne,_e)},$$slots:{default:!0}})}y(be),$(de,be)},br=de=>{var be=Fl();$(de,be)};he(yr,de=>{c(J).length>1?de(cn):de(br,!1)})}y(Ae);var Nt=L(Ae,2);{var ln=de=>{var be=Yl(),Le=_(be),pe=L(_(Le),2);pe.__click=()=>ge(M,!c(M));var Ne=_(pe,!0);y(pe),y(Le);var He=L(Le,2);Dt(He,21,()=>Object.entries(c(ye)),qt,(_e,Se)=>{var we=X(()=>Dn(c(Se),2));let xe=()=>c(we)[1];var Re=jl(),Te=_(Re),De=_(Te),Pe=_(De,!0);y(De);var We=L(De,2),Qe=_(We),Ge=_(Qe,!0);y(Qe),y(We);var Je=L(We,2),qe=_(Je,!0);y(Je),y(Te),y(Re),oe(()=>{Me(Pe,xe().icon),Me(Ge,xe().label),Me(qe,xe().count)}),$(_e,Re)}),y(He),y(be),oe(_e=>{tn(pe,1,`flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium transition-colors ${c(M)?"":"bg-zinc-700 text-zinc-400 hover:bg-zinc-600"}`),at(pe,_e),Me(Ne,c(M)?"This Month":"All Time")},[()=>c(M)?`background-color: ${Jt.getAccentHex()}33; color: ${Jt.getAccentLightHex()}`:""]),$(de,be)};he(Nt,de=>{c(J).length>0&&de(ln)})}var pr=L(Nt,2);{var _r=de=>{var be=Vl(),Le=L(_(be),2);{var pe=qe=>{var Ke=Ol(),dt=_(Ke);{let ct=X(()=>Jt.getAccentHex());Ra(dt,{class:"h-5 w-5 animate-spin",get style(){return`color: ${c(ct)??""}`}})}y(Ke),$(qe,Ke)},Ne=qe=>{var Ke=Pt(),dt=Ve(Ke);{var ct=Ie=>{var tt=El();$(Ie,tt)},Yt=Ie=>{var tt=Bl();Dt(tt,21,()=>c(d),qt,(Rt,gt)=>{var _t=Pt(),un=Ve(_t);{var fn=ht=>{const Ye=X(()=>c(gt).data),$t=X(()=>U(c(Ye).status));var Ut=Gl(),Ot=_(Ut),wt=_(Ot);oo(wt,{class:"h-4 w-4 text-indigo-400"});var et=L(wt,2),mt=_(et),Et=_(mt,!0);y(mt);var At=L(mt,2),vt=_(At),G=_(vt,!0);y(vt);var lt=L(vt,2);{var ut=Be=>{var xt=Wl(),Lt=_(xt,!0);y(xt),oe(An=>Me(Lt,An),[()=>Jt.getTaskType(c(Ye).type)?.label??c(Ye).type]),$(Be,xt)};he(lt,Be=>{c(Ye).type&&Be(ut)})}y(At),y(et),y(Ot),y(Ut),oe(Be=>{H(mt,"title",c(Ye).title),Me(Et,c(Ye).title),tn(vt,1,`rounded-full px-1.5 py-0.5 ${c($t).bg} ${c($t).text}`),Me(G,Be)},[()=>T(c(Ye).status)]),$(ht,Ut)},dn=ht=>{const Ye=X(()=>c(gt).data);var $t=Il(),Ut=_($t),Ot=_(Ut);ao(Ot,{class:"h-4 w-4 text-emerald-400"});var wt=L(Ot,2),et=_(wt),mt=_(et,!0);y(et);var Et=L(et,2),At=_(Et),vt=_(At,!0);y(At);var G=L(At,2);{var lt=ut=>{var Be=ql(),xt=L(Ve(Be),2),Lt=_(xt);y(xt),oe(()=>Me(Lt,`€${c(Ye).funds??""}`)),$(ut,Be)};he(G,ut=>{c(Ye).funds&&ut(lt)})}y(Et),y(wt),y(Ut),y($t),oe(()=>{H(et,"title",c(Ye).name),Me(mt,c(Ye).name),Me(vt,c(Ye).location)}),$(ht,$t)};he(un,ht=>{c(gt).kind==="task"?ht(fn):ht(dn,!1)})}$(Rt,_t)}),y(tt),$(Ie,tt)};he(dt,Ie=>{c(d).length===0?Ie(ct):Ie(Yt,!1)},!0)}$(qe,Ke)};he(Le,qe=>{c(a)?qe(pe):qe(Ne,!1)})}var He=L(Le,4),_e=_(He),Se=_(_e),we=L(_(Se),4),xe=_(we,!0);y(we),y(Se),y(_e);var Re=L(_e,2),Te=_(Re),De=L(_(Te),4),Pe=_(De,!0);y(De),y(Te),y(Re);var We=L(Re,2),Qe=_(We),Ge=L(_(Qe),4),Je=_(Ge,!0);y(Ge),y(Qe),y(We),y(He),y(be),oe(()=>{Me(xe,c(a)?"—":c(o)),Me(Pe,c(a)?"—":c(s)),Me(Je,c(a)?"—":c(u))}),$(de,be)};he(pr,de=>{c(J).length>0&&de(_r)})}y(Z),y(V),oe(()=>Me(Ce,`${c(ke)??""} selected`)),$(F,V)},E=F=>{var V=Ql(),Z=_(V),Ae=_(Z);Dt(Ae,20,()=>"CG Tracker".split(""),qt,(C,A,f)=>{var ie=Xl();at(ie,`animation-delay: ${f*.05}s`);var W=_(ie,!0);y(ie),oe(()=>Me(W,A)),$(C,ie)}),y(Ae),y(Z);var v=L(Z,4);v.__click=K,y(V),oe(C=>at(Ae,`--accent-color: ${C??""}`),[()=>Jt.getAccentLightHex()]),$(F,V)};he(w,F=>{c(n)?F(te):F(E,!1)},!0)}$(x,k)};he(ae,x=>{c(r)?x(ue):x(ee,!1)})}y(ve),$(e,ve),jt()}ui(["click"]);export{hu as component};
