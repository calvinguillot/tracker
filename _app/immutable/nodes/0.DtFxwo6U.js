const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/yQ_uqRdx.js","../chunks/DKNSuxUU.js"])))=>i.map(i=>d[i]);
import{c as P,a as h,f as R}from"../chunks/CQkslu6P.js";import{p as be,k as $,a as xe,z as e,A as t,B as i,D as F,m as J,v as Te,y as N,J as Be,G as I,o as We,j as qe,bk as Ke}from"../chunks/CzM_H10X.js";import{d as Le,s as V}from"../chunks/C_B3uCM3.js";import{s as Je}from"../chunks/DnhKhICn.js";import{h as Xe}from"../chunks/QibgDw4u.js";import{d as q,j as ce,e as Oe,a as ne,I as O,s as D,f as p}from"../chunks/BlwmmlO5.js";import{i as se,l as E,s as H,a as De,b as Ee}from"../chunks/DVrx_Uw8.js";import{s as K}from"../chunks/BW5xtwr9.js";import{b as o}from"../chunks/CX0n6Oo6.js";import{s as Ye,g as ze}from"../chunks/BswHOBlG.js";import{_ as Ze}from"../chunks/PPVm8Dsz.js";import{r as Qe,C as X}from"../chunks/DKNSuxUU.js";import{i as et}from"../chunks/CLX796lQ.js";import{t as tt,f as at}from"../chunks/BL1b-Wf3.js";import{s as _e}from"../chunks/CGOCP0_5.js";import{S as ye}from"../chunks/BazncEnm.js";const rt=!0,Lt=Object.freeze(Object.defineProperty({__proto__:null,prerender:rt},Symbol.toStringTag,{value:"Module"})),ot=()=>{const s=Ye;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},He={subscribe(s){return ot().page.subscribe(s)}},we=Qe("App",{web:()=>Ze(()=>import("../chunks/yQ_uqRdx.js"),__vite__mapDeps([0,1]),import.meta.url).then(s=>new s.AppWeb)});var st=R('<button class="rounded-md bg-zinc-800 px-4 py-2 text-sm font-semibold text-zinc-200 shadow-sm ring-1 ring-zinc-700 ring-inset hover:bg-zinc-700"> </button> <button> </button>',1),nt=R('<button class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">OK</button>'),it=R('<div class="fixed inset-0 z-[60] flex items-center justify-center bg-black/70 p-4 backdrop-blur-sm" role="dialog" aria-modal="true" tabindex="-1"><div class="flex w-full max-w-sm flex-col overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900 shadow-xl"><div class="flex items-center justify-between border-b border-zinc-800 bg-zinc-900 p-4"><h2 class="text-lg font-bold text-zinc-100"> </h2> <button class="text-zinc-400 transition-colors hover:text-zinc-200" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <div class="p-6"><p class="text-zinc-300"> </p></div> <div class="flex justify-end gap-3 border-t border-zinc-800 bg-zinc-900 p-4"><!></div></div></div>');function ct(s,a){be(a,!1);function l(b){b.target===b.currentTarget&&ce(!1)}function v(b){b.key==="Escape"&&ce(!1)}function u(){ce(!0)}function n(){ce(!1)}et();var r=P(),c=$(r);{var Y=b=>{var M=it();M.__click=l,M.__keydown=v;var Z=e(M),d=e(Z),z=e(d),B=e(z,!0);t(z);var j=i(z,2);j.__click=n,t(d);var g=i(d,2),y=e(g),Q=e(y,!0);t(y),t(g);var ee=i(g,2),te=e(ee);{var ae=f=>{var m=st(),_=$(m);_.__click=n;var G=e(_,!0);t(_);var x=i(_,2);x.__click=u;var A=e(x,!0);t(x),F(()=>{V(G,q.cancelText),Oe(x,1,`rounded-md px-4 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline-2 focus-visible:outline-offset-2 ${q.isDestructive?"bg-red-600 hover:bg-red-500 focus-visible:outline-red-600":"bg-indigo-600 hover:bg-indigo-500 focus-visible:outline-indigo-600"}`),V(A,q.confirmText)}),h(f,m)},re=f=>{var m=nt();m.__click=()=>ce(!0),h(f,m)};se(te,f=>{q.type==="confirm"?f(ae):f(re,!1)})}t(ee),t(Z),t(M),F(()=>{V(B,q.title),V(Q,q.message)}),tt(3,M,()=>at,()=>({duration:ne.getTransitionDuration()})),h(b,M)};se(c,b=>{q.isOpen&&b(Y)})}h(s,r),xe()}Le(["click","keydown"]);function ke(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2"}],["path",{d:"M6.453 15h11.094"}],["path",{d:"M8.5 2h7"}]];O(s,H({name:"flask-conical"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function Ne(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];O(s,H({name:"folder"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function Pe(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]];O(s,H({name:"layout-dashboard"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function Me(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"m16 17 5-5-5-5"}],["path",{d:"M21 12H9"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}]];O(s,H({name:"log-out"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function lt(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M4 5h16"}],["path",{d:"M4 12h16"}],["path",{d:"M4 19h16"}]];O(s,H({name:"menu"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function je(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"}]];O(s,H({name:"palette"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function Ae(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];O(s,H({name:"settings"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function Ce(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5"}]];O(s,H({name:"sticky-note"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function Se(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]];O(s,H({name:"table"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}function dt(s,a){const l=E(a,["children","$$slots","$$events","$$legacy"]);const v=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];O(s,H({name:"x"},()=>l,{get iconNode(){return v},children:(u,n)=>{var r=P(),c=$(r);D(c,a,"default",{}),h(u,r)},$$slots:{default:!0}}))}var vt=R('<div class="col-start-2 row-start-1 flex justify-center md:hidden"><span class="text-lg font-semibold text-zinc-100"> </span></div> <nav class="col-start-2 row-start-1 hidden items-center justify-center gap-2 md:flex"><a class="px-6 text-zinc-400 transition-colors hover:text-[var(--accent-color)]" aria-label="Dashboard"><!></a> <a class="px-6 text-zinc-400 transition-colors hover:text-[var(--accent-color)]" aria-label="Daily"><!></a> <a class="px-6 text-zinc-400 transition-colors hover:text-[var(--accent-color)]" aria-label="Art Calls"><!></a> <a class="px-6 text-zinc-400 transition-colors hover:text-[var(--accent-color)]" aria-label="Projects"><!></a> <a class="px-6 text-zinc-400 transition-colors hover:text-[var(--accent-color)]" aria-label="Tasks"><!></a> <a class="px-6 text-zinc-400 transition-colors hover:text-[var(--accent-color)]" aria-label="Notes"><!></a> <a class="px-6 text-zinc-400 transition-colors hover:text-[var(--accent-color)]" aria-label="Experimental"><!></a></nav> <div class="hidden items-center justify-end gap-4 justify-self-end md:flex"><a class="rounded-full p-2 text-zinc-400 transition-colors hover:bg-zinc-800/50 hover:text-[var(--accent-color)]" aria-label="Settings"><!></a> <button class="rounded-full p-2 text-red-500 transition-colors hover:bg-zinc-800/50 hover:text-red-400" aria-label="Sign Out"><!></button></div> <div class="col-start-3 flex justify-end md:hidden"><button class="rounded-md p-2 text-zinc-400 hover:bg-zinc-800 hover:text-white" aria-label="Toggle Menu"><!></button></div>',1),ut=R('<div class="col-start-3 justify-self-end"><button class="rounded bg-zinc-800 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-zinc-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-zinc-800">Sign In with GitHub</button> <div class="mt-2 font-mono text-[10px] text-zinc-500"> <br/> </div></div>'),ft=R('<div class="container mx-auto flex flex-col gap-2 bg-zinc-950/95 p-4 md:hidden"><a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Dashboard</span></a> <a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Daily</span></a> <a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Art Calls</span></a> <a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Projects</span></a> <a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Tasks</span></a> <a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Notes</span></a> <a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Experimental</span></a> <a class="flex items-center gap-3 rounded-md p-3 text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-[var(--accent-color)]"><!> <span class="font-medium">Settings</span></a> <div class="my-2 border-t border-zinc-800"></div> <button class="flex w-full items-center gap-3 rounded-md p-3 text-left text-red-500 transition-colors hover:bg-zinc-800/50 hover:text-red-400"><!> <span class="font-medium">Sign Out</span></button></div>'),ht=R('<header class="navbar-safe-area sticky top-0 z-50 w-full border-b border-zinc-800 bg-zinc-950/80 backdrop-blur-md"><div class="container mx-auto grid grid-cols-[1fr_auto_1fr] items-center gap-4 p-4"><div class="justify-self-start"><a class="home-icon-link group flex items-center transition-transform hover:scale-110 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-zinc-500" aria-label="Home"><img alt="CG Tracker" class="h-8 w-8 rounded-full object-cover opacity-90 transition-opacity group-hover:opacity-100"/></a></div> <!></div> <!></header>');function pt(s,a){be(a,!0);const l=()=>Ee(He,"$page",v),[v,u]=De();let n=Te(!1);async function r(){const d=X.isNativePlatform()?"com.cgtracker.app://auth/callback":`${window.location.origin}${o}/auth/callback`;console.log(`Debug: Redirect URL is ${d}`);const{error:z}=await K.auth.signInWithOAuth({provider:"github",options:{redirectTo:d}});z&&console.error("Error signing in:",z)}async function c(){const{error:d}=await K.auth.signOut();d&&console.error("Error signing out:",d)}const Y=Be(()=>{const d=l().url.pathname;return d===o+"/"||d===o+""?"Dashboard":d===o+"/daily"?"Daily":d===o+"/artcalls"?"Art Calls":d===o+"/projects"?"Projects":d===o+"/tasks"?"Tasks":d===o+"/notes"?"Notes":d===o+"/experimental"?"Experimental":d===o+"/settings"?"Settings":"CG Tracker"});var b=P(),M=$(b);{var Z=d=>{var z=ht(),B=e(z),j=e(B),g=e(j),y=e(g);t(g),t(j);var Q=i(j,2);{var ee=f=>{var m=vt(),_=$(m),G=e(_),x=e(G,!0);t(G),t(_);var A=i(_,2),w=e(A),ie=e(w);Pe(ie,{class:"h-6 w-6"}),t(w);var k=i(w,2),de=e(k);Se(de,{class:"h-6 w-6"}),t(k);var C=i(k,2),ve=e(C);je(ve,{class:"h-6 w-6"}),t(C);var S=i(C,2),ue=e(S);Ne(ue,{class:"h-6 w-6"}),t(S);var T=i(S,2),fe=e(T);ye(fe,{class:"h-6 w-6"}),t(T);var L=i(T,2),he=e(L);Ce(he,{class:"h-6 w-6"}),t(L);var W=i(L,2),pe=e(W);ke(pe,{class:"h-6 w-6"}),t(W),t(A);var oe=i(A,2),le=e(oe),Ge=e(le);Ae(Ge,{class:"h-6 w-6"}),t(le);var ge=i(le,2);ge.__click=c;var Ie=e(ge);Me(Ie,{class:"h-6 w-6"}),t(ge),t(oe);var $e=i(oe,2),me=e($e);me.__click=()=>N(n,!J(n));var Re=e(me);{var Ue=U=>{dt(U,{class:"h-6 w-6"})},Fe=U=>{lt(U,{class:"h-6 w-6"})};se(Re,U=>{J(n)?U(Ue):U(Fe,!1)})}t(me),t($e),F((U,Ve)=>{V(x,J(Y)),_e(A,`--accent-color: ${U??""}`),p(w,"href",`${o??""}/`),p(k,"href",`${o??""}/daily`),p(C,"href",`${o??""}/artcalls`),p(S,"href",`${o??""}/projects`),p(T,"href",`${o??""}/tasks`),p(L,"href",`${o??""}/notes`),p(W,"href",`${o??""}/experimental`),_e(oe,`--accent-color: ${Ve??""}`),p(le,"href",`${o??""}/settings`)},[()=>ne.getAccentLightHex(),()=>ne.getAccentLightHex()]),h(f,m)},te=f=>{var m=ut(),_=e(m);_.__click=r;var G=i(_,2),x=e(G),A=i(x,2);t(G),t(m),F((w,ie,k)=>{V(x,`Plat: ${w??""} | Native: ${ie??""} `),V(A,` redir: ${k??""}`)},[()=>X.getPlatform(),()=>X.isNativePlatform(),()=>X.isNativePlatform()?"com.cgtracker.app://auth/callback":"web path"]),h(f,m)};se(Q,f=>{a.session?f(ee):f(te,!1)})}t(B);var ae=i(B,2);{var re=f=>{var m=ft(),_=e(m);_.__click=()=>N(n,!1);var G=e(_);Pe(G,{class:"h-5 w-5"}),I(2),t(_);var x=i(_,2);x.__click=()=>N(n,!1);var A=e(x);Se(A,{class:"h-5 w-5"}),I(2),t(x);var w=i(x,2);w.__click=()=>N(n,!1);var ie=e(w);je(ie,{class:"h-5 w-5"}),I(2),t(w);var k=i(w,2);k.__click=()=>N(n,!1);var de=e(k);Ne(de,{class:"h-5 w-5"}),I(2),t(k);var C=i(k,2);C.__click=()=>N(n,!1);var ve=e(C);ye(ve,{class:"h-5 w-5"}),I(2),t(C);var S=i(C,2);S.__click=()=>N(n,!1);var ue=e(S);Ce(ue,{class:"h-5 w-5"}),I(2),t(S);var T=i(S,2);T.__click=()=>N(n,!1);var fe=e(T);ke(fe,{class:"h-5 w-5"}),I(2),t(T);var L=i(T,2);L.__click=()=>N(n,!1);var he=e(L);Ae(he,{class:"h-5 w-5"}),I(2),t(L);var W=i(L,4);W.__click=()=>{c(),N(n,!1)};var pe=e(W);Me(pe,{class:"h-5 w-5"}),I(2),t(W),t(m),F(oe=>{_e(m,`--accent-color: ${oe??""}`),p(_,"href",`${o??""}/`),p(x,"href",`${o??""}/daily`),p(w,"href",`${o??""}/artcalls`),p(k,"href",`${o??""}/projects`),p(C,"href",`${o??""}/tasks`),p(S,"href",`${o??""}/notes`),p(T,"href",`${o??""}/experimental`),p(L,"href",`${o??""}/settings`)},[()=>ne.getAccentLightHex()]),h(f,m)};se(ae,f=>{a.session&&J(n)&&f(re)})}t(z),F(()=>{p(g,"href",`${o??""}/`),p(y,"src",`${o??""}/icon.webp`)}),h(d,z)};se(M,d=>{(a.session||l().url.pathname!==o+"/")&&d(Z)})}h(s,b),xe(),u()}Le(["click"]);var gt=R('<link rel="icon"/>'),mt=R('<div class="flex min-h-screen flex-col bg-zinc-950 text-zinc-100 antialiased selection:bg-indigo-500 selection:text-white"><!> <div><!></div> <footer class="border-t border-zinc-800 py-6 text-center text-sm text-zinc-500"> </footer></div> <!>',1);function Ot(s,a){be(a,!0);const l=()=>Ee(He,"$page",v),[v,u]=De();let n=Te(null);We(()=>{typeof document<"u"&&X.getPlatform()==="android"&&document.documentElement.style.setProperty("--status-bar-height","24px"),K.auth.getSession().then(({data:{session:g}})=>{N(n,g,!0),g&&ne.init()});const{data:{subscription:j}}=K.auth.onAuthStateChange((g,y)=>{N(n,y,!0),y&&ne.init()});return X.isNativePlatform()&&we.addListener("appUrlOpen",async({url:g})=>{if(g.includes("auth/callback"))try{const y=new URL(g),Q=y.searchParams.get("code");if(Q){const{error:f}=await K.auth.exchangeCodeForSession(Q);if(f){console.error("Error exchanging code from deep link:",f);return}ze(`${o}/`);return}const ee=y.hash?.replace("#","")??"",te=new URLSearchParams(ee),ae=te.get("access_token"),re=te.get("refresh_token");if(ae&&re){const{error:f}=await K.auth.setSession({access_token:ae,refresh_token:re});if(f){console.error("Error setting session from deep link:",f);return}await K.auth.refreshSession(),ze(`${o}/`)}}catch(y){console.error("Error handling auth deep link:",y)}}),()=>{j.unsubscribe(),X.isNativePlatform()&&we.removeAllListeners()}});var r=mt();Xe("12qhfyh",j=>{var g=gt();F(()=>p(g,"href",`${o??""}/calvin_surf.ico`)),qe(()=>{Ke.title="CG Tracker"}),h(j,g)});var c=$(r),Y=e(c);pt(Y,{get session(){return J(n)}});var b=i(Y,2);let M;var Z=e(b);Je(Z,()=>a.children),t(b);var d=i(b,2),z=e(d);t(d),t(c);var B=i(c,2);ct(B,{}),F(j=>{M=Oe(b,1,"container mx-auto flex-1 p-4 pt-8",null,M,{flex:!J(n)&&l().url.pathname===o+"/","flex-col":!J(n)&&l().url.pathname===o+"/"}),V(z,`Â© ${j??""} Calvin Guillot`)},[()=>new Date().getFullYear()]),h(s,r),xe(),u()}export{Ot as component,Lt as universal};
