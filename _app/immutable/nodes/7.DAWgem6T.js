import{c as le,a as c,f as m}from"../chunks/BqEl5C80.js";import{f as q,p as mt,s as Z,c as bt,d as At,g as p,a as _t,h as a,i as t,j as n,l as Ft,t as j,k as e,o as Ot,v as xe,m as ft}from"../chunks/DVg-wcBP.js";import{d as xt,s as M,e as It}from"../chunks/Bj2CMk_O.js";import{l as ht,s as wt,i as D}from"../chunks/C66CeOwb.js";import{I as zt,s as yt,r as He,e as oe,i as ie,a as We,b as te,c as pt,g as k,d as Bt,f as he,h as Ht,j as Wt}from"../chunks/DZ1IOtyI.js";import{s as we}from"../chunks/Bkout0r_.js";import{b as ze,P as qt,L as Vt}from"../chunks/CX2Dg3vE.js";import"../chunks/DyB6Jsl2.js";import{A as Yt,a as Gt}from"../chunks/DEyrxmCn.js";function Ut(ae,d){const s=ht(d,["children","$$slots","$$events","$$legacy"]);const N=[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}]];zt(ae,wt({name:"calendar"},()=>s,{get iconNode(){return N},children:(A,U)=>{var z=le(),E=q(z);yt(E,d,"default",{}),c(A,z)},$$slots:{default:!0}}))}function Kt(ae,d){const s=ht(d,["children","$$slots","$$events","$$legacy"]);const N=[["path",{d:"M3 5h.01"}],["path",{d:"M3 12h.01"}],["path",{d:"M3 19h.01"}],["path",{d:"M8 5h13"}],["path",{d:"M8 12h13"}],["path",{d:"M8 19h13"}]];zt(ae,wt({name:"list"},()=>s,{get iconNode(){return N},children:(A,U)=>{var z=le(),E=q(z);yt(E,d,"default",{}),c(A,z)},$$slots:{default:!0}}))}var $t=m("<option> </option>"),Jt=m("<div></div>"),Qt=m('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 p-2 backdrop-blur-sm md:p-4" role="dialog" aria-modal="true" tabindex="-1"><div class="flex max-h-[95vh] w-full max-w-2xl flex-col overflow-y-auto rounded-xl border border-zinc-800 bg-zinc-900 shadow-xl md:max-h-[90vh]"><div class="sticky top-0 z-10 flex items-center justify-between border-b border-zinc-800 bg-zinc-900 p-4 md:p-6"><h2 class="text-xl font-bold text-zinc-100"> </h2> <button class="text-zinc-400 transition-colors hover:text-zinc-200" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div> <form class="space-y-6 p-4 md:p-6"><div><label for="name" class="mb-1 block text-sm font-medium text-zinc-400">Name</label> <input type="text" id="name" required class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"/></div> <div><label for="description" class="mb-1 block text-sm font-medium text-zinc-400">Description</label> <textarea id="description" rows="3" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"></textarea></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2"><div><label for="status" class="mb-1 block text-sm font-medium text-zinc-400">Status</label> <select id="status" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"><option>Not Started</option><option>In Progress</option><option>Postponed</option><option>Completed</option><option>Cancelled</option></select></div> <div><label for="funds" class="mb-1 block text-sm font-medium text-zinc-400">Funds (€)</label> <input type="number" id="funds" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"/></div></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2"><div><label for="percentage" class="mb-1 block text-sm font-medium text-zinc-400"> </label> <input type="range" id="percentage" min="0" max="100" class="h-2 w-full cursor-pointer appearance-none rounded-lg bg-zinc-700 accent-indigo-500"/></div> <div><label for="type" class="mb-1 block text-sm font-medium text-zinc-400">Type</label> <div class="flex items-center gap-2"><select id="type" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"><option>Select Type</option><!></select> <!></div></div></div> <div class="grid grid-cols-1 gap-6 md:grid-cols-2"><div><label for="start_at" class="mb-1 block text-sm font-medium text-zinc-400">Start Date</label> <input type="date" id="start_at" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"/></div> <div><label for="end_at" class="mb-1 block text-sm font-medium text-zinc-400">End Date</label> <input type="date" id="end_at" class="w-full rounded-md border border-zinc-700 bg-zinc-800 p-2 text-zinc-100 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"/></div></div> <div class="sticky bottom-0 mt-6 flex justify-end gap-3 border-t border-zinc-800 bg-zinc-900 pt-4"><button type="button" class="rounded-md bg-zinc-800 px-3.5 py-2.5 text-sm font-semibold text-zinc-200 shadow-sm ring-1 ring-zinc-700 ring-inset hover:bg-zinc-700">Cancel</button> <button type="submit" class="rounded-md px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm transition-all hover:brightness-110 focus-visible:outline-2 focus-visible:outline-offset-2">Save</button></div></form></div></div>');function Rt(ae,d){mt(d,!0);let s=Z(bt({name:"",description:"",funds:null,status:0,type:null,percentage:0,start_at:"",end_at:"",colour:"bg-indigo-600"}));At(()=>{d.isOpen&&(d.entry?p(s,{name:d.entry.name||"",description:d.entry.description||"",funds:d.entry.funds,status:d.entry.status??0,type:d.entry.type??null,percentage:d.entry.percentage??0,start_at:d.entry.start_at?new Date(d.entry.start_at).toISOString().split("T")[0]:"",end_at:d.entry.end_at?new Date(d.entry.end_at).toISOString().split("T")[0]:"",colour:d.entry.colour||"bg-indigo-600"},!0):p(s,{name:"",description:"",funds:null,status:0,type:null,percentage:0,start_at:"",end_at:"",colour:"bg-indigo-600"},!0))});function N(){if(e(s).type){const b=We.getProjectType(e(s).type);b&&b.color&&(e(s).colour=b.color)}}function A(b){b.preventDefault(),d.onSave(e(s))}function U(b){b.target===b.currentTarget&&d.onClose()}function z(b){b.key==="Escape"&&d.onClose()}var E=le(),re=q(E);{var K=b=>{var $=Qt();$.__click=U,$.__keydown=z;var qe=a($),de=a(qe),ye=a(de),S=a(ye,!0);t(ye);var Re=n(ye,2);Re.__click=function(...l){d.onClose?.apply(this,l)},t(de);var ke=n(de,2),J=a(ke),Ve=n(a(J),2);He(Ve),t(J);var De=n(J,2),Ye=n(a(De),2);Ft(Ye),t(De);var Se=n(De,2),Me=a(Se),ce=n(a(Me),2),Te=a(ce);Te.value=Te.__value=0;var Pe=n(Te);Pe.value=Pe.__value=1;var ve=n(Pe);ve.value=ve.__value=2;var ue=n(ve);ue.value=ue.__value=3;var Ce=n(ue);Ce.value=Ce.__value=4,t(ce),t(Me);var ge=n(Me,2),Ge=n(a(ge),2);He(Ge),t(ge),t(Se);var je=n(Se,2),Ee=a(je),Le=a(Ee),Xe=a(Le);t(Le);var r=n(Le,2);He(r),t(Ee);var o=n(Ee,2),v=n(a(o),2),u=a(v);u.__change=N;var x=a(u);x.value=(x.__value=null)??"";var y=n(x);oe(y,17,()=>We.settings.project_types,ie,(l,R)=>{var O=$t(),X=a(O,!0);t(O);var $e={};j(()=>{M(X,e(R).label),$e!==($e=e(R).id)&&(O.value=(O.__value=e(R).id)??"")}),c(l,O)}),t(u);var T=n(u,2);{var F=l=>{var R=Jt();let O;j(X=>{O=k(R,1,"h-8 w-8 flex-shrink-0 rounded-full border border-zinc-600 shadow-sm",null,O,{"bg-zinc-500":e(s).colour==="bg-zinc-500","bg-red-600":e(s).colour==="bg-red-600","bg-orange-600":e(s).colour==="bg-orange-600","bg-amber-500":e(s).colour==="bg-amber-500","bg-green-600":e(s).colour==="bg-green-600","bg-emerald-500":e(s).colour==="bg-emerald-500","bg-teal-500":e(s).colour==="bg-teal-500","bg-cyan-500":e(s).colour==="bg-cyan-500","bg-blue-600":e(s).colour==="bg-blue-600","bg-indigo-600":e(s).colour==="bg-indigo-600","bg-violet-600":e(s).colour==="bg-violet-600","bg-purple-600":e(s).colour==="bg-purple-600","bg-fuchsia-600":e(s).colour==="bg-fuchsia-600","bg-pink-600":e(s).colour==="bg-pink-600","bg-rose-600":e(s).colour==="bg-rose-600"}),te(R,X)},[()=>e(s).colour.startsWith("#")?`background-color: ${e(s).colour}`:""]),c(l,R)};D(T,l=>{e(s).colour&&l(F)})}t(v),t(o),t(je);var _=n(je,2),Ne=a(_),Q=n(a(Ne),2);He(Q),t(Ne);var ne=n(Ne,2),fe=n(a(ne),2);He(fe),t(ne),t(_);var pe=n(_,2),Ue=a(pe);Ue.__click=function(...l){d.onClose?.apply(this,l)};var Ke=n(Ue,2);t(pe),t(ke),t(qe),t($),j(l=>{M(S,d.entry?"Edit Project":"New Project"),M(Xe,`Progress (${e(s).percentage??""}%)`),te(Ke,`background-color: ${l??""}`)},[()=>We.getAccentHex()]),It("submit",ke,A),ze(Ve,()=>e(s).name,l=>e(s).name=l),ze(Ye,()=>e(s).description,l=>e(s).description=l),pt(ce,()=>e(s).status,l=>e(s).status=l),ze(Ge,()=>e(s).funds,l=>e(s).funds=l),ze(r,()=>e(s).percentage,l=>e(s).percentage=l),pt(u,()=>e(s).type,l=>e(s).type=l),ze(Q,()=>e(s).start_at,l=>e(s).start_at=l),ze(fe,()=>e(s).end_at,l=>e(s).end_at=l),c(b,$)};D(re,b=>{d.isOpen&&b(K)})}c(ae,E),_t()}xt(["click","keydown","change"]);var Xt=m('<button class="fixed right-8 bottom-8 z-50 rounded-full p-4 text-white shadow-lg transition-all hover:scale-105 hover:brightness-110" aria-label="New Project"><!></button>'),Zt=m('<div class="flex h-48 items-center justify-center"><!></div>'),ea=m('<div class="rounded-lg border border-zinc-800 bg-zinc-900/60 p-6 text-zinc-400">Sign in to view projects.</div>'),ta=m('<div class="rounded-lg border border-zinc-800 bg-zinc-900/60 p-6 text-zinc-400">No projects yet.</div>'),aa=m('<button><span class="capitalize"> </span> <!></button>'),ra=m("<p> </p>"),na=m('<div class="flex items-center gap-2 text-xs text-zinc-500"><span> </span></div>'),sa=m('<div class="flex flex-col gap-0.5"><span class="text-[10px] font-bold tracking-wider text-zinc-500 uppercase">Dates</span> <span> </span></div>'),oa=m('<li><div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between"><div class="flex min-w-0 flex-1 flex-col gap-2"><h3> </h3> <!> <!></div> <div class="flex w-full shrink-0 flex-col gap-2 md:w-56"><div class="flex justify-end"><span> </span></div> <div class="flex items-center justify-between"><span>Progress</span> <span> </span></div> <div class="h-2 w-full overflow-hidden rounded-full bg-zinc-800"><div></div></div></div></div> <div class="flex flex-wrap items-end justify-between gap-4 border-t border-zinc-800/50 pt-3"><div class="flex items-center gap-6"><div class="flex flex-col gap-0.5"><span class="text-[10px] font-bold tracking-wider text-zinc-500 uppercase">Funds</span> <span> </span></div> <!></div> <div class="flex items-center gap-2"><button class="rounded-md p-2 text-indigo-400 transition-colors hover:bg-zinc-800 hover:text-indigo-300" aria-label="Edit"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button class="rounded-md p-2 text-red-400 transition-colors hover:bg-zinc-800 hover:text-red-300" aria-label="Delete"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></li>'),ia=m('<div class="my-8 flex items-center gap-4"><div class="h-px flex-1 bg-zinc-800"></div> <span class="text-sm font-medium tracking-wider text-zinc-500 uppercase">Archived</span> <div class="h-px flex-1 bg-zinc-800"></div></div> <ul class="grid grid-cols-1 gap-4"></ul>',1),la=m('<ul class="grid grid-cols-1 gap-4"></ul> <!>',1),da=m('<div class="absolute top-8 bottom-0 border-l border-dashed border-zinc-800"></div>'),ca=m('<div class="absolute -translate-x-1/2 transform text-center"> </div>'),va=m('<div class="group relative h-10 w-full rounded transition-colors hover:bg-zinc-800/30"><div class="absolute top-1 flex flex-col gap-1"><div></div> <span class="px-0.5 text-[10px] font-medium whitespace-nowrap text-zinc-400"> </span></div></div>'),ua=m('<div class="p-4 text-center text-zinc-500">No projects with dates to display.</div>'),ga=m('<div class="w-full overflow-x-auto rounded-lg border border-zinc-800 bg-zinc-900/60 p-4"><div class="relative min-w-[800px]"><div class="pointer-events-none absolute inset-0"></div> <div class="relative z-10 mb-4 flex border-b border-zinc-800 pb-2 text-xs font-medium text-zinc-500"><div class="relative h-6 flex-1"></div></div> <div class="space-y-3"><!> <!></div></div></div>'),fa=m('<div class="mb-4 flex flex-wrap items-center justify-between gap-4 text-sm"><div class="flex flex-wrap items-center gap-4"><span class="text-zinc-500">Sort by:</span> <!></div> <div class="flex items-center gap-4"><span class="text-xs text-zinc-500"> </span> <div class="flex items-center rounded-lg bg-zinc-800/50 p-1"><button aria-label="List View"><!></button> <button aria-label="Gantt View"><!></button></div></div></div> <!>',1),pa=m('<!> <section class="space-y-6"><div class="flex flex-wrap items-center justify-between gap-4"><h2 class="text-lg font-bold text-zinc-100">Projects</h2> <!></div> <!></section>',1);function Da(ae,d){mt(d,!0);const s={0:"Not Started",1:"In Progress",2:"Postponed",3:"Completed",4:"Cancelled"};let N=Z(null),A=Z(!0),U=Z(bt([])),z=Z(!1),E=Z(null),re=Z("list"),K=Z("date"),b=Z("desc"),$=xe(()=>[...e(U)].sort((r,o)=>{const v=e(b)==="asc"?1:-1;if(e(K)==="name")return r.name.localeCompare(o.name)*v;if(e(K)==="date"){const u=new Date(r.created_at).getTime(),x=new Date(o.created_at).getTime();return(u-x)*v}else if(e(K)==="progress")return((r.percentage||0)-(o.percentage||0))*v;return 0})),qe=xe(()=>e($).filter(r=>r.status!==3&&r.status!==4)),de=xe(()=>e($).filter(r=>r.status===3||r.status===4)),ye=xe(()=>e(U).filter(r=>r.status===3).length),S=xe(()=>{const r=e($).filter(_=>_.start_at&&_.end_at);if(r.length===0){const _=new Date;return{start:new Date(_.getFullYear(),0,1),end:new Date(_.getFullYear(),11,31),projects:[],months:[]}}const o=r.flatMap(_=>[new Date(_.start_at),new Date(_.end_at)]),v=new Date(Math.min(...o.map(_=>_.getTime()))),u=new Date(Math.max(...o.map(_=>_.getTime()))),x=new Date(v);x.setDate(x.getDate()-7);const y=new Date(u);y.setDate(y.getDate()+7);const T=[],F=new Date(x);for(F.setDate(1);F<=y;)T.push(new Date(F)),F.setMonth(F.getMonth()+1);return T.length===0&&T.push(new Date(x.getFullYear(),x.getMonth(),1)),{start:x,end:y,projects:r,months:T}});function Re(r,o,v){if(!r.start_at||!r.end_at)return"";const u=v.getTime()-o.getTime(),x=new Date(r.start_at).getTime(),y=new Date(r.end_at).getTime(),T=(x-o.getTime())/u*100,F=(y-x)/u*100;return`left: ${Math.max(0,T)}%; width: ${Math.min(100,F)}%;`}function ke(r){e(K)===r?p(b,e(b)==="asc"?"desc":"asc",!0):(p(K,r,!0),p(b,"asc"))}Ot(()=>{we.auth.getSession().then(({data:{session:o}})=>{p(N,o,!0),o?J():p(A,!1)});const{data:{subscription:r}}=we.auth.onAuthStateChange((o,v)=>{p(N,v,!0),v?J():p(A,!1)});return()=>r.unsubscribe()});async function J(){p(A,!0);const{data:r,error:o}=await we.from("projects").select("*").order("created_at",{ascending:!1});!o&&r?p(U,r,!0):o&&console.error("Error fetching projects:",o),p(A,!1)}function Ve(){p(E,null),p(z,!0)}function De(r){p(E,r,!0),p(z,!0)}async function Ye(r){if(!await Wt("Are you sure you want to delete this project?","Delete Project",{confirmText:"Delete",isDestructive:!0}))return;const{error:v}=await we.from("projects").delete().eq("id",r);v?(console.error("Error deleting project:",v),he("Error deleting: "+v.message,"Error")):(he("Project deleted successfully!","Success"),J())}async function Se(r){const{id:o,...v}=r;if(e(E)){const{error:u}=await we.from("projects").update(v).eq("id",e(E).id);u?(console.error("Error updating project:",u),he("Error updating: "+u.message,"Error")):(he("Project updated successfully!","Success"),p(z,!1),J())}else{const{error:u}=await we.from("projects").insert(v);u?(console.error("Error saving project:",u),he("Error saving: "+u.message,"Error")):(he("Project saved successfully!","Success"),p(z,!1),J())}}const Me=r=>r===null?"—":`€${r}`,ce=r=>r?new Date(r).toLocaleDateString():"—",Te=r=>s[r]??"Unknown",Pe=r=>{switch(r){case 1:return"bg-amber-500/10 text-amber-400";case 2:return"bg-purple-500/10 text-purple-400";case 3:return"bg-emerald-500/10 text-emerald-400";case 4:return"bg-red-500/10 text-red-400";default:return"bg-zinc-800 text-zinc-400"}};var ve=pa(),ue=q(ve);Rt(ue,{get isOpen(){return e(z)},get entry(){return e(E)},onClose:()=>p(z,!1),onSave:Se});var Ce=n(ue,2),ge=a(Ce),Ge=n(a(ge),2);{var je=r=>{var o=Xt();o.__click=Ve;var v=a(o);qt(v,{class:"h-6 w-6"}),t(o),j(u=>te(o,`background-color: ${u??""}`),[()=>We.getAccentHex()]),c(r,o)};D(Ge,r=>{e(N)&&!e(z)&&!Bt.isOpen&&r(je)})}t(ge);var Ee=n(ge,2);{var Le=r=>{var o=Zt(),v=a(o);Vt(v,{class:"h-6 w-6 animate-spin text-indigo-400"}),t(o),c(r,o)},Xe=r=>{var o=le(),v=q(o);{var u=y=>{var T=ea();c(y,T)},x=y=>{var T=le(),F=q(T);{var _=Q=>{var ne=ta();c(Q,ne)},Ne=Q=>{var ne=fa(),fe=q(ne),pe=a(fe),Ue=n(a(pe),2);oe(Ue,16,()=>["name","date","progress"],ie,(ee,I)=>{var B=aa();B.__click=()=>ke(I);var H=a(B),se=a(H,!0);t(H);var me=n(H,2);{var L=i=>{var h=le(),V=q(h);{var w=g=>{Yt(g,{class:"h-3 w-3"})},f=g=>{Gt(g,{class:"h-3 w-3"})};D(V,g=>{e(b)==="asc"?g(w):g(f,!1)})}c(i,h)};D(me,i=>{e(K)===I&&i(L)})}t(B),j(()=>{k(B,1,`flex items-center gap-1 rounded-md px-3 py-1.5 transition-colors ${e(K)===I?"bg-indigo-500/20 text-indigo-300":"bg-zinc-800/50 text-zinc-400 hover:bg-zinc-800"}`),M(se,I)}),c(ee,B)}),t(pe);var Ke=n(pe,2),l=a(Ke),R=a(l);t(l);var O=n(l,2),X=a(O);X.__click=()=>p(re,"list");var $e=a(X);Kt($e,{class:"h-4 w-4"}),t(X);var Je=n(X,2);Je.__click=()=>p(re,"gantt");var kt=a(Je);Ut(kt,{class:"h-4 w-4"}),t(Je),t(O),t(Ke),t(fe);var Dt=n(fe,2);{var St=ee=>{var I=la();const B=(L,i=ft,h=ft)=>{var V=oa(),w=a(V),f=a(w),g=a(f),W=a(g,!0);t(g);var Y=n(g,2);{var be=P=>{var C=ra(),G=a(C,!0);t(C),j(()=>{k(C,1,`text-sm ${h()?"text-zinc-600":"text-zinc-400"}`),M(G,i().description)}),c(P,C)};D(Y,P=>{i().description&&P(be)})}var _e=n(Y,2);{var Ze=P=>{const C=xe(()=>We.getProjectType(i().type));var G=le(),Oe=q(G);{var Ie=Be=>{var st=na(),ot=a(st),Nt=a(ot,!0);t(ot),t(st),j(()=>{k(ot,1,`font-medium ${h()?"text-zinc-600":"text-zinc-400"}`),M(Nt,e(C).label)}),c(Be,st)};D(Oe,Be=>{e(C)&&Be(Ie)})}c(P,G)};D(_e,P=>{i().type&&P(Ze)})}t(f);var Qe=n(f,2),Ae=a(Qe),Fe=a(Ae),Tt=a(Fe,!0);t(Fe),t(Ae);var et=n(Ae,2),it=a(et),tt=n(it,2),Pt=a(tt);t(tt),t(et);var lt=n(et,2),dt=a(lt);let ct;t(lt),t(Qe),t(w);var vt=n(w,2),at=a(vt),rt=a(at),nt=n(a(rt),2),Ct=a(nt,!0);t(nt),t(rt);var jt=n(rt,2);{var Et=P=>{var C=sa(),G=n(a(C),2),Oe=a(G);t(G),t(C),j((Ie,Be)=>{k(G,1,`text-sm ${h()?"text-zinc-500":"text-zinc-300"}`),M(Oe,`${Ie??""} - ${Be??""}`)},[()=>ce(i().start_at),()=>ce(i().end_at)]),c(P,C)};D(jt,P=>{(i().start_at||i().end_at)&&P(Et)})}t(at);var ut=n(at,2),gt=a(ut);gt.__click=()=>De(i());var Lt=n(gt,2);Lt.__click=()=>Ye(i().id),t(ut),t(vt),t(V),j((P,C,G,Oe,Ie)=>{k(V,1,`group relative flex flex-col gap-4 rounded-lg border p-4 transition-all ${h()?"border-zinc-800/60 bg-zinc-900/30 text-zinc-500 hover:border-zinc-700/60 hover:bg-zinc-900/40":"border-zinc-800 bg-zinc-900/60 hover:border-zinc-700 hover:bg-zinc-900/80"}`),k(g,1,`truncate text-base font-bold ${h()?"text-zinc-500":"text-zinc-100"}`),Ht(g,"title",i().name),M(W,i().name),k(Fe,1,P),M(Tt,C),k(it,1,`text-xs font-medium ${h()?"text-zinc-600":"text-zinc-400"}`),k(tt,1,`text-xs ${h()?"text-zinc-600":"text-zinc-500"}`),M(Pt,`${(i().percentage||0)??""}%`),k(dt,1,`h-full rounded-full transition-all duration-500 ${G??""}`),ct=te(dt,"",ct,Oe),k(nt,1,`text-sm font-medium ${h()?"text-zinc-500":"text-emerald-400"}`),M(Ct,Ie)},[()=>`rounded-full px-2 py-0.5 text-xs ${Pe(i().status)}`,()=>Te(i().status),()=>i().colour&&!i().colour.startsWith("#")?i().colour:"",()=>({width:`${(i().percentage||0)??""}%`,"background-color":i().colour&&i().colour.startsWith("#")?i().colour:"",opacity:h()?.5:1}),()=>Me(i().funds)]),c(L,V)};var H=q(I);oe(H,21,()=>e(qe),ie,(L,i)=>{B(L,()=>e(i),()=>!1)}),t(H);var se=n(H,2);{var me=L=>{var i=ia(),h=n(q(i),2);oe(h,21,()=>e(de),ie,(V,w)=>{B(V,()=>e(w),()=>!0)}),t(h),c(L,i)};D(se,L=>{e(de).length>0&&L(me)})}c(ee,I)},Mt=ee=>{var I=ga(),B=a(I),H=a(B);oe(H,21,()=>e(S).months,ie,(w,f)=>{var g=da();let W;j(Y=>W=te(g,"",W,Y),[()=>({left:`${(e(f).getTime()-e(S).start.getTime())/(e(S).end.getTime()-e(S).start.getTime())*100}%`})]),c(w,g)}),t(H);var se=n(H,2),me=a(se);oe(me,21,()=>e(S).months,ie,(w,f)=>{var g=ca();let W;var Y=a(g,!0);t(g),j((be,_e)=>{W=te(g,"",W,be),M(Y,_e)},[()=>({left:`${(e(f).getTime()-e(S).start.getTime())/(e(S).end.getTime()-e(S).start.getTime())*100}%`}),()=>e(f).toLocaleDateString("en-US",{month:"long"})]),c(w,g)}),t(me),t(se);var L=n(se,2),i=a(L);oe(i,17,()=>e(S).projects,ie,(w,f)=>{var g=va(),W=a(g),Y=a(W);let be;var _e=n(Y,2),Ze=a(_e,!0);t(_e),t(W),t(g),j((Qe,Ae,Fe)=>{te(W,Qe),k(Y,1,`h-2 w-full rounded-full shadow-sm transition-all hover:brightness-110 ${Ae??""}`),be=te(Y,"",be,Fe),M(Ze,e(f).name)},[()=>Re(e(f),e(S).start,e(S).end),()=>e(f).colour&&!e(f).colour.startsWith("#")?e(f).colour:"bg-indigo-600",()=>({"background-color":e(f).colour&&e(f).colour.startsWith("#")?e(f).colour:void 0})]),c(w,g)});var h=n(i,2);{var V=w=>{var f=ua();c(w,f)};D(h,w=>{e(S).projects.length===0&&w(V)})}t(L),t(B),t(I),c(ee,I)};D(Dt,ee=>{e(re)==="list"?ee(St):ee(Mt,!1)})}j(()=>{M(R,`Completed ${e(ye)??""} / ${e(U).length??""}`),k(X,1,`rounded-md p-1.5 transition-all ${e(re)==="list"?"bg-zinc-700 text-white shadow-sm":"text-zinc-400 hover:text-zinc-300"}`),k(Je,1,`rounded-md p-1.5 transition-all ${e(re)==="gantt"?"bg-zinc-700 text-white shadow-sm":"text-zinc-400 hover:text-zinc-300"}`)}),c(Q,ne)};D(F,Q=>{e(U).length===0?Q(_):Q(Ne,!1)},!0)}c(y,T)};D(v,y=>{e(N)?y(x,!1):y(u)},!0)}c(r,o)};D(Ee,r=>{e(A)&&e(N)!==null?r(Le):r(Xe,!1)})}t(Ce),c(ae,ve),_t()}xt(["click"]);export{Da as component};
